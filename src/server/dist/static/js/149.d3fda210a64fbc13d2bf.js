webpackJsonp([149],{U6Ea:function(a,t,e){var r=e("Ytok");"string"==typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);e("8bSs")("85ea0064",r,!0)},Ytok:function(a,t,e){(a.exports=e("BkJT")(!1)).push([a.i,"\n.type-info-bottom {\n  margin-top: 10px;\n}\n.box {\n  margin-top: 20px;\n  text-align: right;\n}\n.headerClass {\n  background: #f7f7f7 !important;\n}\n.el-date-editor.aui-input {\n  width: 100% !important;\n}\n.el-card {\n  overflow: inherit;\n}\n",""])},a3BR:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("syAl"),o=e("0oES"),n=e("0VOF"),i=(e("A8CQ"),e("AA3o")),s=e.n(i),u=function a(){s()(this,a),this.data={OperType:"Q"},this.BusiDataKey="T011210_quy",this.TransServiceCode="ib-dbcomm/dbComm"},l=e("pADA"),c={data:function(){return{taskStatusList:[{name:"作废",value:"02"},{name:"排队处理中",value:"03"},{name:"任务处理中",value:"06"},{name:"任务通过",value:"07"},{name:"任务不通过",value:"08"},{name:"交易成功",value:"09"},{name:"临时状态",value:"99"}],Status2C:{"02":"02-作废","03":"03-排队处理中","06":"06-任务处理中","07":"07-任务通过","08":"08-任务不通过","09":"09-交易成功",99:"99-临时状态"},Tp:{A2:"A2-远程异步授权",A3:"A3-异终端",A4:"A4-远程同步授权",C:"C-复核",JZ:"JZ-集中授权"},total:0,loading:!1,tableData:[],tableTotal:0,currentPage:1,pageSize:r.a.get("PageSize"),branchNum:[],queryForm:{},currentRow:[]}},created:function(){this.queryBranchNum(),this.query()},methods:{queryBranchNum:function(){var a=this;this.loading=!0;var t=new n.a;t.data.orgno=this.$store.getters.BranchNum,Object(o.a)(t).then(function(t){a.loading=!1,a.branchNum=t.RspInfo.Result||[],a.permission=l.a.objArray2Hash(a.branchNum,"orgno"),a.brnoMap=t.RspInfo.orgMap||{}}).catch(function(t){a.loading=!1,a.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage}),console.error("查询错误",t)})},clearForm:function(){this.$refs.queryForm.resetFields()},dataFormat:function(a,t){return"Status2C"==t.property?this.Status2C[a[t.property]]:"Tp"==t.property?this.Tp[a[t.property]]:void 0},query:function(){var a=this;this.loading=!0;var t=new u;t.data.AhrTaskNum=this.queryForm.taskNum,t.data.Status1C=this.queryForm.taskStatus,t.data.Dt=this.queryForm.Time,t.data.Tlr1=this.queryForm.user,t.data.BrahNum1C=this.queryForm.branchNum,t.data.PageSize=this.pageSize+"",t.data.CurtPage=this.currentPage+"",t.data.StartRows=(this.currentPage-1)*this.pageSize+"",Object(o.a)(t).then(function(t){a.loading=!1,a.tableData=t.RspInfo.Result||[],a.total=t.RspInfo.totalNum}).catch(function(t){a.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage}),a.loading=!1,console.log(t)})},selectList:function(a){this.currentRow=a},handleCurrentChange:function(a){this.currentPage=a,this.query()}}},m={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"by-trade-type",attrs:{"element-loading-text":"加载中。。。"}},[e("div",[e("aui-card",{staticClass:"type-info-box-card"},[e("aui-form",{ref:"queryForm",attrs:{model:a.queryForm,size:"mini","label-position":"top"}},[e("aui-row",{attrs:{gutter:10}},[e("aui-col",{attrs:{md:6,lg:4}},[e("aui-form-item",{attrs:{label:"任务号",prop:"taskNum"}},[e("aui-input",{attrs:{placeholder:"请输入任务号"},model:{value:a.queryForm.taskNum,callback:function(t){a.$set(a.queryForm,"taskNum",t)},expression:"queryForm.taskNum"}})],1)],1),a._v(" "),e("aui-col",{attrs:{md:6,lg:4}},[e("aui-form-item",{attrs:{label:"任务状态",prop:"taskStatus"}},[e("aui-select",{attrs:{placeholder:"请选择任务状态"},model:{value:a.queryForm.taskStatus,callback:function(t){a.$set(a.queryForm,"taskStatus",t)},expression:"queryForm.taskStatus"}},a._l(a.taskStatusList,function(a){return e("aui-option",{key:a.value,attrs:{label:a.value+"-"+a.name,value:a.value}})}))],1)],1),a._v(" "),e("aui-col",{attrs:{md:6,lg:4}},[e("aui-form-item",{attrs:{label:"经办用户",prop:"user"}},[e("aui-input",{attrs:{placeholder:"请输入经办用户"},model:{value:a.queryForm.user,callback:function(t){a.$set(a.queryForm,"user",t)},expression:"queryForm.user"}})],1)],1),a._v(" "),e("aui-col",{attrs:{md:6,lg:4}},[e("aui-form-item",{attrs:{label:"交易日期",prop:"Time"}},[e("aui-date-picker",{attrs:{"value-format":"yyyyMMdd",type:"date",placeholder:"选择日期"},model:{value:a.queryForm.Time,callback:function(t){a.$set(a.queryForm,"Time",t)},expression:"queryForm.Time"}})],1)],1),a._v(" "),e("aui-col",{attrs:{lg:4,md:6}},[e("aui-form-item",{attrs:{label:"发起机构",prop:"branchNum"}},[e("aui-select",{attrs:{filterable:"",placeholder:"请选择机构"},model:{value:a.queryForm.branchNum,callback:function(t){a.$set(a.queryForm,"branchNum",t)},expression:"queryForm.branchNum"}},a._l(a.branchNum,function(a){return e("aui-option",{key:a.orgno,attrs:{label:a.cname,value:a.orgno,disabled:a.disabled}})}))],1)],1),a._v(" "),e("aui-col",{staticClass:"searchBtnMarginTop",attrs:{md:3,lg:2}},[e("aui-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:a.query}},[a._v("查询")])],1),a._v(" "),e("aui-col",{staticClass:"searchBtnMarginTop",attrs:{md:3,lg:2}},[e("aui-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-refresh"},on:{click:a.clearForm}},[a._v("重置")])],1)],1)],1)],1),a._v(" "),e("aui-card",{staticClass:"type-info-bottom"},[e("aui-table",{ref:"tableData",staticClass:"tableMarginTop",attrs:{data:a.tableData,"header-row-class-name":"tableHeaderClass",border:""}},[e("aui-table-column",{attrs:{prop:"Code",label:"任务号",width:"235px"}}),a._v(" "),e("aui-table-column",{attrs:{prop:"Flow",label:"前端流水号",width:"230px"}}),a._v(" "),e("aui-table-column",{attrs:{prop:"TranCode",label:"菜单码"}}),a._v(" "),e("aui-table-column",{attrs:{prop:"TranNm",label:"交易名称"}}),a._v(" "),e("aui-table-column",{attrs:{prop:"Tlr",label:"经办用户"}}),a._v(" "),e("aui-table-column",{attrs:{prop:"TranTime",label:"交易日期"}}),a._v(" "),e("aui-table-column",{attrs:{prop:"Tp",label:"任务类型",formatter:a.dataFormat,width:"150px"}}),a._v(" "),e("aui-table-column",{attrs:{prop:"Status2C",label:"任务状态",formatter:a.dataFormat,width:"120px"}}),a._v(" "),e("aui-table-column",{attrs:{prop:"Opr",label:"当前处理人"}})],1),a._v(" "),e("div",{staticClass:"box"},[e("aui-pagination",{attrs:{background:"","current-page":a.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:a.total},on:{"current-change":a.handleCurrentChange,"update:currentPage":function(t){a.currentPage=t}}})],1)],1)],1)])},staticRenderFns:[]};var p=e("/Xao")(c,m,!1,function(a){e("U6Ea")},null,null);t.default=p.exports}});