webpackJsonp([10],{"1fTz":function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,'\n.selectTree[data-v-9df70d22] {\n  min-width: 150px;\n}\n.text[data-v-9df70d22] {\n  font-size: 14px;\n}\n.item[data-v-9df70d22] {\n  margin-bottom: 18px;\n}\n.dialog-text[data-v-9df70d22] {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: red;\n}\n.clearfix[data-v-9df70d22]:before,\n.clearfix[data-v-9df70d22]:after {\n  display: table;\n  content: "";\n}\n.clearfix[data-v-9df70d22]:after {\n  clear: both;\n}\n.aui-card[data-v-9df70d22] {\n  width: 100%;\n}\n.aui-form-item[data-v-9df70d22] {\n  margin-left: 30px;\n}\n.aui-form-item1[data-v-9df70d22] {\n  margin-left: 10px;\n}\n.box2-button[data-v-9df70d22] {\n  width: 80px;\n}\n.aui-card[data-v-9df70d22] {\n  overflow: inherit;\n}\n',""])},"2UKG":function(e,t,a){"use strict";var i=a("AA3o"),n=a.n(i);t.a=function e(){n()(this,e),this.data={BusiOper:"Q",AppNum:"",RoleNum:""},this.BusiDataKey="QueryMutualExclRole",this.TransServiceCode="ib-dbcomm/dbComm"}},H1ax:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"/* .dialog {\n  padding: 15px;\n  height: 600px;\n} */\n.content[data-v-d056c966] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.require[data-v-d056c966] {\n  color: red;\n}\n.dialog-text[data-v-d056c966] {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: red;\n  font-size: 18px;\n}\n.role[data-v-d056c966] {\n  width: 95%;\n  border: 1px solid #eee;\n  border-radius: 4px;\n  height: 290px;\n}\n.role .roleHeader[data-v-d056c966] {\n    color: #606266;\n    font-weight: 500;\n    font-size: 14px;\n    background: #f5f7fa;\n    height: 42px;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    padding: 9px;\n    overflow-y: auto;\n}\n.aui-card[data-v-d056c966] {\n  overflow: inherit;\n}\n",""])},JQ36:function(e,t,a){var i=a("rsZ6");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("8d10f75a",i,!0)},KYrD:function(e,t,a){var i=a("rC98");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("5ca2985b",i,!0)},Nobm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("tzsN"),n=a("0oES"),r=a("fCv1"),o=(a("2TkI"),a("0VOF"),a("YqgK"),a("pADA")),s=a("AA3o"),l=a.n(s),u=function e(){l()(this,e),this.data={BusiOper:"Q",AppNum:""},this.BusiDataKey="QueryMaxRoleId",this.TransServiceCode="ib-dbcomm/dbComm"},c=function e(){l()(this,e),this.data={OperType:"A",AppNum:"",RoleNum:"",RoleName:"",RoleClass:"",LegalPersonNum:"",LegalPersonName:"",MutualExclRole:"",EffeDate:"",ExpiDate:"",SortNum:"",RoleStatus:""},this.CommCode="IBUserPermissionsManagement",this.SceneCode="RoleInfoMaint",this.TransServiceCode="mg-afaservices-upm/roleInfoMaint"},p=a("qfSh"),m=a("syAl"),d=a("2UKG"),f={name:"create-user",data:function(){return{pickerEffeDate:r.b,innerVisible:!1,loading:!1,RoleList:[{name:"01-岗位",value:"01"}],RoleStatusList:[{name:"0-停用",value:"0"},{name:"1-启用",value:"1"}],checkList:[],treeList:[],appList:[],form:{appId:"",roleNum:"",RoleName:"",RoleClass:"",LegalPersonNum:"",LegalPersonName:"",MutualExclRole:[],EffeDate:"",ExpiDate:"",SortNum:"1",RoleStatus:"1",checked:[]},rules:{appId:[{required:!0,message:"请选择应用编号",trigger:"change"}],RoleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{require:!0,validator:Object(r.h)(30),trigger:"blur"}],roleNum:[{required:!0,message:"请输入角色编号",trigger:"change"}],RoleClass:[{required:!0,message:"请输入角色分类",trigger:"change"}],EffeDate:[{required:!0,message:"请选择生效日期",trigger:"blur"}],ExpiDate:[{required:!0,message:"请选择失效日期",trigger:"blur"}],SortNum:[{required:!0,message:"请选择排序号",trigger:"blur"}],RoleStatus:[{required:!0,message:"请选择角色状态",trigger:"change"}]}}},props:{option:Object},components:{selectTree:i.a},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}}},created:function(){},methods:{dateChange:function(){this.form.ExpiDate&&this.form.EffeDate&&this.form.EffeDate>this.form.ExpiDate&&(this.$aui.message.show({type:"warning",message:"生效日期不能大于失效日期"}),this.form.EffeDate="")},dateChange1:function(){this.form.EffeDate&&this.form.ExpiDate&&this.form.EffeDate>this.form.ExpiDate&&(this.$aui.message.show({type:"warning",message:"生效日期不能大于失效日期"}),this.form.ExpiDate="")},initDate:function(){var e=this;this.loading=!0;var t=new p.a;t.data.UserNum=this.$store.getters.UserNum,Object(n.a)(t).then(function(t){e.loading=!1,e.appList=t.RspInfo.Result}).catch(function(t){e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage}),e.loading=!1})},handleChange1:function(e){console.log(e)},confirm:function(){console.log(this.form.checkList),this.form.MutualExclRole=this.checkList,this.innerVisible=!1},appId:function(){var e=this;this.loading=!0;var t=new u;t.data.AppNum=this.form.appId,Object(n.a)(t).then(function(t){e.loading=!1,e.form.roleNum=t.RspInfo.Result[0].ROLENUM,e.tree()}).catch(function(t){e.$aui.message.show({type:"success",message:t.SYS_HEAD.ReturnMessage+"!"}),e.loading=!1})},openCreate:function(){this.loading=!0,this.initDate(),this.$refs.form&&this.$refs.form.clearValidate(),this.loading=!1,this.form.LegalPersonNum=this.$store.getters.LegalPersonNum,this.form.LegalPersonName=this.$store.getters.LegalPersonName,this.postStatus=m.a.get("postStatus")},diaclick:function(){console.log(121222),this.tree()},tree:function(){var e=this;this.loading=!0;var t=new d.a;t.data.AppNum=this.form.appId,t.data.RoleNum=this.form.roleNum,Object(n.a)(t).then(function(t){e.treeList=t.RspInfo.Result,e.loading=!1}).catch(function(t){e.loading=!1})},cancleUserMod:function(){this.isShow=!1,this.$refs.form.clearValidate()},closeUser:function(){void 0!=this.$refs.form&&(this.$refs.form.resetFields(),this.$refs.form.clearValidate()),this.$emit("refreshTable")},addUser:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return e.$aui.message.show({type:"warning",message:"请输入合法的数据！"}),!1;e.loading=!0;var a=new c;a.data.AppNum=e.form.appId,a.data.RoleNum=e.form.roleNum,a.data.RoleName=e.form.RoleName,a.data.RoleClass=e.form.RoleClass,a.data.LegalPersonNum=e.form.LegalPersonNum,a.data.LegalPersonName=e.form.LegalPersonName,a.data.MutualExclRole=e.form.MutualExclRole.join(","),a.data.EffeDate=e.form.EffeDate,a.data.ExpiDate=e.form.ExpiDate,a.data.SortNum=e.form.SortNum,a.data.RoleStatus=e.form.RoleStatus,Object(n.a)(a).then(function(t){e.isShow=!1,e.$aui.message.show({type:"success",message:"角色新增成功!"}).catch(function(){e.isShow=!1,e.$refs.form.clearValidate(),e.$refs.form.resetFields()}),e.isShow=!1}).catch(function(t){e.$aui.message.show({type:"error",message:"角色新增失败!"+t.SYS_HEAD.ReturnMessage}),e.loading=!1})})}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{title:"新增角色",visible:e.isShow,width:"890px","close-on-click-modal":!1,center:""},on:{hide:e.closeUser,"update:visible":function(t){e.isShow=t},show:e.openCreate}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"content"},[a("aui-card",[a("aui-form",{ref:"form",attrs:{size:"mini",model:e.form,rules:e.rules,"label-width":"120px","label-position":"right"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"appId",label:"应用编号"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择应用编号",size:"mini"},on:{change:e.appId},model:{value:e.form.appId,callback:function(t){e.$set(e.form,"appId",t)},expression:"form.appId"}},e._l(e.appList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.AppNum+"-"+e.AppName,value:e.AppNum}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"roleNum",label:"角色编号"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.form.roleNum,callback:function(t){e.$set(e.form,"roleNum",t)},expression:"form.roleNum"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"RoleName",label:"角色名称"}},[a("aui-input",{attrs:{placeholder:""},model:{value:e.form.RoleName,callback:function(t){e.$set(e.form,"RoleName",t)},expression:"form.RoleName"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"RoleClass",label:"角色分类"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择角色分类"},model:{value:e.form.RoleClass,callback:function(t){e.$set(e.form,"RoleClass",t)},expression:"form.RoleClass"}},e._l(e.RoleList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"LegalPersonNum",label:"法人号"}},[a("aui-input",{attrs:{placeholder:"",disabled:!0},model:{value:e.form.LegalPersonNum,callback:function(t){e.$set(e.form,"LegalPersonNum",t)},expression:"form.LegalPersonNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"LegalPersonName",label:"法人名称"}},[a("aui-input",{attrs:{placeholder:"",disabled:!0},model:{value:e.form.LegalPersonName,callback:function(t){e.$set(e.form,"LegalPersonName",t)},expression:"form.LegalPersonName"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"MutualExclRole",label:"互斥角色"}},[a("aui-select",{attrs:{multiple:"",placeholder:"请选择互斥角色"},model:{value:e.form.MutualExclRole,callback:function(t){e.$set(e.form,"MutualExclRole",t)},expression:"form.MutualExclRole"}},e._l(e.treeList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.name,value:e.id,disabled:e.disabled}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"EffeDate",label:"生效日期"}},[a("aui-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!1,"value-format":"yyyyMMdd",type:"date","picker-options":e.pickerEffeDate,placeholder:"选择生效日期"},on:{change:e.dateChange},model:{value:e.form.EffeDate,callback:function(t){e.$set(e.form,"EffeDate",t)},expression:"form.EffeDate"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"ExpiDate",label:"失效日期"}},[a("aui-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!1,"value-format":"yyyyMMdd",type:"date",placeholder:"选择失效日期"},on:{change:e.dateChange1},model:{value:e.form.ExpiDate,callback:function(t){e.$set(e.form,"ExpiDate",t)},expression:"form.ExpiDate"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"SortNum",label:"排序号"}},[a("aui-input-number",{attrs:{min:1,max:100,label:"排序号"},on:{change:e.handleChange1},model:{value:e.form.SortNum,callback:function(t){e.$set(e.form,"SortNum",t)},expression:"form.SortNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"RoleStatus",label:"角色状态"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择角色状态"},model:{value:e.form.RoleStatus,callback:function(t){e.$set(e.form,"RoleStatus",t)},expression:"form.RoleStatus"}},e._l(e.RoleStatusList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1)],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"20px 0"}},[a("aui-button",{attrs:{size:"mini"},on:{click:e.cancleUserMod}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addUser}},[e._v("确认")])],1)],1)])])],1)},staticRenderFns:[]};var g=a("/Xao")(f,h,!1,function(e){a("hEjV")},"data-v-d056c966",null).exports,w=function e(){l()(this,e),this.data={AppNum:"",LegalPersonNum:"",RoleNum:"",OperType:"M",MenuViewNum:"",effedate:"",expidate:"",PrivLegeId:"",GroupTranList:[]},this.CommCode="IBUserPermissionsManagement",this.SceneCode="RoleTranMaint",this.TransServiceCode="mg-afaservices-upm/roleTranMaint"},b=(a("YgYY"),a("U1uS")),v=function e(){l()(this,e),this.data={LegalPersonNum:"",RoleNum:"",OperType:"Q",MenuViewNum:"",effedate:"",expidate:"",PrivLegeId:"",GroupTranList:[]},this.CommCode="IBUserPermissionsManagement",this.SceneCode="RoleTranMaint",this.TransServiceCode="mg-afaservices-upm/roleTranMaint"},D={props:{option:Object},data:function(){return{loading:!1,appQueryList:[],formInline:{},GroupTranList:[],AppNum:"",MenuViewList:[],keySearch:"",props:{label:"menuname",children:"children",id:"menunum"},pageList:[],checkPageList:[],rules:{trangroupname:[{required:!0,message:"请输入交易组名称",trigger:"blur"}]}}},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}}},methods:{openDialogInit:function(){this.appQueryList=this.option.appList,this.formInline.appnum=this.option.currentRow[0].appnum,this.formInline.trangroupnum=this.option.currentRow[0].rolenum,this.formInline.trangroupname=this.option.currentRow[0].rolename,this.formInline.legalpersonnum=this.$store.getters.LegalPersonNum,this.formInline.LegalPersonName=this.$store.getters.LegalPersonName,this.menuViewInit()},menuViewInit:function(){var e=this;this.loading=!0;var t=new b.a;t.data.AppNum=this.option.currentRow[0].appnum,Object(n.a)(t).then(function(t){e.MenuViewList=t.RspInfo.Result||[],e.formInline.MenuViewNum=e.MenuViewList[0].MenuViewNum,e.menuViewChange(e.formInline.MenuViewNum)}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage}),console.error("查询错误",t)})},tranGroupQuery:function(e){var t=this,a=new v;a.data.AppNum=this.option.currentRow[0].appnum,a.data.LegalPersonNum=this.formInline.legalpersonnum,a.data.RoleNum=this.formInline.trangroupnum,a.data.MainBranch=this.$store.getters.BranchNum,a.data.MainUser=this.$store.getters.UserNum,a.data.MenuViewNum=e,Object(n.a)(a).then(function(e){var a=e.RspInfo.pageList||[];t.pageList=o.a.formatTreeData(a,"menunum","parentmenunum");var i=[];(e.RspInfo.pageList1||[]).forEach(function(e){i.push(e.privlegeid)}),t.checkPageList=i,t.loading=!1}).catch(function(e){t.loading=!1,t.$aui.message.show({type:"warning",message:e.SYS_HEAD.ReturnMessage}),console.error("查询错误",e)})},filterNode:function(e,t){var a=this.props.id;return!e||(-1!==t[this.props.label].indexOf(e)||!!t[a]&&-1!==t[a].indexOf(e))},menuViewChange:function(e){this.tranGroupQuery(e)},handleCheckChange:function(e,t,a){},resetForm:function(){this.keySearch="",this.$refs.formInline.resetFields(),this.$refs.formInline.clearValidate()},TranGroupToTran:function(){var e=this;this.$refs.formInline.validate(function(t){if(!t)return e.$aui.message.show({type:"warning",message:"必输项不能为空"}),!1;e.loading=!0;var a=e.$refs.tree.getCheckedNodes();e.GroupTranList=[];for(var i=0;i<a.length;i++){var r=a[i];if("02"==r.menutype){var o={PrivLegeId:r.menunum};e.GroupTranList.push(o)}}var s=new w;s.data.AppNum=e.formInline.appnum,s.data.RoleNum=e.formInline.trangroupnum,s.data.MenuViewNum=e.formInline.MenuViewNum,s.data.LegalPersonNum=e.formInline.legalpersonnum,s.data.MainBranch=e.$store.getters.BranchNum,s.data.MainUser=e.$store.getters.UserNum,s.data.GroupTranList=e.GroupTranList,Object(n.a)(s).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"交易组修改成功!"}),e.isShow=!1,e.$emit("refreshBrand")}).catch(function(t){e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage}),e.loading=!1,console.log(t)})})}},watch:{keySearch:function(e){this.$refs.tree.filter(e)}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{visible:e.isShow,title:"交易分配",width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t},show:e.openDialogInit,hide:e.resetForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"formInline",attrs:{model:e.formInline,size:"mini",rules:e.rules,"label-position":"right","label-width":"125px"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"应用编号"}},[a("aui-select",{attrs:{disabled:""},model:{value:e.formInline.appnum,callback:function(t){e.$set(e.formInline,"appnum",t)},expression:"formInline.appnum"}},e._l(e.appQueryList,function(e){return a("aui-option",{key:e.AppNum,attrs:{label:e.AppNum+"-"+e.AppName,value:e.AppNum}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"菜单视图编号"}},[a("aui-select",{attrs:{placeholder:"请选择菜单视图编号"},on:{change:e.menuViewChange},model:{value:e.formInline.MenuViewNum,callback:function(t){e.$set(e.formInline,"MenuViewNum",t)},expression:"formInline.MenuViewNum"}},e._l(e.MenuViewList,function(e){return a("aui-option",{key:e.MenuViewNum,attrs:{label:e.MenuViewNum+"-"+e.MenuViewName,value:e.MenuViewNum}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"角色编号:",prop:"TranGroupNum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.trangroupnum,callback:function(t){e.$set(e.formInline,"trangroupnum",t)},expression:"formInline.trangroupnum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"角色名称:",prop:"trangroupname"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.trangroupname,callback:function(t){e.$set(e.formInline,"trangroupname",t)},expression:"formInline.trangroupname"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人号:",prop:"LegalPersonNum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.legalpersonnum,callback:function(t){e.$set(e.formInline,"legalpersonnum",t)},expression:"formInline.legalpersonnum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人名称:",prop:"LegalPersonName"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.LegalPersonName,callback:function(t){e.$set(e.formInline,"LegalPersonName",t)},expression:"formInline.LegalPersonName"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px"}},[e.pageList.length>0?a("aui-row",[a("aui-col",{attrs:{span:9}},[a("aui-input",{attrs:{size:"mini",placeholder:"输入关键字进行过滤"},model:{value:e.keySearch,callback:function(t){e.keySearch=t},expression:"keySearch"}})],1)],1):e._e(),e._v(" "),a("aui-tree",{ref:"tree",attrs:{data:e.pageList,props:e.props,"show-checkbox":"","default-checked-keys":e.checkPageList,"node-key":"menunum","filter-node-method":e.filterNode},on:{"check-change":e.handleCheckChange}})],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.TranGroupToTran}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]};var N=a("/Xao")(D,x,!1,function(e){a("JQ36")},"data-v-f4aa3c0a",null).exports,R=a("YUCW"),U=(a("O99E"),{name:"roleInfoManage",data:function(){return{pickerEffeDate:r.b,innerVisible:!1,loading:!1,RoleList:[{name:"01-岗位",value:"01"}],RoleStatusList:[{name:"0-停用",value:"0"},{name:"1-启用",value:"1"}],checkList:[],treeList:[],appList:[],newUserDate:{appId:"",userNum:"",RoleName:"",RoleClass:"",LegalPersonNum:"",LegalPersonName:"",MutualExclRole:[],EffeDate:"",ExpiDate:"",SortNum:"1",RoleStatus:"",checked:[]},rules:{RoleClass:[{required:!0,message:"请输入角色分类",trigger:"change"}],RoleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{require:!0,validator:Object(r.h)(30),trigger:"blur"}],EffeDate:[{required:!0,message:"请选择生效日期",trigger:"blur"}],ExpiDate:[{required:!0,message:"请选择失效日期",trigger:"blur"}],SortNum:[{required:!0,message:"请选择排序号",trigger:"blur"}],RoleStatus:[{required:!0,message:"请选择角色状态",trigger:"blur"}]}}},props:{optionUpdate:Object},computed:{isShow:{get:function(){return this.optionUpdate.isShow},set:function(e){this.optionUpdate.isShow=e}}},methods:{dateChange:function(){this.newUserDate.ExpiDate&&this.newUserDate.EffeDate&&this.newUserDate.EffeDate>this.newUserDate.ExpiDate&&(this.$aui.message.show({type:"warning",message:"生效日期不能大于失效日期"}),this.newUserDate.EffeDate="")},dateChange1:function(){this.newUserDate.EffeDate&&this.newUserDate.ExpiDate&&this.newUserDate.EffeDate>this.newUserDate.ExpiDate&&(this.$aui.message.show({type:"warning",message:"生效日期不能大于失效日期"}),this.newUserDate.ExpiDate="")},handleChange1:function(e){console.log(e)},tree:function(){var e=this;this.loading=!0;var t=new d.a;t.data.AppNum=this.newUserDate.appId,t.data.RoleNum=this.newUserDate.userNum,Object(n.a)(t).then(function(t){e.treeList=t.RspInfo.Result||[],e.loading=!1}).catch(function(t){e.treeList=[],e.loading=!1})},openUpdate:function(){console.log(this.optionUpdate.currentRow),this.newUserDate.appId=this.optionUpdate.currentRow[0].appnum,this.newUserDate.userNum=this.optionUpdate.currentRow[0].rolenum,this.newUserDate.RoleName=this.optionUpdate.currentRow[0].rolename,this.newUserDate.RoleClass=this.optionUpdate.currentRow[0].role_typ_cd,this.newUserDate.EffeDate=o.a.timestampToTime2(this.optionUpdate.currentRow[0].efft_dt),this.newUserDate.ExpiDate=o.a.timestampToTime2(this.optionUpdate.currentRow[0].invalid_dt),this.newUserDate.RoleStatus=this.optionUpdate.currentRow[0].rolestatus,this.optionUpdate.currentRow[0].mutex_pstn_no&&""!=this.optionUpdate.currentRow[0].mutex_pstn_no&&(this.newUserDate.MutualExclRole=this.optionUpdate.currentRow[0].mutex_pstn_no.split(",")),this.newUserDate.SortNum=this.optionUpdate.currentRow[0].qung_seq_no,this.newUserDate.LegalPersonNum=this.$store.getters.LegalPersonNum,this.newUserDate.LegalPersonName=this.$store.getters.LegalPersonName,this.tree()},cancleUserMod:function(){this.optionUpdate.isShow=!1,this.$refs.newUserDate.clearValidate()},closeUserMod:function(){this.$refs.newUserDate.clearValidate(),this.$refs.newUserDate.resetFields()},userMod:function(){var e=this;this.$refs.newUserDate.validate(function(t){if(!t)return e.$aui.message.show({type:"warning",message:"请输入合法的数据！"}),!1;e.loading=!0;var a=new R.a;a.data.AppNum=e.newUserDate.appId,a.data.RoleNum=e.newUserDate.userNum,a.data.RoleName=e.newUserDate.RoleName,a.data.RoleClass=e.newUserDate.RoleClass,a.data.LegalPersonNum=e.newUserDate.LegalPersonNum,a.data.LegalPersonName=e.newUserDate.LegalPersonName,a.data.MutualExclRole=e.newUserDate.MutualExclRole.join(","),a.data.EffeDate=e.newUserDate.EffeDate,a.data.ExpiDate=e.newUserDate.ExpiDate,a.data.SortNum=e.newUserDate.SortNum,a.data.RoleStatus=e.newUserDate.RoleStatus,Object(n.a)(a).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"用户修改成功!"}),e.isShow=!1,e.$emit("refreshTable")}).catch(function(t){e.loading=!1,e.isShow=!1,e.$aui.message.show({type:"error",message:t.SYS_HEAD.ReturnMessage})})})}}}),S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{title:"修改角色",visible:e.isShow,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t},hide:e.closeUserMod,show:e.openUpdate}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"newUserDate",attrs:{size:"mini",model:e.newUserDate,rules:e.rules,"label-width":"120px","label-position":"right"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"appId",label:"应用编号:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.appId,callback:function(t){e.$set(e.newUserDate,"appId",t)},expression:"newUserDate.appId"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"userNum",label:"角色编号:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.userNum,callback:function(t){e.$set(e.newUserDate,"userNum",t)},expression:"newUserDate.userNum"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"RoleName",label:"角色名称:"}},[a("aui-input",{model:{value:e.newUserDate.RoleName,callback:function(t){e.$set(e.newUserDate,"RoleName",t)},expression:"newUserDate.RoleName"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"RoleClass",label:"角色分类"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择角色分类"},model:{value:e.newUserDate.RoleClass,callback:function(t){e.$set(e.newUserDate,"RoleClass",t)},expression:"newUserDate.RoleClass"}},e._l(e.RoleList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"LegalPersonNum",label:"法人号:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.LegalPersonNum,callback:function(t){e.$set(e.newUserDate,"LegalPersonNum",t)},expression:"newUserDate.LegalPersonNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"LegalPersonName",label:"法人名称:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.LegalPersonName,callback:function(t){e.$set(e.newUserDate,"LegalPersonName",t)},expression:"newUserDate.LegalPersonName"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"MutualExclRole",label:"互斥角色"}},[a("aui-select",{attrs:{multiple:"",placeholder:"请选择互斥角色"},model:{value:e.newUserDate.MutualExclRole,callback:function(t){e.$set(e.newUserDate,"MutualExclRole",t)},expression:"newUserDate.MutualExclRole"}},e._l(e.treeList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.name,value:e.id,disabled:e.disabled}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"EffeDate",label:"生效日期"}},[a("aui-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!1,"value-format":"yyyyMMdd",type:"date","picker-options":e.pickerEffeDate,placeholder:"选择生效日期"},on:{change:e.dateChange},model:{value:e.newUserDate.EffeDate,callback:function(t){e.$set(e.newUserDate,"EffeDate",t)},expression:"newUserDate.EffeDate"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"ExpiDate",label:"失效日期"}},[a("aui-date-picker",{staticStyle:{width:"100%"},attrs:{editable:!1,"value-format":"yyyyMMdd",type:"date",placeholder:"选择失效日期"},on:{change:e.dateChange1},model:{value:e.newUserDate.ExpiDate,callback:function(t){e.$set(e.newUserDate,"ExpiDate",t)},expression:"newUserDate.ExpiDate"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"SortNum",label:"排序号"}},[a("aui-input-number",{attrs:{min:1,max:100,label:"排序号"},on:{change:e.handleChange1},model:{value:e.newUserDate.SortNum,callback:function(t){e.$set(e.newUserDate,"SortNum",t)},expression:"newUserDate.SortNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"RoleStatus",label:"角色状态"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择角色状态"},model:{value:e.newUserDate.RoleStatus,callback:function(t){e.$set(e.newUserDate,"RoleStatus",t)},expression:"newUserDate.RoleStatus"}},e._l(e.RoleStatusList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1)],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"20px 0"}},[a("aui-button",{attrs:{size:"mini"},on:{click:e.cancleUserMod}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.userMod}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]};var _=a("/Xao")(U,S,!1,function(e){a("ryUO")},"data-v-1fc12faa",null).exports,y={name:"roleInfoManage",data:function(){return{postStatus:{},roleclass:{},innerVisible:!1,loading:!1,newUserDate:{appId:"",userNum:"",RoleName:"",RoleClass:"",LegalPersonNum:"",LegalPersonName:"",MutualExclRole:[],EffeDate:"",ExpiDate:"",SortNum:"",rolestatus:""},treeList:[]}},props:{option:Object},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}}},methods:{handleChange1:function(e){console.log(e)},openUpdate:function(){console.log(this.option.currentRow),this.postStatus=m.a.get("postStatus"),this.roleclass=m.a.get("roleclass"),this.newUserDate.appId=this.option.currentRow[0].appnum,this.newUserDate.userNum=this.option.currentRow[0].rolenum,this.newUserDate.RoleName=this.option.currentRow[0].rolename,this.newUserDate.EffeDate=o.a.timeFormat2Date(o.a.timestampToTime2(this.option.currentRow[0].efft_dt)),this.newUserDate.ExpiDate=o.a.timeFormat2Date(o.a.timestampToTime2(this.option.currentRow[0].invalid_dt)),this.option.currentRow[0].mutex_pstn_no&&""!=this.option.currentRow[0].mutex_pstn_no&&(this.newUserDate.MutualExclRole=this.option.currentRow[0].mutex_pstn_no.split(",")),this.newUserDate.SortNum=this.option.currentRow[0].qung_seq_no,this.newUserDate.RoleClass=this.roleclass[this.option.currentRow[0].role_typ_cd],this.newUserDate.rolestatus=this.postStatus[this.option.currentRow[0].rolestatus],this.newUserDate.LegalPersonNum=this.$store.getters.LegalPersonNum,this.newUserDate.LegalPersonName=this.$store.getters.LegalPersonName,this.tree()},cancleUserMod:function(){this.option.isShow=!1,this.$refs.newUserDate.clearValidate()},closeUserMod:function(){this.$refs.newUserDate.clearValidate()},tree:function(){var e=this;this.loading=!0;var t=new d.a;t.data.AppNum=this.newUserDate.appId,t.data.RoleNum=this.newUserDate.userNum,Object(n.a)(t).then(function(t){e.treeList=t.RspInfo.Result||[],e.loading=!1}).catch(function(t){e.treeList=[],e.loading=!1})}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{title:"详细信息",visible:e.isShow,width:"880px","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t},hide:e.closeUserMod,show:e.openUpdate}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"newUserDate",attrs:{size:"mini",model:e.newUserDate,inline:"","label-width":"120px","label-position":"right"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"appId",label:"应用编号:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.appId,callback:function(t){e.$set(e.newUserDate,"appId",t)},expression:"newUserDate.appId"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"userNum",label:"角色编号:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.userNum,callback:function(t){e.$set(e.newUserDate,"userNum",t)},expression:"newUserDate.userNum"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"RoleName",label:"角色名称:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.RoleName,callback:function(t){e.$set(e.newUserDate,"RoleName",t)},expression:"newUserDate.RoleName"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"RoleClass",label:"角色分类"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.RoleClass,callback:function(t){e.$set(e.newUserDate,"RoleClass",t)},expression:"newUserDate.RoleClass"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"LegalPersonNum",label:"法人号:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.LegalPersonNum,callback:function(t){e.$set(e.newUserDate,"LegalPersonNum",t)},expression:"newUserDate.LegalPersonNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"LegalPersonName",label:"法人名称:"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.LegalPersonName,callback:function(t){e.$set(e.newUserDate,"LegalPersonName",t)},expression:"newUserDate.LegalPersonName"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"MutualExclRole",label:"互斥角色"}},[a("aui-select",{attrs:{multiple:"",placeholder:"请选择互斥角色",disabled:!0},model:{value:e.newUserDate.MutualExclRole,callback:function(t){e.$set(e.newUserDate,"MutualExclRole",t)},expression:"newUserDate.MutualExclRole"}},e._l(e.treeList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"EffeDate",label:"生效日期"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.EffeDate,callback:function(t){e.$set(e.newUserDate,"EffeDate",t)},expression:"newUserDate.EffeDate"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"ExpiDate",label:"失效日期"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.ExpiDate,callback:function(t){e.$set(e.newUserDate,"ExpiDate",t)},expression:"newUserDate.ExpiDate"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"SortNum",label:"排序号"}},[a("aui-input-number",{attrs:{label:"排序号",disabled:!0},model:{value:e.newUserDate.SortNum,callback:function(t){e.$set(e.newUserDate,"SortNum",t)},expression:"newUserDate.SortNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{prop:"rolestatus",label:"角色状态"}},[a("aui-input",{attrs:{disabled:!0},model:{value:e.newUserDate.rolestatus,callback:function(t){e.$set(e.newUserDate,"rolestatus",t)},expression:"newUserDate.rolestatus"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"20px 0"}},[a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.cancleUserMod}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]};var L=a("/Xao")(y,k,!1,function(e){a("KYrD")},"data-v-7317eb62",null).exports,E=function e(){l()(this,e),this.data={OperType:"D",AppNum:"",RoleNum:"",RoleName:""},this.CommCode="IBUserPermissionsManagement",this.SceneCode="RoleInfoMaint",this.TransServiceCode="mg-afaservices-upm/roleInfoMaint"},I=(a("ctTy"),a("AIh0"),function e(){l()(this,e),this.data={RoleId:"",OperType:"Q",AppNum:"",RoleNum:"",RoleName:"",length:"10",start:"0",draw:"1"},this.CommCode="IBUserPermissionsManagement",this.SceneCode="RoleInfoMaint",this.TransServiceCode="mg-afaservices-upm/roleInfoMaint"}),$=(a("w//a"),{name:"user-info-manage",components:{selectTree:i.a},data:function(){return{postStatus:[],appList:[],pageSize:void 0,brnoName:{},form:{appId:"",roleID:"",roleName:""},currentRow:[],currentPage:1,totalRcrdNum:0,tableData:[],dialogList:{createRoleDialog:g,tradeBindDialog:N,appOpenDialog:L,updateUser:_},dialogOptions:{isShow:!1},dialogOptionsSystem:{isShow:!1,currentRow:[]},dialogOptionsTradeBind:{isShow:!1,currentRow:[],appList:[]},dialogOptionsdelRoleUser:{isShow:!1,currentRow:[]},dialogOptionsupdateUser:{isShow:!1,currentRow:[]},loading:!1,total:0,startDialogVisible:!1,checkedUser:!1,isDisabledDel:!1,rules:{roleID:[{require:!1,validator:Object(r.h)(4),trigger:"blur"},{validator:r.j,trigger:"blur"}],roleName:[{require:!1,validator:Object(r.h)(60),trigger:"blur"}]}}},computed:{tableDataPage:function(){return this.tableData}},created:function(){this.postStatus=m.a.get("postStatus"),this.pageSize=m.a.get("PageSize"),this.initDate()},watch:{form:{handler:function(e,t){this.currentPage=1},deep:!0}},methods:{initDate:function(){var e=this;this.loading=!0;var t=new p.a;t.data.UserNum=this.$store.getters.UserNum,Object(n.a)(t).then(function(t){e.loading=!1,e.appList=t.RspInfo.Result}).catch(function(t){e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage}),e.loading=!1})},changePage:function(e){this.currentPage=e,this.checkUserList()},refreshTable:function(){this.checkUserList()},updateRole:function(){this.dialogOptionsupdateUser.isShow=!0,this.dialogOptionsupdateUser.currentRow=this.currentRow},delRole:function(){this.dialogOptionsdelRoleUser.isShow=!0,this.dialogOptionsdelRoleUser.currentRow=this.currentRow},delUser:function(){var e=this;this.$aui.confirm.show("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.userDel()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消删除"})})},dataFormat:function(e,t){if("rolestatus"==t.property)return this.postStatus[e[t.property]]},resetForm:function(e){this.$refs[""+e].resetFields()},handleCommand:function(e){"detail"==e?this.openDetail():"tradeBind"==e&&this.openTradeBind()},createRole:function(){this.dialogOptions.isShow=!0},openDetail:function(){this.dialogOptionsSystem.isShow=!0,this.dialogOptionsSystem.currentRow=this.currentRow},openTradeBind:function(){this.dialogOptionsTradeBind.isShow=!0,this.dialogOptionsTradeBind.currentRow=this.currentRow,this.dialogOptionsTradeBind.appList=this.appList},userDel:function(){var e=this;this.loading=!0;var t=new E;t.data.AppNum=this.currentRow[0].appnum,t.data.RoleNum=this.currentRow[0].rolenum,t.data.RoleName=this.currentRow[0].rolename,Object(n.a)(t).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"用户删除成功!"}),e.checkUserList()}).catch(function(t){e.$aui.message.show({type:"success",message:"用户删除失败!"}),e.loading=!1})},checkUserList:function(){var e=this;this.checkedUser=!1,this.isDisabledDel=!1,this.loading=!0;var t=new I;""===this.form.appId?t.data.UserNum=this.$store.getters.UserNum:t.data.AppNum=this.form.appId,t.data.RoleNum=this.form.roleID,t.data.RoleName=this.form.roleName,t.data.CurtPage=this.currentPage,t.data.length=this.pageSize,t.data.start=(this.currentPage-1)*this.pageSize,Object(n.a)(t).then(function(t){e.loading=!1,e.totalRcrdNum=t.RspInfo.recordsTotal?t.RspInfo.recordsTotal:0,e.tableData=t.RspInfo.pageList||[]}).catch(function(t){e.tableData=[],e.totalRcrdNum=0,e.loading=!1,e.$aui.message.show({type:"error",message:t.SYS_HEAD.ReturnMessage+"!"})})},handleCurrentChange:function(e){this.currentRow=e,e.length>1&&this.$refs.table.toggleRowSelection(e[0])}}}),M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",{staticStyle:{overflow:"visible"}},[a("aui-form",{ref:"form",attrs:{model:e.form,size:"mini","label-position":"top",rules:e.rules}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"应用编号",prop:"appId"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择应用编号"},model:{value:e.form.appId,callback:function(t){e.$set(e.form,"appId",t)},expression:"form.appId"}},e._l(e.appList,function(e){return a("aui-option",{key:e.AppNum,attrs:{label:e.AppNum+"-"+e.AppName,value:e.AppNum}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"角色编号",prop:"roleID"}},[a("aui-input",{attrs:{placeholder:"请输入角色编号"},model:{value:e.form.roleID,callback:function(t){e.$set(e.form,"roleID",t)},expression:"form.roleID"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("aui-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1)],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",icon:"aui-icon-search",loading:e.loading,size:"mini"},on:{click:e.checkUserList}},[e._v("查询")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("aui-row",{attrs:{gutter:10}},[e.btnPermission("Button_User_Add")?a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",disabled:1==e.currentRow.length,icon:"aui-icon-plus"},on:{click:e.createRole}},[e._v("新增")])],1):e._e(),e._v(" "),e.btnPermission("Button_User_Edit")?a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-edit",disabled:1!=e.currentRow.length},on:{click:e.updateRole}},[e._v("修改")])],1):e._e(),e._v(" "),e.btnPermission("Button_User_Delete")?a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"danger",size:"mini",icon:"aui-icon-delete",disabled:1!=e.currentRow.length},on:{click:e.delUser}},[e._v("删除")])],1):e._e(),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("aui-button",{attrs:{type:"primary",size:"mini",disabled:1!=e.currentRow.length}},[e._v("\n              更多操作"),a("i",{staticClass:"aui-icon-arrow-down aui-icon--right"})]),e._v(" "),a("aui-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.btnPermission("Button_User_Branch")?a("aui-dropdown-item",{attrs:{command:"detail"}},[e._v("详细查询")]):e._e(),e._v(" "),e.btnPermission("Button_User_Branch")?a("aui-dropdown-item",{attrs:{command:"tradeBind"}},[e._v("角色交易绑定")]):e._e()],1)],1)],1)],1),e._v(" "),a("aui-table",{ref:"table",staticClass:"tableMarginTop",staticStyle:{"min-height":"390px"},attrs:{data:e.tableData,border:"","highlight-current-row":"","header-row-class-name":"tableHeaderClass"},on:{"selection-change":e.handleCurrentChange}},[a("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"appnum",label:"应用编号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"rolenum",label:"角色编号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"rolename",label:"角色名称"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"rolestatus",formatter:e.dataFormat,label:"角色状态"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:this.tableData,expression:"this.tableData"}],staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{"current-page":e.currentPage,background:"","page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.totalRcrdNum},on:{"current-change":e.changePage}})],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.createRoleDialog,{tag:"component",attrs:{option:e.dialogOptions},on:{refreshTable:e.checkUserList}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.appOpenDialog,{tag:"component",attrs:{option:e.dialogOptionsSystem},on:{systemEmit:e.checkUserList}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.tradeBindDialog,{tag:"component",attrs:{option:e.dialogOptionsTradeBind},on:{systemEmit:e.checkUserList}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.updateUser,{tag:"component",attrs:{optionUpdate:e.dialogOptionsupdateUser},on:{refreshTable:e.checkUserList}})],1)],1)},staticRenderFns:[]};var P=a("/Xao")($,M,!1,function(e){a("c62Z")},"data-v-9df70d22",null);t.default=P.exports},YUCW:function(e,t,a){"use strict";var i=a("AA3o"),n=a.n(i);t.a=function e(){n()(this,e),this.data={OperType:"M",AppNum:"",RoleNum:"",RoleName:"",RoleClass:"",LegalPersonNum:"",LegalPersonName:"",MutualExclRole:"",EffeDate:"",ExpiDate:"",SortNum:"",RoleStatus:""},this.CommCode="IBUserPermissionsManagement",this.SceneCode="RoleInfoMaint",this.TransServiceCode="mg-afaservices-upm/roleInfoMaint"}},YqgK:function(e,t,a){"use strict";var i=a("AA3o");a.n(i)},c62Z:function(e,t,a){var i=a("1fTz");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("43ebb36c",i,!0)},hEjV:function(e,t,a){var i=a("H1ax");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("5577bb84",i,!0)},rC98:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.content[data-v-7317eb62] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.require[data-v-7317eb62] {\n  color: red;\n}\n.dialog-text[data-v-7317eb62] {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: red;\n  font-size: 18px;\n}\n.role[data-v-7317eb62] {\n  width: 95%;\n  border: 1px solid #eee;\n  border-radius: 4px;\n  height: 290px;\n}\n.role .roleHeader[data-v-7317eb62] {\n    color: #606266;\n    font-weight: 500;\n    font-size: 14px;\n    background: #f5f7fa;\n    height: 42px;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    padding: 9px;\n    overflow-y: auto;\n}\n.el-dialog__body[data-v-7317eb62] {\n  padding: 20px;\n  padding-top: 10px;\n}\n.aui-card[data-v-7317eb62] {\n  overflow: inherit;\n}\n",""])},rsZ6:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},ryUO:function(e,t,a){var i=a("zLZP");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("2cfe4496",i,!0)},zLZP:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.content[data-v-1fc12faa] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.require[data-v-1fc12faa] {\n  color: red;\n}\n.dialog-text[data-v-1fc12faa] {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: red;\n  font-size: 18px;\n}\n.role[data-v-1fc12faa] {\n  width: 95%;\n  border: 1px solid #eee;\n  border-radius: 4px;\n  height: 290px;\n}\n.role .roleHeader[data-v-1fc12faa] {\n    color: #606266;\n    font-weight: 500;\n    font-size: 14px;\n    background: #f5f7fa;\n    height: 42px;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    padding: 9px;\n    overflow-y: auto;\n}\n.el-dialog__body[data-v-1fc12faa] {\n  padding: 20px;\n  padding-top: 10px;\n}\n.aui-card[data-v-1fc12faa] {\n  overflow: inherit;\n}\n",""])}});