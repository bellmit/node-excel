webpackJsonp([14],{"/Zr0":function(a,e,t){(a.exports=t("BkJT")(!1)).push([a.i,"",""])},"3S5Q":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=t("a3Yh"),n=t.n(i),r=t("syAl"),s=t("0oES"),l=(t("qfSh"),t("yq/x")),u=t("VNlJ"),c=t("k4m6"),d=t("VcKm"),m=t("6Zus"),h={name:"maintainModeCond",mixins:[],validators:{},props:{isDialog:{default:!1}},components:{},data:function(){return{currentPage:1,pageSize:r.a.get("PageSize"),total:0,queryForm:{authDesc:"",remark:""},rules:{},modeTableData:[],conditionTableData:[],selectedMode:[],dialogList:{authModeDialog:l.a,authConditionDialog:u.a},authModeDialogOptions:{isShow:!1},authConditionDialogOptions:{isShow:!1},multipleSelection:[]}},create:function(){},computed:{},watch:{},methods:(o={query:function(){var a=this;if(this.queryForm.authDesc||this.queryForm.remark){var e=new m.a;e.data.REQTYPE="Mode",e.data.REMRK_1=this.queryForm.remark,e.data.AUTH_DESCR=this.queryForm.authDesc,e.data.currpage=this.currentPage,e.data.pagerownum=this.pageSize,e.data.pageflag=4,Object(s.a)(e).then(function(e){a.modeTableData=e.RspInfo.AuthMode||[],a.total=e.RspInfo.RecordNum||0}).catch(function(e){a.modeTableData=[],a.total=0,a.$aui.message.show({type:"error",message:"错误信息："+e.SYS_HEAD.ReturnMessage})})}else this.$aui.message.show({type:"warning",message:"授权原因或模式说明至少输入一项!"})},clearForm:function(){this.$refs.queryForm.resetFields()},dataFormat:function(a,e){return"1"==a[e.property]?"1-本地授权":"2"==a[e.property]?"2-远程授权":"3"==a[e.property]?"3-异终端授权":void 0},addMode:function(){this.authModeDialogOptions.isShow=!0,this.authModeDialogOptions.type="add"},editMode:function(a,e){this.authModeDialogOptions.isShow=!0,this.authModeDialogOptions.type="edit",this.authModeDialogOptions.rowdata=e},delMode:function(a,e){var t=this;this.$aui.confirm.show("是否确认删除该模式!","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var o=new d.a;o.data.REQTYPE="D",o.data.MODE_NO=e.MODE_NO,Object(s.a)(o).then(function(e){t.modeTableData.splice(a,1)}).catch(function(a){console.log(a),t.$aui.message.show({type:"error",message:"错误信息："+a.SYS_HEAD.ReturnMessage})})}).catch(function(){})},handleEditCond:function(a,e){this.$refs.condEditRef.showEdit(e)},delCondition:function(a,e){var t=this;this.$aui.confirm.show("是否确认删除该模式!","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var o=new c.a;o.data.REQTYPE="D",o.data.OPRTN_COND_NO=e.OPRTN_COND_NO,o.data.DICTRY_NM=e.DICTRY_NM,o.data.OPER_SYM_1=e.OPER_SYM_1,o.data.TRAN_CD=e.TRAN_CD,Object(s.a)(o).then(function(e){t.conditionTableData.splice(a,1)}).catch(function(a){console.log(a),t.$aui.message.show({type:"error",message:"错误信息："+a.SYS_HEAD.ReturnMessage})})}).catch(function(){})},cancle:function(){this.$emit("cancle")},getCondModeData:function(){var a={conditionTableData:[],modeTableData:[]};return a.modeTableData=this.multipleSelection,a.conditionTableData=[],a},returnModeInfo:function(a,e){if("edit"==e){var t=this.modeTableData.findIndex(function(e){return e.MODE_NO==a.MODE_NO});this.modeTableData.splice(t,1,a)}else this.modeTableData.push(a)},addCondition:function(a){this.authConditionDialogOptions.isShow=!0,this.authConditionDialogOptions.type="add",this.authConditionDialogOptions.rowdata=a,this.authConditionDialogOptions.tranCode=this.conditionTableData.TRAN_CD}},n()(o,"delCondition",function(a,e){var t=this;this.$aui.confirm.show("是否确认删除该模式!","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var o=new c.a;o.data.REQTYPE="D",o.data.OPRTN_COND_NO=e.OPRTN_COND_NO,o.data.DICTRY_NM=e.DICTRY_NM,o.data.OPER_SYM_1=e.OPER_SYM_1,o.data.TRAN_CD=e.TRAN_CD,Object(s.a)(o).then(function(e){t.conditionTableData.splice(a,1)}).catch(function(a){console.log(a),t.$aui.message.show({type:"error",message:"错误信息："+a.SYS_HEAD.ReturnMessage})})}).catch(function(){})}),n()(o,"returnConditionInfo",function(a,e){if("edit"==e){var t=this.conditionTableData.findIndex(function(e){return e.OPRTN_COND_NO==a.OPRTN_COND_NO});this.conditionTableData.splice(t,1,a)}else this.conditionTableData.push(a)}),n()(o,"handleCurrentChange",function(a){this.currentPage=a,this.query()}),n()(o,"rowClick",function(a,e,t,o){var i=this;this.selectedMode.shift(),this.selectedMode.push(a);var n=new m.a;n.data.REQTYPE="Cond",n.data.MODE_NO=a.MODE_NO,Object(s.a)(n).then(function(a){i.conditionTableData=a.RspInfo.AuthCond||[]}).catch(function(a){i.$aui.message.show({type:"error",message:"错误信息："+a.SYS_HEAD.ReturnMessage})})}),n()(o,"handleSelectionChange",function(a){this.multipleSelection=a}),n()(o,"resetData",function(){this.modeTableData=[],this.conditionTableData=[],this.queryForm.authDesc="",this.queryForm.remark="",this.total=0,this.currentPage=1}),o),mounted:function(){},beforeDestroy:function(){}},p={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"maintain-mode-cond"},[t("aui-card",{staticClass:"type-info-box-card"},[t("aui-form",{ref:"queryForm",attrs:{model:a.queryForm,rules:a.rules,size:"mini","label-position":"top"}},[t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{attrs:{label:"授权原因",prop:"authDesc"}},[t("aui-input",{attrs:{placeholder:"请输入模式编号"},model:{value:a.queryForm.authDesc,callback:function(e){a.$set(a.queryForm,"authDesc",e)},expression:"queryForm.authDesc"}})],1)],1),a._v(" "),t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{attrs:{label:"模式说明",prop:"remark"}},[t("aui-input",{attrs:{placeholder:"请输入备注"},model:{value:a.queryForm.remark,callback:function(e){a.$set(a.queryForm,"remark",e)},expression:"queryForm.remark"}})],1)],1),a._v(" "),t("aui-col",{staticClass:"searchBtnMarginTop",attrs:{md:3,lg:2}},[t("aui-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:a.query}},[a._v("查询")])],1),a._v(" "),t("aui-col",{staticClass:"searchBtnMarginTop",attrs:{md:3,lg:2}},[t("aui-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-refresh"},on:{click:a.clearForm}},[a._v("重置")])],1)],1)],1)],1),a._v(" "),t("aui-card",{attrs:{header:"授权模式信息"}},[t("aui-row",{directives:[{name:"show",rawName:"v-show",value:!a.isDialog,expression:"!isDialog"}]},[t("aui-col",{attrs:{lg:4,md:3}},[t("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-plus"},on:{click:a.addMode}},[a._v("新增模式")])],1)],1),a._v(" "),t("aui-table",{ref:"modeTableData",staticStyle:{width:"100%"},attrs:{data:a.modeTableData,"highlight-current-row":""},on:{"row-click":a.rowClick,"selection-change":a.handleSelectionChange}},[t("aui-table-column",{attrs:{type:a.isDialog?"selection":"",width:"55"}}),a._v(" "),t("aui-table-column",{attrs:{property:"MODE_NO",label:"模式编号"}}),a._v(" "),t("aui-table-column",{attrs:{property:"AUTH_TYP_CD",label:"授权类型",formatter:a.dataFormat}}),a._v(" "),t("aui-table-column",{attrs:{property:"AUTH_LVL_CD",label:"授权级别"}}),a._v(" "),t("aui-table-column",{attrs:{property:"AUTH_DESCR",label:"授权原因","show-overflow-tooltip":""}}),a._v(" "),t("aui-table-column",{attrs:{property:"REMRK_1",label:"模式说明"}}),a._v(" "),t("aui-table-column",{directives:[{name:"show",rawName:"v-show",value:!a.isDialog,expression:"!isDialog"}],attrs:{label:"操作",width:"260px"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("aui-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){a.editMode(e.$index,e.row)}}},[a._v("修改")]),a._v(" "),t("aui-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){a.delMode(e.$index,e.row)}}},[a._v("删除")]),a._v(" "),t("aui-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){a.addCondition(e.row)}}},[a._v("新增条件")])]}}])})],1),a._v(" "),t("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[t("aui-pagination",{attrs:{background:"","current-page":a.currentPage,"page-size":a.pageSize,layout:"total, prev, pager, next, jumper",total:a.total},on:{"current-change":a.handleCurrentChange}})],1)],1),a._v(" "),t("aui-card",{attrs:{header:"授权条件信息"}},[t("aui-table",{ref:"conditionTableData",staticStyle:{width:"100%"},attrs:{data:a.conditionTableData}},[t("aui-table-column",{attrs:{property:"OPRTN_COND_NO",label:"条件编号"}}),a._v(" "),t("aui-table-column",{attrs:{property:"DICTRY_NM",label:"字典名称"}}),a._v(" "),t("aui-table-column",{attrs:{property:"OPER_SYM_1",label:"运算符1"}}),a._v(" "),t("aui-table-column",{attrs:{property:"CMPR_VAL",label:"比较值1"}}),a._v(" "),t("aui-table-column",{attrs:{property:"OPER_SYM_2",label:"运算符2"}}),a._v(" "),t("aui-table-column",{attrs:{property:"VALUE2",label:"比较值2"}}),a._v(" "),t("aui-table-column",{directives:[{name:"show",rawName:"v-show",value:!a.isDialog,expression:"!isDialog"}],attrs:{label:"操作",width:"150px"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("aui-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){a.delCondition(e.$index,e.row)}}},[a._v("删除")])]}}])})],1)],1),a._v(" "),t("keep-alive",[t(a.dialogList.authModeDialog,{tag:"component",attrs:{option:a.authModeDialogOptions},on:{refreshTable:a.returnModeInfo}})],1),a._v(" "),t("keep-alive",[t(a.dialogList.authConditionDialog,{tag:"component",attrs:{option:a.authConditionDialogOptions},on:{refreshTable:a.returnConditionInfo}})],1)],1)},staticRenderFns:[]};var g=t("/Xao")(h,p,!1,function(a){t("tFhA")},"data-v-56621012",null);e.default=g.exports},"40TP":function(a,e,t){(a.exports=t("BkJT")(!1)).push([a.i,"\n.maintain-mode-cond[data-v-56621012] {\n  display: block;\n}\n.maintain-mode-cond .search-box[data-v-56621012] {\n    display: block;\n}\n",""])},"6Zus":function(a,e,t){"use strict";var o=t("AA3o"),i=t.n(o);e.a=function a(){i()(this,a),this.data={REQTYPE:""},this.CommCode="IBOperaManage",this.SceneCode="SearchAuthModeAndCond",this.TransServiceCode="mg-afaservices-om/operationsControlmode"}},"7E7O":function(a,e,t){var o=t("r78N");"string"==typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);t("8bSs")("4324aeac",o,!0)},VNlJ:function(a,e,t){"use strict";var o=t("0oES"),i=t("pADA"),n=t("AA3o"),r=t.n(n),s=function a(){r()(this,a),this.data={OperType:""},this.CommCode="IBOperaManage",this.SceneCode="QuyRulesByCondID",this.BusiDataKey="",this.TransServiceCode="mg-afaservices-om/operationsControlModequy"},l=t("k4m6"),u={data:function(){return{loading:!1,conditionFormData:{condtionModeId:"",condtionDesc:"",fieldType:"0",universalField:"",tranField:"",operationalCharacter:"",valuesRange1:"",preciseComeVal1:"",comeVal1:"",valuesRange2:"",comeVal2:""},conditionFormRules:{condtionDesc:[{required:!0,message:"请输入条件说明",trigger:"blur"}],fieldType:[{required:!0,message:"请选择字段类型",trigger:"change"}],universalField:[{required:!0,message:"请选择通用字段",trigger:"change"}],tranField:[{required:!0,message:"请选择交易字段",trigger:"change"}],operationalCharacter:[{required:!0,message:"请选择操作符",trigger:"change"}],valuesRange1:[{required:!0,message:"请选择范围1",trigger:"change"}],preciseComeVal1:[{required:!0,message:"请输入值",trigger:"blur"}],comeVal1:[{required:!0,message:"请输入值",trigger:"blur"}],valuesRange2:[{required:!0,message:"请选择范围2",trigger:"change"}],comeVal2:[{required:!0,message:"请输入值",trigger:"blur"}]},fieldTypeList:[{name:"通用字段",value:"0"},{name:"交易字段",value:"1"}],universalFieldList:[],tranFieldList:[],operationalCharacterList:[{name:"==-等于",value:"=="},{name:"!=-不等于",value:"!="},{name:"in-包含(以','分割)",value:"in"},{name:"not in-不包含(以','分割)",value:"not in"},{name:"empty-为空",value:"empty"},{name:"not empty-不为空",value:"not empty"},{name:"range-范围",value:"range"}],valuesRangeList:[{name:">",value:">"},{name:">=",value:">="},{name:"<",value:"<"},{name:"<=",value:"<="}],universalFieldShow:!0,tranFieldShow:!1,valuesRange1Show:!1,valuesRangeShow:!1,valuesRangeShow1:!1}},props:{option:Object},computed:{isShow:{get:function(){return this.option.isShow},set:function(a){this.option.isShow=a}}},methods:{openConditionDialog:function(){this.pubLoadCond(),"add"==this.option.type&&(this.conditionFormData.condtionModeId=this.option.rowdata.MODE_NO)},pubLoadCond:function(){var a=this,e=new s;e.data.OperType="PubKeyword",e.data.start="0",e.data.length="5000000",Object(o.a)(e).then(function(e){for(var t=e.RspInfo.pageList,o=0;o<t.length;o++){var i={};i.name=t[o].Items.split("|")[3],i.value=t[o].Items.split("|")[0],a.universalFieldList.push(i)}}).catch(function(e){a.$aui.message.show({type:"error",message:"错误信息："+e.SYS_HEAD.ReturnMessage})})},closeConditionDialog:function(){this.universalFieldList=[],this.$refs.conditionFormData.resetFields(),this.$refs.conditionFormData.clearValidate(),this.conditionFormData.fieldType="0",this.universalFieldShow=!0,this.tranFieldShow=!1,this.valuesRange1Show=!1,this.valuesRangeShow=!1,this.valuesRangeShow1=!1},operationalCharacterChange:function(){"range"==this.conditionFormData.operationalCharacter?(this.conditionFormData.preciseComeVal1="",this.valuesRangeShow=!1,this.valuesRange1Show=!0,this.valuesRangeShow1=!0):(this.valuesRangeShow=!0,this.valuesRange1Show=!1,this.valuesRangeShow1=!1,this.conditionFormData.valuesRange1="",this.conditionFormData.valuesRange2="",this.conditionFormData.comeVal1="",this.conditionFormData.comeVal2="")},fieldTypeChange:function(){"0"==this.conditionFormData.fieldType?(this.universalFieldShow=!0,this.tranFieldShow=!1):(this.universalFieldShow=!1,this.tranFieldShow=!0)},submitCondition:function(){var a=this;this.$refs.conditionFormData.validate(function(e){if(e){a.loading=!0;var t=new l.a;t.data.REQTYPE="add"==a.option.type?"A":"U",t.data.OPRTN_COND_NO=a.conditionFormData.condtionModeId,t.data.DICTRY_NM="0"==a.conditionFormData.fieldType?a.conditionFormData.universalField:a.conditionFormData.tranField,"range"==a.conditionFormData.operationalCharacter?(t.data.OPER_SYM_1=a.conditionFormData.valuesRange1,t.data.CMPR_VAL=a.conditionFormData.comeVal1,t.data.OPER_SYM_2=a.conditionFormData.valuesRange2,t.data.VALUE2=a.conditionFormData.comeVal2,t.data.CMPR_VAL_DATA_DICTRY_FLG="0"):(t.data.OPER_SYM_1=a.conditionFormData.operationalCharacter,t.data.CMPR_VAL=a.conditionFormData.preciseComeVal1,t.data.CMPR_VAL_DATA_DICTRY_FLG="1"),t.data.PUB_DICTRY_FLG=a.conditionFormData.fieldType,t.data.TRAN_CD="",t.data.COND_DESCR=a.conditionFormData.condtionDesc,t.data.OPER_TELR_NO=a.$store.getters.UserNum,t.data.OPER_DT=i.a.getDateTime("date"),t.data.OPER_RSN="V端新增",Object(o.a)(t).then(function(e){a.loading=!1,a.isShow=!1,a.$emit("refreshTable",e.RspInfo.Auth[0],a.option.type)}).catch(function(e){a.loading=!1,a.isShow=!1,console.log(e),a.$aui.message.show({type:"error",message:"错误信息："+e.SYS_HEAD.ReturnMessage})})}})}}},c={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中。。。"}},[t("aui-dialog",{attrs:{title:"授权条件",visible:a.isShow,width:"800px",center:"","append-to-body":""},on:{hide:a.closeConditionDialog,"update:visible":function(e){a.isShow=e},show:a.openConditionDialog}},[t("aui-form",{ref:"conditionFormData",attrs:{size:"mini",model:a.conditionFormData,rules:a.conditionFormRules,"label-width":"120px","label-position":"right"}},[t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:12}},[t("aui-form-item",{attrs:{label:"模式ID",prop:"condtionModeId"}},[t("aui-input",{attrs:{disabled:""},model:{value:a.conditionFormData.condtionModeId,callback:function(e){a.$set(a.conditionFormData,"condtionModeId",e)},expression:"conditionFormData.condtionModeId"}})],1)],1)],1),a._v(" "),t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:24}},[t("aui-form-item",{attrs:{label:"条件说明",prop:"condtionDesc"}},[t("aui-input",{model:{value:a.conditionFormData.condtionDesc,callback:function(e){a.$set(a.conditionFormData,"condtionDesc",e)},expression:"conditionFormData.condtionDesc"}})],1)],1)],1),a._v(" "),t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:12}},[t("aui-form-item",{attrs:{label:"字段类型",prop:"fieldType"}},[t("aui-select",{attrs:{placeholder:"请选择字段类型",clearable:""},on:{change:a.fieldTypeChange},model:{value:a.conditionFormData.fieldType,callback:function(e){a.$set(a.conditionFormData,"fieldType",e)},expression:"conditionFormData.fieldType"}},a._l(a.fieldTypeList,function(a){return t("aui-option",{key:a.value,attrs:{label:a.value+"-"+a.name,value:a.value}})}))],1)],1),a._v(" "),t("aui-col",{attrs:{span:12}},[a.universalFieldShow?t("aui-form-item",{attrs:{label:"通用字段",prop:"universalField"}},[t("aui-select",{attrs:{placeholder:"请选择通用字段",clearable:"",filterable:""},model:{value:a.conditionFormData.universalField,callback:function(e){a.$set(a.conditionFormData,"universalField",e)},expression:"conditionFormData.universalField"}},a._l(a.universalFieldList,function(a){return t("aui-option",{key:a.value,attrs:{label:a.value+"-"+a.name,value:a.value}})}))],1):a._e()],1),a._v(" "),t("aui-col",{attrs:{span:12}},[a.tranFieldShow?t("aui-form-item",{attrs:{label:"交易字段",prop:"tranField"}},[t("aui-select",{attrs:{placeholder:"请选择交易字段",clearable:""},model:{value:a.conditionFormData.tranField,callback:function(e){a.$set(a.conditionFormData,"tranField",e)},expression:"conditionFormData.tranField"}},a._l(a.tranFieldList,function(a){return t("aui-option",{key:a.value,attrs:{label:a.value+"-"+a.name,value:a.value}})}))],1):a._e()],1)],1),a._v(" "),t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:12}},[t("aui-form-item",{attrs:{label:"操作符",prop:"operationalCharacter"}},[t("aui-select",{attrs:{placeholder:"请选择操作符",clearable:""},on:{change:a.operationalCharacterChange},model:{value:a.conditionFormData.operationalCharacter,callback:function(e){a.$set(a.conditionFormData,"operationalCharacter",e)},expression:"conditionFormData.operationalCharacter"}},a._l(a.operationalCharacterList,function(a){return t("aui-option",{key:a.value,attrs:{label:a.name,value:a.value}})}))],1)],1)],1),a._v(" "),t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:12}},[a.valuesRange1Show?t("aui-form-item",{attrs:{label:"取值范围1",prop:"valuesRange1"}},[t("aui-select",{attrs:{placeholder:"请选择取值范围",clearable:""},model:{value:a.conditionFormData.valuesRange1,callback:function(e){a.$set(a.conditionFormData,"valuesRange1",e)},expression:"conditionFormData.valuesRange1"}},a._l(a.valuesRangeList,function(a){return t("aui-option",{key:a.value,attrs:{label:a.value,value:a.value}})}))],1):a._e()],1),a._v(" "),t("aui-col",{attrs:{span:12}},[a.valuesRangeShow?t("aui-form-item",{attrs:{label:"精确值",prop:"preciseComeVal1"}},[t("aui-input",{attrs:{placeholder:"请输入精确值"},model:{value:a.conditionFormData.preciseComeVal1,callback:function(e){a.$set(a.conditionFormData,"preciseComeVal1",e)},expression:"conditionFormData.preciseComeVal1"}})],1):a._e()],1),a._v(" "),t("aui-col",{attrs:{span:12}},[a.valuesRangeShow1?t("aui-form-item",{attrs:{label:"值1",prop:"comeVal1"}},[t("aui-input",{attrs:{placeholder:"请输入值"},model:{value:a.conditionFormData.comeVal1,callback:function(e){a.$set(a.conditionFormData,"comeVal1",e)},expression:"conditionFormData.comeVal1"}})],1):a._e()],1)],1),a._v(" "),t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:12}},[a.valuesRange1Show?t("aui-form-item",{attrs:{label:"取值范围2",prop:"valuesRange2"}},[t("aui-select",{attrs:{placeholder:"请选择取值范围",clearable:""},model:{value:a.conditionFormData.valuesRange2,callback:function(e){a.$set(a.conditionFormData,"valuesRange2",e)},expression:"conditionFormData.valuesRange2"}},a._l(a.valuesRangeList,function(a){return t("aui-option",{key:a.value,attrs:{label:a.value,value:a.value}})}))],1):a._e()],1),a._v(" "),t("aui-col",{attrs:{span:12}},[a.valuesRangeShow1?t("aui-form-item",{attrs:{label:"值2",prop:"comeVal2"}},[t("aui-input",{attrs:{placeholder:"请输入值"},model:{value:a.conditionFormData.comeVal2,callback:function(e){a.$set(a.conditionFormData,"comeVal2",e)},expression:"conditionFormData.comeVal2"}})],1):a._e()],1)],1),a._v(" "),t("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[t("aui-button",{attrs:{size:"mini"},on:{click:function(e){a.isShow=!1}}},[a._v("取消")]),a._v(" "),t("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:a.submitCondition}},[a._v("确认")])],1)],1)],1)],1)},staticRenderFns:[]};var d=t("/Xao")(u,c,!1,function(a){t("e8YH")},"data-v-d5e5d6c4",null);e.a=d.exports},VcKm:function(a,e,t){"use strict";var o=t("AA3o"),i=t.n(o);e.a=function a(){i()(this,a),this.data={REQTYPE:""},this.CommCode="IBOperaManage",this.SceneCode="AuthMode",this.TransServiceCode="mg-afaservices-om/operationsControlmode"}},e8YH:function(a,e,t){var o=t("/Zr0");"string"==typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);t("8bSs")("f41340cc",o,!0)},k4m6:function(a,e,t){"use strict";var o=t("AA3o"),i=t.n(o);e.a=function a(){i()(this,a),this.data={REQTYPE:""},this.CommCode="IBOperaManage",this.SceneCode="AuthInfo",this.TransServiceCode="mg-afaservices-om/operationsControlmode"}},r78N:function(a,e,t){(a.exports=t("BkJT")(!1)).push([a.i,"",""])},tFhA:function(a,e,t){var o=t("40TP");"string"==typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);t("8bSs")("1b7d3430",o,!0)},"yq/x":function(a,e,t){"use strict";var o=t("0oES"),i=t("fCv1"),n=t("VcKm"),r={data:function(){return{loading:!1,authModeIdShow:!1,modeFormData:{authModeId:"",authorizeType:"",authorizeLvl:"",authorizeReason:"",authorizeRemark:""},modeFormRules:{authorizeType:[{required:!0,message:"请选择授权类型",trigger:"change"}],authorizeLvl:[{required:!0,message:"请选择授权级别",trigger:"change"}],authorizeReason:[{required:!0,message:"请输入授权原因",trigger:"blur"},{validator:Object(i.h)(100),trigger:"blur"}],authorizeRemark:[{required:!0,message:"请输入模式说明",trigger:"blur"},{validator:Object(i.h)(100),trigger:"blur"}]},AuthorizeTypeList:[{name:"本地授权",value:"1"},{name:"远程授权",value:"2"},{name:"异终端授权",value:"3"}],AuthorizeLvlList:[{name:"一级授权",value:"1"},{name:"二级授权",value:"2"},{name:"三级授权",value:"3"},{name:"四级授权",value:"4"},{name:"五级授权",value:"5"},{name:"六级授权",value:"6"},{name:"七级授权",value:"7"},{name:"八级授权",value:"8"},{name:"九级授权",value:"9"}]}},props:{option:Object},computed:{isShow:{get:function(){return this.option.isShow},set:function(a){this.option.isShow=a}}},methods:{closeModeDialog:function(){this.authModeIdShow=!1,this.$refs.modeFormData.resetFields(),this.$refs.modeFormData.clearValidate()},openModeDialog:function(){"edit"==this.option.type&&(this.authModeIdShow=!0,this.modeFormData.authModeId=this.option.rowdata.MODE_NO,this.modeFormData.authorizeType=this.option.rowdata.AUTH_TYP_CD,this.modeFormData.authorizeLvl=this.option.rowdata.AUTH_LVL_CD,this.modeFormData.authorizeReason=this.option.rowdata.AUTH_DESCR,this.modeFormData.authorizeRemark=this.option.rowdata.REMRK_1)},submitMode:function(){var a=this;this.$refs.modeFormData.validate(function(e){if(e){a.loading=!0;var t=new n.a;"edit"==a.option.type?(t.data.REQTYPE="U",t.data.MODE_NO=a.modeFormData.authModeId):t.data.REQTYPE="A",t.data.AUTH_TYP_CD=a.modeFormData.authorizeType,t.data.AUTH_LVL_CD=a.modeFormData.authorizeLvl,t.data.AUTH_DESCR=a.modeFormData.authorizeReason,t.data.REMRK_1=a.modeFormData.authorizeRemark,Object(o.a)(t).then(function(e){a.loading=!1,a.isShow=!1,a.$emit("refreshTable",e.RspInfo.Auth[0],a.option.type)}).catch(function(e){a.loading=!1,console.log(e),a.$aui.message.show({type:"error",message:"错误信息："+e.SYS_HEAD.ReturnMessage})})}})}}},s={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中。。。"}},[t("aui-dialog",{attrs:{title:"授权模式",visible:a.isShow,width:"800px",center:"","append-to-body":""},on:{hide:a.closeModeDialog,"update:visible":function(e){a.isShow=e},show:a.openModeDialog}},[t("aui-form",{ref:"modeFormData",attrs:{size:"mini",model:a.modeFormData,rules:a.modeFormRules,"label-width":"120px","label-position":"right"}},[t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:12}},[a.authModeIdShow?t("aui-form-item",{attrs:{label:"模式ID",prop:"authModeId"}},[t("aui-input",{attrs:{placeholder:"请输入授权原因",disabled:""},model:{value:a.modeFormData.authModeId,callback:function(e){a.$set(a.modeFormData,"authModeId",e)},expression:"modeFormData.authModeId"}})],1):a._e()],1)],1),a._v(" "),t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:12}},[t("aui-form-item",{attrs:{label:"授权类型",prop:"authorizeType"}},[t("aui-select",{attrs:{placeholder:"请选择授权类型",clearable:""},model:{value:a.modeFormData.authorizeType,callback:function(e){a.$set(a.modeFormData,"authorizeType",e)},expression:"modeFormData.authorizeType"}},a._l(a.AuthorizeTypeList,function(a){return t("aui-option",{key:a.value,attrs:{label:a.value+"-"+a.name,value:a.value}})}))],1)],1),a._v(" "),t("aui-col",{attrs:{span:12}},[t("aui-form-item",{attrs:{label:"授权级别",prop:"authorizeLvl"}},[t("aui-select",{attrs:{placeholder:"请选择授权级别",clearable:""},model:{value:a.modeFormData.authorizeLvl,callback:function(e){a.$set(a.modeFormData,"authorizeLvl",e)},expression:"modeFormData.authorizeLvl"}},a._l(a.AuthorizeLvlList,function(a){return t("aui-option",{key:a.value,attrs:{label:a.name,value:a.value}})}))],1)],1)],1),a._v(" "),t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:24}},[t("aui-form-item",{attrs:{label:"授权原因",prop:"authorizeReason"}},[t("aui-input",{attrs:{placeholder:"请输入授权原因"},model:{value:a.modeFormData.authorizeReason,callback:function(e){a.$set(a.modeFormData,"authorizeReason",e)},expression:"modeFormData.authorizeReason"}})],1)],1)],1),a._v(" "),t("aui-row",{attrs:{gutter:20}},[t("aui-col",{attrs:{span:24}},[t("aui-form-item",{attrs:{label:"模式说明",prop:"authorizeRemark"}},[t("aui-input",{attrs:{placeholder:"请输入模式说明"},model:{value:a.modeFormData.authorizeRemark,callback:function(e){a.$set(a.modeFormData,"authorizeRemark",e)},expression:"modeFormData.authorizeRemark"}})],1)],1)],1),a._v(" "),t("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[t("aui-button",{attrs:{size:"mini"},on:{click:function(e){a.isShow=!1}}},[a._v("取消")]),a._v(" "),t("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:a.submitMode}},[a._v("确认")])],1)],1)],1)],1)},staticRenderFns:[]};var l=t("/Xao")(r,s,!1,function(a){t("7E7O")},"data-v-373e66ca",null);e.a=l.exports}});