webpackJsonp([16],{"0ZPG":function(e,n,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},"0iYf":function(e,n,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},"6DHr":function(e,n,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},C2OE:function(e,n,a){var r=a("ZGC8");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("8bSs")("0c997370",r,!0)},H16h:function(e,n,a){var r=a("WDsj");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("8bSs")("d32d6636",r,!0)},WDsj:function(e,n,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},ZGC8:function(e,n,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},ZNmb:function(e,n,a){var r=a("0iYf");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("8bSs")("558ea595",r,!0)},dq0Z:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a("aA9S"),t=a.n(r),i=a("0oES"),o=a("pADA"),s=a("nlY2"),l=a("AA3o"),u=a.n(l),c=function e(){u()(this,e),this.data={},this.CommCode="IBUserPermissionsManagement",this.SceneCode="BranchGroupBranch",this.TransServiceCode="mg-afaservices-upm/branchGroupBranch"},p={props:{option:Object},data:function(){return{loading:!1,formInline:{},pageList:[],pageList1:[],PostList:[],props:{label:"branchname",children:"children"}}},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}}},methods:{rightClick:function(e,n,a,r){console.log(e,n,a,r)},openDialogInit:function(){var e=this;this.$nextTick(function(){e.$refs.formInline.clearValidate(),e.formInline=t()({},e.option.currentRow),e.formInline.legalpersonnum=e.$store.getters.LegalPersonNum,e.formInline.LegalPersonName=e.$store.getters.LegalPersonName,e.branchGroupBranchQuery()})},branchGroupBranchQuery:function(){var e=this,n=new c;n.data.BranchGroupNum=this.formInline.branchgroupnum,n.data.LegalPersonNum=this.formInline.legalpersonnum,n.data.OperType="Q",Object(i.a)(n).then(function(n){e.pageList=n.RspInfo.pageList||[],e.pageList=o.a.formatTreeData(e.pageList,"branchnum","supebranchnum"),e.pageList1=n.RspInfo.pageList1||[];for(var a=[],r=0;r<e.pageList1.length;r++){var t=e.pageList1[r].branchnum;a.push(t)}e.pageList1=a}).catch(function(n){e.$aui.message.show({type:"warning",message:n.SYS_HEAD.ReturnMessage}),console.error("查询错误",n)})},handleCheckChange:function(e,n,a){var r=this.$refs.tree.getCheckedKeys();this.PostList=[];for(var t=0;t<r.length;t++){var i={BranchNum:r[t]};this.PostList.push(i)}},resetForm:function(){this.$refs.formInline.resetFields(),this.$refs.formInline.clearValidate()},branchGroupBranch:function(){var e=this;this.$refs.formInline.validate(function(n){if(!n)return e.$aui.message.show({type:"warning",message:"必输项不能为空"}),!1;e.loading=!0;var a=new c;a.data.BranchGroupNum=e.formInline.branchgroupnum,a.data.LegalPersonNum=e.formInline.legalpersonnum,a.data.PostList=e.PostList,a.data.OperType="M",Object(i.a)(a).then(function(n){e.loading=!1,e.$aui.message.show({type:"success",message:"绑定成功!"}),e.isShow=!1,e.$emit("refreshBrand")}).catch(function(n){e.loading=!1,e.$aui.message.show({type:"warning",message:n.SYS_HEAD.ReturnMessage}),console.log(n)})})}}},m={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("aui-dialog",{attrs:{visible:e.isShow,title:"绑定机构",width:"800px","close-on-click-modal":!1},on:{"update:visible":function(n){e.isShow=n},show:e.openDialogInit,hide:e.resetForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"formInline",attrs:{model:e.formInline,size:"mini","label-position":"right","label-width":"125px"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机构组编号:",prop:"branchgroupnum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.branchgroupnum,callback:function(n){e.$set(e.formInline,"branchgroupnum",n)},expression:"formInline.branchgroupnum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机构组名称:",prop:"branchgroupname"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.branchgroupname,callback:function(n){e.$set(e.formInline,"branchgroupname",n)},expression:"formInline.branchgroupname"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人号:",prop:"LegalPersonNum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.legalpersonnum,callback:function(n){e.$set(e.formInline,"legalpersonnum",n)},expression:"formInline.legalpersonnum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人名称:",prop:"LegalPersonName"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.LegalPersonName,callback:function(n){e.$set(e.formInline,"LegalPersonName",n)},expression:"formInline.LegalPersonName"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px","max-height":"300px",overflow:"auto"}},[a("aui-tree",{ref:"tree",attrs:{data:e.pageList,props:e.props,"show-checkbox":"","default-checked-keys":e.pageList1,"node-key":"branchnum"},on:{"node-contextmenu":e.rightClick,"check-change":e.handleCheckChange}})],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(n){e.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.branchGroupBranch}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]};var h=a("/Xao")(p,m,!1,function(e){a("qNxY")},"data-v-6b59eb85",null).exports,g=a("3cXf"),d=a.n(g),f=a("qfSh"),b=function e(){u()(this,e),this.data={},this.CommCode="IBUserPermissionsManagement",this.SceneCode="BranchGroupTrang",this.TransServiceCode="mg-afaservices-upm/branchGroupTrang"},v={props:{option:Object},data:function(){return{loading:!1,formInline:{},pageList:[],pageList1:[],PostList:[],appQueryList:[],props:{id:"trangroupid",label:"trangroupname",children:"children"},rules:{AppNum:[{required:!0,message:"请选择应用编号",trigger:"change"}]}}},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}}},methods:{openDialogInit:function(){var e=this;this.$nextTick(function(){e.$refs.formInline.clearValidate(),e.formInline=t()({},e.option.currentRow),e.formInline.legalpersonnum=e.$store.getters.LegalPersonNum,e.formInline.LegalPersonName=e.$store.getters.LegalPersonName,e.appQueryInit()})},appQueryInit:function(){var e=this,n=new f.a;n.data.UserNum=this.$store.getters.UserNum,Object(i.a)(n).then(function(n){e.appQueryList=n.RspInfo.Result,e.formInline.AppNum=n.RspInfo.Result[0].AppNum,e.branchGroupTranQuery(e.formInline.AppNum)}).catch(function(e){console.error("查询错误",e)})},branchGroupTranQuery:function(e){var n=this,a=new b;a.data.BranchGroupNum=this.formInline.branchgroupnum,a.data.LegalPersonNum=this.formInline.legalpersonnum,a.data.AppNum=e,a.data.OperType="Q",Object(i.a)(a).then(function(e){var a=e.RspInfo.pageList||[];n.pageList1=e.RspInfo.pageList1||[];var r=e.RspInfo.pageList2||[];if(0==r.length)return n.$aui.message.show({type:"warning",message:"该应用下无交易组"}),void(n.pageList=[]);n.setResposeList(a,r)}).catch(function(e){n.$aui.message.show({type:"warning",message:e.SYS_HEAD.ReturnMessage}),console.error("查询错误",e)})},setResposeList:function(e,n){var a=this,r={trangroupid:n[0].appnum||"",trangroupname:n[0].appnum||"",children:[]};(r=t()(n[0],r)).children=e,this.$set(this.pageList,0,r);for(var i=[],o=0;o<this.pageList1.length;o++){var s=this.pageList1[o].privlegeid;i.push(s)}this.pageList1=JSON.parse(d()(i)),this.$nextTick(function(){a.$refs.tree.setCheckedKeys(a.pageList1)})},AppNumChange:function(e){this.branchGroupTranQuery(e)},handleCheckChange:function(e,n,a){var r=this.$refs.tree.getCheckedKeys();this.PostList=[];for(var t=0;t<r.length;t++){var i=r[t],o={TranGrpId:i};this.formInline.AppNum!=i&&this.PostList.push(o)}},resetForm:function(){this.$refs.formInline.resetFields(),this.$refs.formInline.clearValidate()},branchGroupTran:function(){var e=this;this.$refs.formInline.validate(function(n){if(!n)return e.$aui.message.show({type:"warning",message:"必输项不能为空"}),!1;e.loading=!0;var a=new b;a.data.BranchGroupNum=e.formInline.branchgroupnum,a.data.LegalPersonNum=e.formInline.legalpersonnum,a.data.AppNum=e.formInline.AppNum,a.data.PostList=e.PostList,a.data.OperType="M",Object(i.a)(a).then(function(n){e.loading=!1,e.$aui.message.show({type:"success",message:"绑定成功!"}),e.isShow=!1,e.$emit("refreshBrand")}).catch(function(n){e.loading=!1,e.$aui.message.show({type:"warning",message:n.SYS_HEAD.ReturnMessage}),console.log(n)})})}}},I={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("aui-dialog",{attrs:{visible:e.isShow,title:"绑定业务组",width:"800px","close-on-click-modal":!1},on:{"update:visible":function(n){e.isShow=n},show:e.openDialogInit,hide:e.resetForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"formInline",attrs:{model:e.formInline,size:"mini",rules:e.rules,"label-position":"right","label-width":"125px"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机构组编号:",prop:"branchgroupnum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.branchgroupnum,callback:function(n){e.$set(e.formInline,"branchgroupnum",n)},expression:"formInline.branchgroupnum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机构组名称:",prop:"branchgroupname"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.branchgroupname,callback:function(n){e.$set(e.formInline,"branchgroupname",n)},expression:"formInline.branchgroupname"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人号:",prop:"LegalPersonNum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.legalpersonnum,callback:function(n){e.$set(e.formInline,"legalpersonnum",n)},expression:"formInline.legalpersonnum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人名称:",prop:"LegalPersonName"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.LegalPersonName,callback:function(n){e.$set(e.formInline,"LegalPersonName",n)},expression:"formInline.LegalPersonName"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"应用编号",prop:"AppNum"}},[a("aui-select",{attrs:{placeholder:"请选择设备型号"},on:{change:e.AppNumChange},model:{value:e.formInline.AppNum,callback:function(n){e.$set(e.formInline,"AppNum",n)},expression:"formInline.AppNum"}},e._l(e.appQueryList,function(e){return a("aui-option",{key:e.AppNum,attrs:{label:e.AppNum+"-"+e.AppName,value:e.AppNum}})}))],1)],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px","max-height":"300px",overflow:"auto"}},[a("aui-tree",{ref:"tree",attrs:{data:e.pageList,props:e.props,"show-checkbox":"","default-checked-keys":["AWEB"],"node-key":"trangroupid"},on:{"check-change":e.handleCheckChange}})],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(n){e.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.branchGroupTran}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]};var w=a("/Xao")(v,I,!1,function(e){a("H16h")},"data-v-4585eeb2",null).exports,N=a("fCv1"),B={props:{option:Object},data:function(){return{loading:!1,formInline:{},rules:{branchgroupname:[{required:!0,message:"请输入机构组名称",trigger:"blur"},{require:!0,validator:Object(N.h)(60),trigger:"blur"}]}}},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}}},methods:{openDialogInit:function(){var e=this;this.$nextTick(function(){e.$refs.formInline.clearValidate(),e.formInline=t()({},e.option.currentRow),e.formInline.legalpersonnum=e.$store.getters.LegalPersonNum,e.formInline.LegalPersonName=e.$store.getters.LegalPersonName})},resetForm:function(){this.$refs.formInline.resetFields()},modBranchGroup:function(){var e=this;this.$refs.formInline.validate(function(n){if(!n)return e.$aui.message.show({type:"warning",message:"必输项不能为空"}),!1;e.loading=!0;var a=new s.a;a.data.AppNum=e.formInline.appnum,a.data.BranchGroupNum=e.formInline.branchgroupnum,a.data.BranchGroupName=e.formInline.branchgroupname,a.data.LegalPersonNum=e.formInline.legalpersonnum,a.data.OperType="M",Object(i.a)(a).then(function(n){e.loading=!1,e.$aui.message.show({type:"success",message:"机构组修改成功!"}),e.isShow=!1,e.$emit("refreshBrand")}).catch(function(n){e.loading=!1,e.$aui.message.show({type:"warning",message:n.SYS_HEAD.ReturnMessage}),console.log(n)})})}}},y={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("aui-dialog",{attrs:{visible:e.isShow,title:"修改机构组",width:"800px","close-on-click-modal":!1},on:{"update:visible":function(n){e.isShow=n},show:e.openDialogInit,hide:e.resetForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"formInline",attrs:{model:e.formInline,size:"mini",rules:e.rules,"label-position":"right","label-width":"125px"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机构组编号:",prop:"branchgroupnum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.branchgroupnum,callback:function(n){e.$set(e.formInline,"branchgroupnum",n)},expression:"formInline.branchgroupnum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机构组名称:",prop:"branchgroupname"}},[a("aui-input",{attrs:{placeholder:"请输入机构组名称"},model:{value:e.formInline.branchgroupname,callback:function(n){e.$set(e.formInline,"branchgroupname",n)},expression:"formInline.branchgroupname"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人号:",prop:"LegalPersonNum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.legalpersonnum,callback:function(n){e.$set(e.formInline,"legalpersonnum",n)},expression:"formInline.legalpersonnum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人名称:",prop:"LegalPersonName"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.LegalPersonName,callback:function(n){e.$set(e.formInline,"LegalPersonName",n)},expression:"formInline.LegalPersonName"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(n){e.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.modBranchGroup}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]};var L=a("/Xao")(B,y,!1,function(e){a("h7m5")},"data-v-2a921797",null).exports,_=function e(){u()(this,e),this.data={BusiOper:"Q"},this.BusiDataKey="getGroupID",this.TransServiceCode="ib-dbcomm/dbComm"},G={props:{createBrand:Object},data:function(){return{loading:!1,formInline:{},rules:{BranchGroupName:[{required:!0,message:"请输入机构组名称",trigger:"blur"},{require:!0,validator:Object(N.h)(30),trigger:"blur"}]}}},computed:{isShow:{get:function(){return this.createBrand.isShow},set:function(e){this.createBrand.isShow=e}}},methods:{openDialogInit:function(){this.$set(this.formInline,"LegalPersonNum",this.$store.getters.LegalPersonNum),this.$set(this.formInline,"LegalPersonName",this.$store.getters.LegalPersonName),this.branchGroupNumQuery()},branchGroupNumQuery:function(){var e=this,n=new _;Object(i.a)(n).then(function(n){e.$set(e.formInline,"BranchGroupNum",n.RspInfo.Result[0].BRANCHGROUPNUM)}).catch(function(e){console.error("查询错误",e)})},resetForm:function(){this.$refs.formInline.resetFields()},addBranchGroup:function(){var e=this;this.$refs.formInline.validate(function(n){if(!n)return e.$aui.message.show({type:"warning",message:"必输项不能为空"}),!1;e.loading=!0;var a=new s.a;a.data.AppNum=e.formInline.AppNum,a.data.BranchGroupNum=e.formInline.BranchGroupNum+"",a.data.BranchGroupName=e.formInline.BranchGroupName,a.data.LegalPersonNum=e.formInline.LegalPersonNum,a.data.OperType="A",Object(i.a)(a).then(function(n){e.loading=!1,e.$aui.message.show({type:"success",message:"机构组添加成功!"}),e.isShow=!1,e.$emit("refreshBrand")}).catch(function(n){e.loading=!1,e.$aui.message.show({type:"warning",message:n.SYS_HEAD.ReturnMessage}),console.log(n)})})}}},S={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("aui-dialog",{attrs:{visible:e.isShow,title:"添加机构组",width:"800px","close-on-click-modal":!1},on:{"update:visible":function(n){e.isShow=n},show:e.openDialogInit,hide:e.resetForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"formInline",attrs:{model:e.formInline,size:"mini",rules:e.rules,"label-position":"right","label-width":"125px"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机构组编号:",prop:"BranchGroupNum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.BranchGroupNum,callback:function(n){e.$set(e.formInline,"BranchGroupNum",n)},expression:"formInline.BranchGroupNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机构组名称:",prop:"BranchGroupName"}},[a("aui-input",{attrs:{placeholder:"请输入机构组名称"},model:{value:e.formInline.BranchGroupName,callback:function(n){e.$set(e.formInline,"BranchGroupName",n)},expression:"formInline.BranchGroupName"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人号:",prop:"LegalPersonNum"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.LegalPersonNum,callback:function(n){e.$set(e.formInline,"LegalPersonNum",n)},expression:"formInline.LegalPersonNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"法人名称:",prop:"LegalPersonName"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.formInline.LegalPersonName,callback:function(n){e.$set(e.formInline,"LegalPersonName",n)},expression:"formInline.LegalPersonName"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(n){e.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addBranchGroup}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]};var $=a("/Xao")(G,S,!1,function(e){a("ZNmb")},"data-v-be8da440",null).exports,k=a("syAl"),x={data:function(){return{dialogList:{createTradingGroup:$,updateTradingGroup:L,assignBranch:h,assignTran:w},dialogOptions:{isShow:!1},UpdateDialogOptions:{isShow:!1},assignBranchDialogOptions:{isShow:!1},assignTranDialogOptions:{isShow:!1},formInline:{},loading:!1,currentPage:1,pageSize:void 0,checkedUser:!1,currentRow:[],branchGroupInfoList:[],rules:{BranchGroupNum:[{max:5,message:"长度应不超5个字符",trigger:"blur"},{validator:N.j,trigger:"blur"}],BranchGroupName:[{require:!1,validator:Object(N.h)(60),trigger:"blur"}]}}},created:function(){},watch:{formInline:{handler:function(e,n){this.currentPage=1},deep:!0}},methods:{delBranchGroup:function(){var e=this,n=new s.a;this.loading=!0,n.data.BranchGroupNum=this.currentRow.branchgroupnum,n.data.BranchGroupName=this.currentRow.branchgroupname,n.data.OperType="D",Object(i.a)(n).then(function(n){e.loading=!1,e.$aui.message.show({type:"success",message:"删除成功"}),e.branchGroupQuery()}).catch(function(n){e.loading=!1,e.$aui.message.show({type:"warning",message:n.SYS_HEAD.ReturnMessage})})},delDialogShow:function(){var e=this;this.$aui.confirm.show("此操作将永久删除该机构组, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then(function(){e.delBranchGroup()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消删除"})})},handleCurrentChangeTable:function(e){this.currentRow=e[0],1==e.length?this.checkedUser=!0:e.length>1?this.$refs.dataTypeInfo.toggleRowSelection(e[0]):this.checkedUser=!1},tradingGroupAdd:function(){this.dialogOptions.isShow=!0},tradingGroupUpdate:function(){this.UpdateDialogOptions.isShow=!0,this.UpdateDialogOptions.currentRow=this.currentRow},assignBranch:function(){this.assignBranchDialogOptions.isShow=!0,this.assignBranchDialogOptions.currentRow=this.currentRow},assignTran:function(){this.assignTranDialogOptions.isShow=!0,this.assignTranDialogOptions.currentRow=this.currentRow},resetForm:function(e){this.$refs[e].resetFields()},handleCurrentChange:function(e){this.currentPage=e,this.branchGroupQuery()},branchGroupQuery:function(){var e=this;this.loading=!0;var n=new s.a;n.data.BranchGroupNum=this.formInline.BranchGroupNum,n.data.BranchGroupName=this.formInline.BranchGroupName,n.data.LegalPersonNum=this.$store.getters.LegalPersonNum,n.data.OperType="Q",n.data.length=k.a.get("PageSize"),n.data.draw=this.currentPage,n.data.start=(this.currentPage-1)*k.a.get("PageSize"),Object(i.a)(n).then(function(n){e.loading=!1,e.branchGroupInfoList=n.RspInfo.pageList||[],e.pageSize=n.RspInfo.recordsTotal}).catch(function(n){e.branchGroupInfoList=[],e.pageSize=0,e.$aui.message.show({type:"warning",message:n.SYS_HEAD.ReturnMessage}),e.loading=!1})}}},P={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",{staticStyle:{"margin-bottom":"10px"}},[a("aui-form",{ref:"formInline",attrs:{model:e.formInline,size:"mini","label-position":"top",rules:e.rules}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"机构组编号",prop:"BranchGroupNum"}},[a("aui-input",{attrs:{placeholder:"请输入机构组编号"},model:{value:e.formInline.BranchGroupNum,callback:function(n){e.$set(e.formInline,"BranchGroupNum",n)},expression:"formInline.BranchGroupNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"机构组名称",prop:"BranchGroupName"}},[a("aui-input",{attrs:{placeholder:"请输入机构组名称"},model:{value:e.formInline.BranchGroupName,callback:function(n){e.$set(e.formInline,"BranchGroupName",n)},expression:"formInline.BranchGroupName"}})],1)],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-search"},on:{click:e.branchGroupQuery}},[e._v("查询")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(n){e.resetForm("formInline")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("aui-row",[a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevBrand_Add")?a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-plus",disabled:e.checkedUser},on:{click:function(n){e.tradingGroupAdd()}}},[e._v("新增")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevBrand_Edit")?a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-edit",disabled:!e.checkedUser},on:{click:function(n){e.tradingGroupUpdate()}}},[e._v("修改")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevBrand_Delete")?a("aui-button",{staticClass:"b-button",attrs:{type:"danger",size:"mini",icon:"aui-icon-delete",disabled:!e.checkedUser},on:{click:e.delDialogShow}},[e._v("删除")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:3,md:3}},[e.btnPermission("Button_DevBrand_Delete")?a("aui-button",{staticClass:"b-button",attrs:{type:"primary",size:"mini",icon:"aui-icon-setting",disabled:!e.checkedUser},on:{click:e.assignTran}},[e._v("分配业务组")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:3,md:5}},[e.btnPermission("Button_DevBrand_Delete")?a("aui-button",{staticClass:"b-button",attrs:{type:"primary",size:"mini",icon:"aui-icon-setting",disabled:!e.checkedUser},on:{click:e.assignBranch}},[e._v("分配机构")]):e._e()],1)],1),e._v(" "),a("aui-table",{ref:"dataTypeInfo",staticClass:"tableMarginTop",attrs:{data:e.branchGroupInfoList,border:"","min-height":"400","header-row-class-name":"tableHeaderClass","highlight-current-row":""},on:{"selection-change":e.handleCurrentChangeTable}},[a("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"branchgroupnum",label:"机构组编号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"branchgroupname",label:"机构组名称"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"legalpersonnum",label:"法人号"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.createTradingGroup,{tag:"component",attrs:{createBrand:e.dialogOptions},on:{refreshBrand:e.branchGroupQuery}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.updateTradingGroup,{tag:"component",attrs:{option:e.UpdateDialogOptions},on:{refreshBrand:e.branchGroupQuery}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.assignBranch,{tag:"component",attrs:{option:e.assignBranchDialogOptions},on:{refreshBrand:e.branchGroupQuery}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.assignTran,{tag:"component",attrs:{option:e.assignTranDialogOptions},on:{refreshBrand:e.branchGroupQuery}})],1)],1)},staticRenderFns:[]};var T=a("/Xao")(x,P,!1,function(e){a("C2OE")},"data-v-1b36435a",null);n.default=T.exports},h7m5:function(e,n,a){var r=a("6DHr");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("8bSs")("bedc95d4",r,!0)},nlY2:function(e,n,a){"use strict";var r=a("AA3o"),t=a.n(r);n.a=function e(){t()(this,e),this.data={},this.CommCode="IBUserPermissionsManagement",this.SceneCode="BranchGroupMgr",this.TransServiceCode="mg-afaservices-upm/branchGroupMgr"}},qNxY:function(e,n,a){var r=a("0ZPG");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("8bSs")("3486c36c",r,!0)}});