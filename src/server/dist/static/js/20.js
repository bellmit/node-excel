webpackJsonp([20],{"69sD":function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",ModuleId:"",ModuleName:""},this.CommCode="IBDeviceManagement",this.SceneCode="DevModuleCreat",this.TransServiceCode="mg-afaservices-dev/devModuleCreat"}},CjRX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),o=a.n(i),d=a("0oES"),n=(a("pADA"),a("69sD")),l=a("Sl6y"),s=(a("mydf"),a("n6OB"),{data:function(){return{loading:!1,devBrandInfoList:[],devModuleList:[{label:"001-主机模块",value:"001-主机模块-AAA"},{label:"002-网络模块",value:"002-网络模块-AAA"},{label:"003-密码键盘",value:"003-密码键盘-Encryptor"},{label:"004-指纹仪",value:"004-指纹仪-FingerScanner"},{label:"005-双目摄像头",value:"005-双目摄像头-Camera"},{label:"006-全景摄像头",value:"006-全景摄像头-Camera"},{label:"007-吸入式读卡模块",value:"007-吸入式读卡模块-DirectInsertCardReader"},{label:"008-吸入式身份证阅读模块",value:"008-吸入式身份证阅读模块-IDCardReader"},{label:"009-凭条打印模块",value:"009-凭条打印模块-ReceiptPrinter"},{label:"010-刷卡模块",value:"010-刷卡模块-SPCardReader"},{label:"011-非接读卡模块（不含身份证）",value:"011-非接读卡模块（不含身份证）-ICCardReader"},{label:"012-条码扫描模块",value:"012-条码扫描模块-Barcode"},{label:"013-存折打印模块",value:"013-存折打印模块-PassbookPrinter"},{label:"014-激光打印模块",value:"014-激光打印模块-JournalPrinter"},{label:"015-U盾发放模块",value:"015-U盾发放模块-UKeyDispenser"},{label:"016-人体感应模块",value:"016-人体感应模块-SIU"}],devModuleMap:{},addModule:{devModel:"",moduleId:"",moduleName:"",moduleCd:"",moduleState:""},rules:{devModel:[{required:!0,message:"请选择设备型号",trigger:"change"}],moduleId:[{required:!0,message:"请选择模块编号",trigger:"change"}]}}},created:function(){},methods:{openCreate:function(){},modelAdd:function(){var e=this;this.$refs.addModule.validate(function(t){if(!t)return e.loading=!1,e.$aui.message.show({type:"warning",message:"请输入合法的数据！"}),!1;e.loading=!0;var a="1"==e.createModel.devForm?new n.a:new l.a;a.data.DeviceModel=e.addModule.devModel,a.data.ModuleId=e.addModule.moduleId.split("-")[0],a.data.ModuleName=e.addModule.moduleId.split("-")[1],a.data.ModuleCD=e.addModule.moduleId.split("-")[2],Object(d.a)(a).then(function(t){var a="1"==e.createModel.devForm?"创建":"修改";e.$aui.message.show({type:"success",message:"设备模块"+a+"成功!"}),e.loading=!1,e.isShow=!1,e.$emit("refreshTableModel")}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage+"!"}),console.log(t)})})},clearForm:function(e){this.$refs.addModule.clearValidate(),this.$refs.addModule.resetFields()}},props:{createModel:Object},computed:{isShow:{get:function(){return this.createModel.isShow},set:function(e){this.createModel.isShow=e}}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aui-dialog",{attrs:{title:e.createModel.title,visible:e.isShow,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t},show:e.openCreate,hide:e.clearForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"addModule",attrs:{model:e.addModule,"label-width":"100px",rules:e.rules,size:"mini","label-position":"left"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备型号:",prop:"devModel"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择设备类型"},model:{value:e.addModule.devModel,callback:function(t){e.$set(e.addModule,"devModel",t)},expression:"addModule.devModel"}},e._l(e.createModel.deviceTypeSpinner,function(e){return a("aui-option",{key:e.devicemodel,attrs:{label:e.devicemodel+"-"+e.devicetype,value:e.devicemodel}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"模块编号:",prop:"moduleId"}},[a("aui-select",{attrs:{placeholder:"请选择模块编号",filterable:""},model:{value:e.addModule.moduleId,callback:function(t){e.$set(e.addModule,"moduleId",t)},expression:"addModule.moduleId"}},e._l(e.devModuleList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"10px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.modelAdd}},[e._v("确认")])],1)],1)])},staticRenderFns:[]};var u=a("/Xao")(s,r,!1,function(e){a("Vdzm")},"data-v-3a44362e",null).exports,c=a("syAl"),v={props:{optionModel:Object},data:function(){return{total:0,modelInfoList:[],pageSize:void 0,currentPage:1,checkedUser:void 0,isDisabledDel:void 0,enum:{0:"0-停用",1:"1-启用"}}},created:function(){this.pageSize=c.a.get("PageSize")},beforeUpdate:function(){this.checkedUser=!1,this.isDisabledDel=!1,this.modelInfoList=this.optionModel.devModelList,this.total=this.optionModel.total,this.enumModule=this.optionModel.enumModule},methods:{dataFormat:function(e,t){return this.enum[e[t.property]]},handleCurrentChangeTable:function(e){console.log(e),this.$emit("rowDate",e),1==e.length?(this.checkedUser=!0,this.isDisabledDel=!0):e.length>1?this.$refs.modelInfoList.toggleRowSelection(e[0]):(this.checkedUser=!1,this.isDisabledDel=!1),this.$emit("isEnabled",this.checkedUser,this.isDisabledDel)},handleCurrentChange:function(e){this.$emit("returnCurrentPage",e)}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"visible.sync":"true"}},[a("aui-table",{ref:"modelInfoList",staticClass:"tableMarginTop",attrs:{data:e.modelInfoList,border:"","header-row-class-name":"tableHeaderClass"},on:{"selection-change":e.handleCurrentChangeTable}},[a("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"devicemodel",label:"设备型号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"moduleid",label:"模块编号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"modulename",label:"模块名称"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var p=a("/Xao")(v,m,!1,function(e){a("LJJJ")},"data-v-2f3db408",null).exports,h=a("zdBp"),g=a("nUJi"),b=a("nbRB"),f={data:function(){return{devModuleId:"",devForm:[],devModule:[],devBrand:[],pageSize:void 0,currentRow:[],devModuleMgrQueryForm:{moduleId:"",devForm:[],devModel:"",brandId:""},deviceTypeSpinner:[],dialogList:{createModel:u,listDevModel:p},dialogOptionsCreate:{isShow:!1,devForm:""},dialogOptionsMod:{isShow:!1,currentRow:[]},dialogOptionsListGS:{devModelList:[]},loading:!1,currentPage:1,checkedUser:!1,isDisabledDel:!1,checkedModPad:!1,isDisabledDelPad:!1}},created:function(){var e=this,t=new h.a;Object(d.a)(t).then(function(t){e.deviceTypeSpinner=t.RspInfo.pageList||[]}).catch(function(e){console.error("查询错误",e)}),this.pageSize=c.a.get("PageSize")},watch:{devModuleMgrQueryForm:{handler:function(e,t){this.currentPage=1},deep:!0}},methods:{changePage:function(e){this.currentPage=e,this.moduleQuery()},addModel:function(e){this.dialogOptionsCreate.isShow=!0,this.dialogOptionsCreate.devForm=e,this.dialogOptionsCreate.title="新增模块",this.dialogOptionsCreate.isDisabled=!1,this.dialogOptionsCreate.state=!1,this.dialogOptionsCreate.deviceTypeSpinner=JSON.parse(o()(this.deviceTypeSpinner))},updateModel:function(e){this.dialogOptionsCreate.isShow=!0,this.dialogOptionsCreate.devForm=e,this.dialogOptionsCreate.title="修改模块",this.dialogOptionsCreate.isDisabled=!0,this.dialogOptionsCreate.state=!0,this.dialogOptionsCreate.currentRow=this.currentRow},rowDate:function(e){var t=this;this.currentRow=e[0],this.devModuleId="",e.forEach(function(e){t.devModuleId=t.devModuleId+e.moduleid+","}),this.devModuleId=this.devModuleId.slice(0,this.devModuleId.length-1)},isEnabled:function(e,t){this.checkedUser=e,this.isDisabledDel=t},isEnabledPad:function(e,t){this.checkedModPad=e,this.isDisabledDelPad=t},sureDel:function(){var e=this;this.loading=!0;var t=new g.a;t.data.DeviceModel=this.currentRow.devicemodel,t.data.ModuleId=this.devModuleId,Object(d.a)(t).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"设备模块删除成功!"}),e.moduleQuery()}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"info",message:t.SYS_HEAD.ReturnMessage})})},delModelClick:function(){var e=this;this.$aui.confirm.show("此操作将永久删除该设备模块, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.sureDel()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消删除"})})},clearForm:function(e){this.$refs[""+e].resetFields()},handleCurrentChange:function(e){this.currentPage=e},moduleQuery:function(){var e=this;this.loading=!0,this.dialogOptionsListGS.devModelList=[];var t=new b.a;t.data.DeviceModel=this.devModuleMgrQueryForm.devModel,t.data.ModuleId=this.devModuleMgrQueryForm.moduleId,t.data.start=(this.currentPage-1)*this.pageSize,t.data.length=this.pageSize,t.QueryPageNo=this.currentPage,t.QueryRowNum=this.pageSize,Object(d.a)(t).then(function(t){e.loading=!1,e.dialogOptionsListGS.devModelList=t.RspInfo.pageList;var a=t.RspInfo.recordsTotal?t.RspInfo.recordsTotal:0;e.$set(e.dialogOptionsListGS,"total",a)}).catch(function(t){e.loading=!1,e.$set(e.dialogOptionsListGS,"total",0),e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage+"!"})})}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dev-model-manage",attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",[a("aui-form",{ref:"devModuleMgrQueryForm",attrs:{model:e.devModuleMgrQueryForm,size:"mini","label-position":"top"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"设备型号",prop:"devModel"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择设备型号"},model:{value:e.devModuleMgrQueryForm.devModel,callback:function(t){e.$set(e.devModuleMgrQueryForm,"devModel",t)},expression:"devModuleMgrQueryForm.devModel"}},e._l(e.deviceTypeSpinner,function(e){return a("aui-option",{key:e.devicemodel,attrs:{label:e.devicemodel+"-"+e.devicetype,value:e.devicemodel,disabled:e.disabled}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"模块编号",prop:"moduleId"}},[a("aui-input",{attrs:{placeholder:"请输入模块编号"},model:{value:e.devModuleMgrQueryForm.moduleId,callback:function(t){e.$set(e.devModuleMgrQueryForm,"moduleId",t)},expression:"devModuleMgrQueryForm.moduleId"}})],1)],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-search",loading:e.loading},on:{click:e.moduleQuery}},[e._v("查询")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(t){e.clearForm("devModuleMgrQueryForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px","min-height":"500px"}},[a("aui-row",[a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevModel_Add")?a("aui-button",{staticClass:"b-button",attrs:{type:"primary",size:"mini",icon:"aui-icon-plus",disabled:e.checkedUser},on:{click:function(t){e.addModel("1")}}},[e._v("新增")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevModel_Delete")?a("aui-button",{staticClass:"b-button",attrs:{type:"danger",size:"mini",icon:"aui-icon-delete",disabled:!e.checkedUser},on:{click:e.delModelClick}},[e._v("删除")]):e._e()],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.listDevModel,{tag:"component",attrs:{optionModel:e.dialogOptionsListGS},on:{returnCurrentPage:e.changePage,rowDate:e.rowDate,isEnabled:e.isEnabled}})],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.createModel,{tag:"component",attrs:{createModel:e.dialogOptionsCreate},on:{refreshTableModel:e.moduleQuery}})],1)],1)},staticRenderFns:[]};var y=a("/Xao")(f,M,!1,function(e){a("PIwO")},"data-v-bba405c6",null);t.default=y.exports},HhFV:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.el-table__body-wrapper[data-v-bba405c6] {\n  overflow: hidden !important;\n}\n.dialog-text[data-v-bba405c6] {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: red;\n  font-size: 18px;\n}\n.listEdit[data-v-bba405c6] {\n  text-align: right;\n}\n.listEdit a[data-v-bba405c6] {\n    margin: 5px;\n}\n.demo-table-expand .aui-form-item[data-v-bba405c6] {\n  margin-bottom: 5px;\n}\n.editClass input.el-input__inner[data-v-bba405c6] {\n  border: none;\n  background: rgba(0, 0, 0, 0) !important;\n}\n.fade-enter-active[data-v-bba405c6],\n.fade-leave-active[data-v-bba405c6] {\n  -webkit-transition: opacity 0.6s;\n  transition: opacity 0.6s;\n}\n.fade-enter[data-v-bba405c6],\n.fade-leave-to[data-v-bba405c6] {\n  opacity: 0;\n}\n",""])},LJJJ:function(e,t,a){var i=a("saqm");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("703d1dfe",i,!0)},PIwO:function(e,t,a){var i=a("HhFV");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("4b10e0c4",i,!0)},Sl6y:function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",ModuleId:"",ModuleName:""},this.CommCode="IBDeviceManagement",this.SceneCode="DevModuleUpdate",this.TransServiceCode="mg-afaservices-dev/devModuleUpdate"}},Vdzm:function(e,t,a){var i=a("p15p");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("75716f30",i,!0)},nUJi:function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",ModuleId:""},this.CommCode="IBDeviceManagement",this.SceneCode="DevModuleDelete",this.TransServiceCode="mg-afaservices-dev/devModuleDelete"}},nbRB:function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",ModuleId:"",length:"99999",start:"0",draw:"2"},this.CommCode="IBDeviceManagement",this.SceneCode="DevModuleQuery",this.TransServiceCode="mg-afaservices-dev/devModuleQuery"}},p15p:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.modelBox[data-v-3a44362e] {\n  height: 125px;\n  overflow: auto;\n}\n.modelBox[data-v-3a44362e]::-webkit-scrollbar {\n  display: none;\n}\n.content[data-v-3a44362e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.aui-checkbox[data-v-3a44362e] {\n  margin-left: 5px;\n}\n",""])},saqm:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])}});