webpackJsonp([157],{"3q8k":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("xcog"),o=s("kM4S"),r=s("0oES"),a={name:"sso",data:function(){return{}},methods:{getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(t);return null!=s?decodeURIComponent(s[2]):null}},mounted:function(){var e=this;this.$store.dispatch("FedLogOut").then(function(){e.toolBox.getUserIP(function(e){Object(n.t)(e)});var t=new o.f;Object(r.a)(t).then(function(t){if(t.RspInfo.XToken){Object(n.y)(t.RspInfo.XToken);var s={sid:e.getQueryString("sid")};s.sid?e.$store.dispatch("SSOLogin",s.sid).then(function(t){e.$aui.message.show({type:"success",message:"登录成功"}),e.$router.push({path:"/home/index",name:"homeIndex",params:{firstLog:e.$store.getters.isFirstLoginFLag,firstLogMessage:t.SYS_HEAD.ReturnMessage}})}).catch(function(t){e.$router.push("/login"),e.$aui.message.show({type:"error",message:t.SYS_HEAD.ReturnMessage})}):e.$router.push("/login")}else e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})}).catch(function(t){e.loading=!1,console.log(t)})}).catch(function(t){e.$aui.message.show({type:"error",message:t.SYS_HEAD.ReturnMessage}),e.$router.push("/login")})}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],attrs:{"element-loading-text":"加载中。。。"}})])},staticRenderFns:[]},u=s("/Xao")(a,i,!1,null,null,null);t.default=u.exports}});