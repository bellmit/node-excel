webpackJsonp([128],{YrRO:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},jMr1:function(e,t,a){var o=a("YrRO");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("8bSs")("d2d0e992",o,!0)},nfz4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("syAl"),i=a("pADA"),n=a("tzsN"),r={name:"",props:{detailData:Object},components:{selectTree:n.a},data:function(){return{knowledge:{brno:[],channel:"",knowledgeno:"",knowledgetype:"",knowledgetitle:"",content:"",createuser:"",createtime:"",createdate:"",lastmodifyuser:"",lastmodifytime:"",lastmodifydate:""}}},created:function(){},methods:{open:function(){var e=this;this.$nextTick(function(){e.knowledge.knowledgeno=e.detailData.currentRow.KNOW_PONT_NO,e.knowledge.brno=e.detailData.currentRow.ORG_NO,e.knowledge.channel=e.detailData.currentRow.CHNL_NO,e.knowledge.knowledgetitle=e.detailData.currentRow.KNOW_PONT_TITLE,e.knowledge.knowledgetype=e.detailData.currentRow.KNOW_PONT_TYP_CD,e.knowledge.content=e.detailData.currentRow.CONTENT,e.knowledge.createuser=e.detailData.currentRow.CRT_USER_NO,e.knowledge.createdate=i.a.timestampToTime2(e.detailData.currentRow.CRT_DT),e.knowledge.lastmodifyuser=e.detailData.currentRow.FINL_MATN_USER_NO,e.knowledge.lastmodifydate=i.a.timestampToTime2(e.detailData.currentRow.FINL_MODFY_DT)})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{visible:e.detailData.isShow,width:"800px",title:"查看详情","close-on-click-modal":!1},on:{"update:visible":function(t){e.$set(e.detailData,"isShow",t)},show:e.open}},[a("div",[a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("知识条目信息")])]),e._v(" "),a("aui-form",{ref:"knowledge",attrs:{model:e.knowledge,size:"mini","label-width":"115px","label-position":"right"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"知识ID:",prop:"knowledgeno"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.knowledge.knowledgeno,callback:function(t){e.$set(e.knowledge,"knowledgeno",t)},expression:"knowledge.knowledgeno"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"适用机构:",prop:"brno"}},[a("select-tree",{staticStyle:{width:"170px"},attrs:{disabled:"",props:{id:"orgno",label:"cname",children:"children"},"tree-data":e.detailData.brnoList},model:{value:e.knowledge.brno,callback:function(t){e.$set(e.knowledge,"brno",t)},expression:"knowledge.brno"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"发布渠道:",prop:"channel"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.knowledge.channel,callback:function(t){e.$set(e.knowledge,"channel",t)},expression:"knowledge.channel"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"知识标题:",prop:"knowledgetitle"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.knowledge.knowledgetitle,callback:function(t){e.$set(e.knowledge,"knowledgetitle",t)},expression:"knowledge.knowledgetitle"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"知识分类:",prop:"knowledgetype"}},[a("aui-select",{attrs:{placeholder:"请选择知识分类",disabled:""},model:{value:e.knowledge.knowledgetype,callback:function(t){e.$set(e.knowledge,"knowledgetype",t)},expression:"knowledge.knowledgetype"}},e._l(e.detailData.knowledgetypeList,function(e){return a("aui-option",{key:e.DataKeyVal,attrs:{label:e.DataKeyVal+"-"+e.Meaning,value:e.DataKeyVal}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"创建人:",prop:"createuser"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.knowledge.createuser,callback:function(t){e.$set(e.knowledge,"createuser",t)},expression:"knowledge.createuser"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"创建时间:",prop:"createdate"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.knowledge.createdate,callback:function(t){e.$set(e.knowledge,"createdate",t)},expression:"knowledge.createdate"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"最近维护人:",prop:"lastmodifyuser"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.knowledge.lastmodifyuser,callback:function(t){e.$set(e.knowledge,"lastmodifyuser",t)},expression:"knowledge.lastmodifyuser"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"最近维护时间:",prop:"lastmodifydate"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.knowledge.lastmodifydate,callback:function(t){e.$set(e.knowledge,"lastmodifydate",t)},expression:"knowledge.lastmodifydate"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:24}},[a("aui-form-item",{attrs:{label:"知识内容:",prop:"content"}},[a("aui-input",{attrs:{disabled:""},model:{value:e.knowledge.content,callback:function(t){e.$set(e.knowledge,"content",t)},expression:"knowledge.content"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.detailData.isShow=!1}}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]},s=a("/Xao")(r,l,!1,null,null,null).exports,d=a("0oES"),c=a("qfSh"),u=a("fCv1"),p=a("AA3o"),g=a.n(p),m=function e(){g()(this,e),this.data={},this.CommCode="TEAuxiModu",this.SceneCode="AddHelpDoc",this.TransServiceCode="mg-afaservices-pad/AddHelpDoc"},h=function e(){g()(this,e),this.data={},this.CommCode="TEAuxiModu",this.SceneCode="OperHelpDoc",this.TransServiceCode="mg-afaservices-pad/OperHelpDoc"},w=a("Zqsi"),b={props:{createData:Object},components:{selectTree:n.a},data:function(){return{loading:!1,dialogLoading:!1,fileUploadUrl:"",absFilePath:"",afaToJSUploadFilePath:"",fileSize:2,fileList:[],uploadData:{},upLoadType:["zip","rar","docx","doc","xlsx","xls"],knowledge:{knowledgeno:"",knowledgetype:"",knowledgetitle:"",channel:"",content:"",brnoArr0:[],fileId:"",fileName:""},appList:[],rules:{brnoArr0:[{required:!0,message:"适用机构必填",trigger:"change"}],knowledgetitle:[{required:!0,message:"知识标题必填！",trigger:"blur"},{validator:Object(u.h)(100),trigger:"blur"},{validator:u.l,trigger:"blur"}],knowledgetype:[{required:!0,message:"知识分类必填！",trigger:"change"}],channel:[{required:!0,message:"发布渠道必填！",trigger:"change"}],content:[{required:!0,message:"知识内容/描述必填！",trigger:"blur"},{validator:Object(u.h)(400),trigger:"blur"},{validator:u.l,trigger:"blur"}]}}},created:function(){this.initData()},watch:{knowledge:{handler:function(e,t){this.currentPage=1},deep:!0}},methods:{initData:function(){var e=this;this.loading=!0;var t=new c.a;t.data.UserNum=this.$store.getters.UserNum,Object(d.a)(t).then(function(t){e.loading=!1,e.appList=t.RspInfo.Result}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})})},open:function(){this.$nextTick(function(){"2"==this.createData.logo&&this.updateData(),this.fileUploadUrl=o.a.get("uploadFileToABSAddress"),this.absFilePath=o.a.get("absFilePath"),this.afaToJSUploadFilePath=o.a.get("afaToJSUploadFilePath"),this.uploadData.destDir=this.absFilePath})},updateData:function(){if(this.knowledge.knowledgeno=this.createData.currentRow.KNOW_PONT_NO,this.knowledge.brnoArr0=[this.createData.currentRow.ORG_NO],this.knowledge.channel=this.createData.currentRow.CHNL_NO,this.knowledge.knowledgetitle=this.createData.currentRow.KNOW_PONT_TITLE,this.knowledge.knowledgetype=this.createData.currentRow.KNOW_PONT_TYP_CD,this.knowledge.content=this.createData.currentRow.CONTENT,this.knowledge.fileId=this.createData.currentRow.REMRK,this.knowledge.fileName=this.createData.currentRow.DOC_NM,this.createData.currentRow.DOC_NM){var e={};e.name=this.createData.currentRow.DOC_NM,this.fileList.push(e)}},close:function(){this.fileList=[],this.$refs.knowledgeForm.clearValidate(),this.$refs.knowledgeForm.resetFields()},submitForm:function(){var e=this;this.$refs.knowledgeForm.validate(function(t){if(t){e.loading=!0;var a="1"==e.createData.logo?new m:new h;a.data.KNOW_PONT_NO=e.knowledge.knowledgeno,a.data.ORG_NO="1"==e.createData.logo?e.knowledge.brnoArr0:e.knowledge.brnoArr0[0],a.data.KNOW_PONT_TITLE=e.knowledge.knowledgetitle,a.data.KNOW_PONT_TYP_CD=e.knowledge.knowledgetype,a.data.CONTENT=e.knowledge.content,a.data.CHNL_NO=e.knowledge.channel,a.data.REMRK=e.knowledge.fileId,a.data.DOC_NM=e.knowledge.fileName,"1"==e.createData.logo&&(a.data.REMRK=e.knowledge.fileId,a.data.DOC_NM=e.knowledge.fileName),Object(d.a)(a).then(function(t){e.loading=!1,e.createData.isShow=!1,e.$emit("refreshTable");var a="1"==e.createData.logo?"创建":"修改";e.$aui.message.show({type:"success",message:a+"成功!"})}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"error",message:""+t.SYS_HEAD.ReturnMessage}),console.log(t)})}})},handleBeforeUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),a=e.size/1024/1024<this.fileSize,o=-1==this.upLoadType.indexOf(t);return o&&this.$aui.message.show.error("上传文件格式错误"),a||this.$aui.message.show.error("上传文件大小不能超过"+this.fileSize+"M"),!o&&a},handleRemove:function(){this.knowledge.fileName="",this.$aui.message.show.error("上传失败")},handleSuccess:function(e,t,a){var o=this;this.loading=!0;var i=new w.a;i.OpType="1",i.FileNm=this.uploadData.destDir+t.name,i.FileNm1=this.afaToJSUploadFilePath,i.Wher="0",i.data.FILE_NAME=t.name,i.data.SysCode="SYS_MG_01",i.data.FILE_UPLOAD_PATH=this.afaToJSUploadFilePath,Object(d.a)(i).then(function(e){o.loading=!1,o.knowledge.fileName=t.name,o.knowledge.fileId=e.RspInfo.FILE_ID,o.$aui.message.show({type:"success",message:"上传成功！文件编号："+o.knowledge.fileId})}).catch(function(e){o.loading=!1,o.fileList=[],o.$aui.message.show({type:"error",message:"上传失败!"+e.SYS_HEAD.ReturnMessage}),console.log(e)})},onExceed:function(){this.$aui.message.show.error("文件最大上传个数:1")},submitUpload:function(){this.$refs.upload.submit()}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{visible:e.createData.isShow,width:"800px",title:e.createData.title,"close-on-click-modal":!1},on:{"update:visible":function(t){e.$set(e.createData,"isShow",t)},hide:e.close,show:e.open}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("知识条目信息")])]),e._v(" "),a("aui-form",{ref:"knowledgeForm",attrs:{model:e.knowledge,size:"mini",rules:e.rules,"label-width":"120px","label-position":"right"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:24}},[e.createData.isDisabled?a("aui-form-item",{attrs:{label:"知识编号:",prop:"knowledgeno"}},[a("aui-input",{attrs:{disabled:e.createData.isDisabled},model:{value:e.knowledge.knowledgeno,callback:function(t){e.$set(e.knowledge,"knowledgeno",t)},expression:"knowledge.knowledgeno"}})],1):e._e()],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},["1"==e.createData.logo?a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"适用机构:",prop:"brnoArr0"}},[a("select-tree",{staticStyle:{width:"170px"},attrs:{"is-strictly":!1,props:{id:"orgno",label:"cname",children:"children"},"tree-data":e.createData.brnoList,placeholder:"请选择机构"},model:{value:e.knowledge.brnoArr0,callback:function(t){e.$set(e.knowledge,"brnoArr0",t)},expression:"knowledge.brnoArr0"}})],1)],1):e._e(),e._v(" "),"2"==e.createData.logo?a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"适用机构:",prop:"brnoArr0"}},[a("select-tree",{staticStyle:{width:"170px"},attrs:{"single-check":!0,props:{id:"orgno",label:"cname",children:"children"},"tree-data":e.createData.brnoList,placeholder:"请选择机构"},model:{value:e.knowledge.brnoArr0,callback:function(t){e.$set(e.knowledge,"brnoArr0",t)},expression:"knowledge.brnoArr0"}})],1)],1):e._e(),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"发布渠道:",prop:"channel"}},[a("aui-select",{model:{value:e.knowledge.channel,callback:function(t){e.$set(e.knowledge,"channel",t)},expression:"knowledge.channel"}},e._l(e.appList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.AppNum+"-"+e.AppName,value:e.AppNum}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"知识标题:",prop:"knowledgetitle"}},[a("aui-input",{attrs:{placeholder:"请输入知识标题"},model:{value:e.knowledge.knowledgetitle,callback:function(t){e.$set(e.knowledge,"knowledgetitle",t)},expression:"knowledge.knowledgetitle"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"知识分类:",prop:"knowledgetype"}},[a("aui-select",{attrs:{placeholder:"请选择知识分类"},model:{value:e.knowledge.knowledgetype,callback:function(t){e.$set(e.knowledge,"knowledgetype",t)},expression:"knowledge.knowledgetype"}},e._l(e.createData.knowledgetypeList,function(e){return a("aui-option",{key:e.DataKeyVal,attrs:{label:e.DataKeyVal+"-"+e.Meaning,value:e.DataKeyVal}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:24}},[a("aui-form-item",{attrs:{label:"知识内容/描述:",prop:"content"}},[a("aui-input",{attrs:{type:"textarea",rows:4,resize:"none"},model:{value:e.knowledge.content,callback:function(t){e.$set(e.knowledge,"content",t)},expression:"knowledge.content"}})],1)],1)],1),e._v(" "),a("aui-row",[a("aui-col",{attrs:{span:24,align:"center"}},[a("aui-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.fileUploadUrl,data:e.uploadData,"before-upload":e.handleBeforeUpload,"on-error":e.handleRemove,"on-success":e.handleSuccess,limit:1,"file-list":e.fileList,"auto-upload":!1,"on-exceed":e.onExceed,accept:".zip, .rar, .docx, .doc, .xlsx, .xls"}},[a("aui-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("aui-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s("只能上传zip/rar/docx/doc/xlsx/xls文件，且不超过"+e.fileSize+"M"))])],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.createData.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitForm}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]},k=a("/Xao")(b,f,!1,null,null,null).exports,_=a("0VOF"),y=function e(){g()(this,e),this.data={ORG_NO:"",KNOW_PONT_TITLE:"",KNOW_PONT_TYP_CD:"",curPage:"",pageSize:""},this.CommCode="TEAuxiModu",this.SceneCode="SelHelpDoc",this.TransServiceCode="mg-afaservices-pad/QueryHelpDoc"},v=function e(){g()(this,e),this.data={KNOW_PONT_NO:""},this.BusiDataKey="DelHelpDoc",this.TransServiceCode="ib-dbcomm/dbComm"},D=a("B+2e"),O={name:"",data:function(){return{loading:!1,brnoList:[],branchNumArr0:[],total:void 0,pageSize:void 0,currentRow:[],permission:{},brnoMap:{},knowledgetypeList:[],knowledgetypeHash:{},currentPage:1,QueryForm:{branchNumArr0:[],knowledgetype:"",knowledgetitle:""},tableDateList:[],dialogOptionsDetail:{isShow:!1},dialogOptionsUpdateAdd:{knowledgetypeList:[],isShow:!1},dialogList:{DetailKnowledge:s,AddUpdateKnowledge:k},rules:{branchNumArr0:[{required:!0,type:"array",message:"请选择机构",trigger:"change"}],knowledgetitle:[{validator:Object(u.h)(20),trigger:"blur"}]}}},components:{selectTree:n.a},created:function(){this.pageSize=o.a.get("PageSize"),this.queryBranchNum(),this.KnoTp()},methods:{KnoTp:function(){var e=this,t=new D.a;t.data.DataKey="KnoTp",Object(d.a)(t).then(function(t){e.knowledgetypeList=t.RspInfo.Result||[],e.knowledgetypeHash=i.a.objArray2Hash(e.knowledgetypeList,"DataKeyVal")}).catch(function(t){e.loading=!1})},queryBranchNum:function(){var e=this;this.loading=!0;var t=new _.a;t.data.orgno=this.$store.getters.BranchNum,Object(d.a)(t).then(function(t){e.loading=!1,e.branchNumArr0=t.RspInfo.Result||[],e.permission=i.a.objArray2Hash(e.branchNumArr0,"orgno"),e.brnoMap=t.RspInfo.orgMap||{},e.brnoList=i.a.formatTreeData(e.branchNumArr0,"orgno","superno"),e.QueryForm.branchNumArr0.push(e.brnoList[0].orgno)}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})})},query:function(){var e=this;this.$refs.queryForm.validate(function(t){if(t){e.loading=!0;var a=new y;a.data.ORG_NO=e.QueryForm.branchNumArr0,a.data.KNOW_PONT_TITLE=e.QueryForm.knowledgetitle,a.data.KNOW_PONT_TYP_CD=e.QueryForm.knowledgetype,a.data.curPage=e.currentPage+"",a.data.pageSize=e.pageSize+"",Object(d.a)(a).then(function(t){e.loading=!1,e.tableDateList=t.RspInfo.resultlist||[],e.total=t.RspInfo.rows||0,"0"==e.total&&e.$aui.message.show({type:"warning",message:"无满足条件的记录！"})}).catch(function(t){console.log(t),e.loading=!1,e.$aui.message.show({type:"error",message:t.SYS_HEAD.ReturnMessage+"!"})})}})},dataFormat:function(e,t){if("FINL_MODFY_DT"==t.property)return i.a.timestampToTime2(e[t.property]);if("CRT_DT"==t.property)return i.a.timestampToTime2(e[t.property]);if("KNOW_PONT_TYP_CD"==t.property){var a=this.knowledgetypeHash[e[t.property]];return void 0!=a||null!=a?a.DataKeyVal+"-"+a.Meaning:e[t.property]}return"ORG_NO"==t.property?e[t.property]+"-"+this.brnoMap[e[t.property]]:"OPER_ORG_NO"==t.property?e[t.property]+"-"+e.OPER_ORG_NM:void 0},handleCurrentChange:function(e){this.currentPage=e,this.query()},handleCurrentChangeTable:function(e){this.currentRow=e,e.length>1&&this.$refs.tableDateList.toggleRowSelection(e[0])},clearForm:function(e){this.$refs[""+e].resetFields(),this.currentPage=1},add:function(){this.dialogOptionsUpdateAdd.isShow=!0,this.dialogOptionsUpdateAdd.title="添加知识条目信息",this.dialogOptionsUpdateAdd.logo="1",this.dialogOptionsUpdateAdd.brnoList=this.brnoList,this.dialogOptionsUpdateAdd.knowledgetypeList=this.knowledgetypeList,this.dialogOptionsUpdateAdd.isDisabled=!1},checkPermission:function(e){this.permission[this.currentRow[0].brno]?e?this.update():this.del():this.$aui.message.show({type:"warning",message:"权限不足,无法修改！"})},update:function(){this.dialogOptionsUpdateAdd.isShow=!0,this.dialogOptionsUpdateAdd.title="修改知识条目信息",this.dialogOptionsUpdateAdd.logo="2",this.dialogOptionsUpdateAdd.brnoList=this.brnoList,this.dialogOptionsUpdateAdd.currentRow=this.currentRow[0],this.dialogOptionsUpdateAdd.knowledgetypeList=this.knowledgetypeList,this.dialogOptionsUpdateAdd.isDisabled=!0},del:function(){var e=this;this.$aui.confirm.show("此操作将永久删除该知识条目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.sureDel()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消删除"})})},sureDel:function(){var e=this;this.loading=!0;var t=new v;t.data.KNOW_PONT_NO=this.currentRow[0].KNOW_PONT_NO,Object(d.a)(t).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"知识条目删除成功!"}),e.query()}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage+"!"})})},detail:function(){this.dialogOptionsDetail.isShow=!0,this.dialogOptionsDetail.currentRow=this.currentRow[0],this.dialogOptionsDetail.brnoList=this.brnoList,this.dialogOptionsDetail.brnoMap=this.brnoMap,this.dialogOptionsDetail.knowledgetypeList=this.knowledgetypeList}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"branch-manage",attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",[a("aui-form",{ref:"queryForm",attrs:{model:e.QueryForm,size:"mini","label-position":"top",rules:e.rules}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"适用机构",prop:"branchNumArr0"}},[a("select-tree",{staticStyle:{width:"170px"},attrs:{props:{id:"orgno",label:"cname",children:"children"},"tree-data":e.brnoList,placeholder:"请选择机构"},model:{value:e.QueryForm.branchNumArr0,callback:function(t){e.$set(e.QueryForm,"branchNumArr0",t)},expression:"QueryForm.branchNumArr0"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"知识分类",prop:"knowledgetype"}},[a("aui-select",{attrs:{placeholder:"请选择知识分类"},model:{value:e.QueryForm.knowledgetype,callback:function(t){e.$set(e.QueryForm,"knowledgetype",t)},expression:"QueryForm.knowledgetype"}},e._l(e.knowledgetypeList,function(e){return a("aui-option",{key:e.DataKeyVal,attrs:{label:e.DataKeyVal+"-"+e.Meaning,value:e.DataKeyVal}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"知识标题",prop:"knowledgetitle"}},[a("aui-input",{attrs:{placeholder:"请输入知识标题"},model:{value:e.QueryForm.knowledgetitle,callback:function(t){e.$set(e.QueryForm,"knowledgetitle",t)},expression:"QueryForm.knowledgetitle"}})],1)],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-search"},on:{click:e.query}},[e._v("查询")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(t){e.clearForm("queryForm")}}},[e._v("重置\n          ")])],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("aui-row",[a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevBrand_Add")?a("aui-button",{attrs:{type:"primary",disabled:0!=e.currentRow.length,size:"mini",icon:"aui-icon-plus"},on:{click:e.add}},[e._v("添加")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevBrand_Add")?a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-edit",disabled:1!=e.currentRow.length},on:{click:function(t){e.checkPermission("1")}}},[e._v("修改")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevBrand_Add")?a("aui-button",{attrs:{type:"danger",size:"mini",icon:"aui-icon-delete",disabled:1!=e.currentRow.length},on:{click:function(t){e.checkPermission()}}},[e._v("删除")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevBrand_Add")?a("aui-button",{attrs:{type:"primary",size:"mini",disabled:1!=e.currentRow.length},on:{click:e.detail}},[e._v("查看详情")]):e._e()],1)],1),e._v(" "),a("aui-table",{ref:"tableDateList",staticClass:"tableMarginTop",attrs:{data:e.tableDateList,border:"","max-height":"400",width:"100%","header-row-class-name":"tableHeaderClass","highlight-current-row":""},on:{"selection-change":e.handleCurrentChangeTable}},[a("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"ORG_NO",label:"适用机构",fixed:"",formatter:e.dataFormat}}),e._v(" "),a("aui-table-column",{attrs:{prop:"KNOW_PONT_NO",label:"知识ID"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"KNOW_PONT_TITLE",label:"知识标题"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"KNOW_PONT_TYP_CD",label:"知识分类",formatter:e.dataFormat}}),e._v(" "),a("aui-table-column",{attrs:{prop:"OPER_ORG_NO",label:"创建机构",formatter:e.dataFormat}}),e._v(" "),a("aui-table-column",{attrs:{prop:"CRT_USER_NO",label:"创建人"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"CRT_DT",label:"创建时间",formatter:e.dataFormat}}),e._v(" "),a("aui-table-column",{attrs:{prop:"MATN_ORG_NO",label:"最近维护机构"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"FINL_MATN_USER_NO",label:"最近维护人"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"FINL_MODFY_DT",label:"最近维护时间",formatter:e.dataFormat}}),e._v(" "),a("aui-table-column",{attrs:{prop:"REMRK",label:"文件编号"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.AddUpdateKnowledge,{tag:"component",attrs:{createData:e.dialogOptionsUpdateAdd},on:{refreshTable:e.query}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.DetailKnowledge,{tag:"component",attrs:{detailData:e.dialogOptionsDetail}})],1)],1)},staticRenderFns:[]};var T=a("/Xao")(O,N,!1,function(e){a("jMr1")},null,null);t.default=T.exports}});