webpackJsonp([8],{"10Pd":function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.el-table__body-wrapper[data-v-f74fb7d2] {\n  overflow: hidden !important;\n}\n.dialog-text[data-v-f74fb7d2] {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: red;\n  font-size: 18px;\n}\n.listEdit[data-v-f74fb7d2] {\n  text-align: right;\n}\n.listEdit a[data-v-f74fb7d2] {\n    margin: 5px;\n}\n.demo-table-expand .aui-form-item[data-v-f74fb7d2] {\n  margin-bottom: 5px;\n}\n.editClass input.el-input__inner[data-v-f74fb7d2] {\n  border: none;\n  background: rgba(0, 0, 0, 0) !important;\n}\n.fade-enter-active[data-v-f74fb7d2],\n.fade-leave-active[data-v-f74fb7d2] {\n  -webkit-transition: opacity 0.6s;\n  transition: opacity 0.6s;\n}\n.fade-enter[data-v-f74fb7d2],\n.fade-leave-to[data-v-f74fb7d2] {\n  opacity: 0;\n}\n",""])},"6NYx":function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},AmW9:function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",DevAppList:[]},this.CommCode="IBDeviceManagement",this.SceneCode="DevTypeAppCreat",this.TransServiceCode="mg-afaservices-dev/devTypeAppCreat"}},CXo0:function(e,t,a){var i=a("6NYx");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("ff52e774",i,!0)},FriW:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.aui-checkbox[data-v-3da5e457] {\n  margin-left: 5px;\n}\n",""])},HKib:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.modelBox[data-v-13630b4e] {\n  height: 125px;\n  overflow: auto;\n}\n.modelBox[data-v-13630b4e]::-webkit-scrollbar {\n  display: none;\n}\n.content[data-v-13630b4e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.aui-checkbox[data-v-13630b4e] {\n  margin-left: 5px;\n}\n",""])},"NO/u":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("0oES"),o=a("qfSh"),d=a("AmW9"),n=a("YAYg"),r={data:function(){return{loading:!1,updateModel:{devType:"",devModel:""},appForm:{appList:[]},appList:[{AppNum:"CQ",AppName:"排队机应用"},{AppNum:"LMHTS",AppName:"厅堂"},{AppNum:"SS",AppName:"自助"}],appListSel:[]}},methods:{modelUpdate:function(){var e=this;this.$refs.updateModel.validate(function(t){if(!t)return e.loading=!1,e.$aui.message.show({type:"warning",message:"请输入合法的数据！"}),!1;e.loading=!0;var a=new d.a;a.data.DeviceModel=e.appBind.currentRow.devicemodel;var o=[];e.appForm.appList.forEach(function(t){o.push({DeviceModel:e.appBind.currentRow.devicemodel,AppNum:t})}),a.data.DevAppList=o,Object(i.a)(a).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"设备应用绑定成功!"}),e.isShow=!1,e.$emit("refreshTableModel")}).catch(function(t){e.loading=!1})})},openAppBind:function(){this.updateModel.devType=this.appBind.currentRow.devicetype,this.updateModel.devModel=this.appBind.currentRow.devicemodel},initDate:function(){var e=this;this.loading=!0;var t=new o.a;t.data.UserNum=this.$store.getters.UserNum,Object(i.a)(t).then(function(t){e.loading=!1,e.appList=t.RspInfo.Result||[]}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})});var a=new n.a;a.data.DeviceModel=this.updateModel.devModel,Object(i.a)(a).then(function(t){e.loading=!1;for(var a=t.RspInfo.Result||[],i=0;i<a.length;i++)e.appForm.appList.push(a[i].AppNum)}).catch(function(t){e.loading=!1})},clearForm:function(){this.$refs.appForm.clearValidate(),this.$refs.appForm.resetFields()}},props:{appBind:Object},computed:{isShow:{get:function(){return this.appBind.isShow},set:function(e){this.appBind.isShow=e}}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aui-dialog",{attrs:{title:"应用绑定",visible:e.isShow,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t},show:e.openAppBind,hide:e.clearForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("设备型号信息")])]),e._v(" "),a("aui-form",{ref:"updateModel",attrs:{model:e.updateModel,"label-width":"90px",size:"mini","label-position":"left"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备类型:",prop:"devType"}},[a("aui-input",{attrs:{disabled:"",placeholder:"请输入设备类型",name:"BrandId"},model:{value:e.updateModel.devType,callback:function(t){e.$set(e.updateModel,"devType",t)},expression:"updateModel.devType"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备型号:",prop:"devModel"}},[a("aui-input",{attrs:{disabled:"",placeholder:"请输入型号",name:"BrandId"},model:{value:e.updateModel.devModel,callback:function(t){e.$set(e.updateModel,"devModel",t)},expression:"updateModel.devModel"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px","max-height":"300px",overflow:"auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("应用")])]),e._v(" "),a("aui-form",{ref:"appForm",attrs:{model:e.appForm,"label-width":"90px",size:"mini","label-position":"left"}},[a("aui-row",[a("aui-col",[a("aui-form-item",{attrs:{label:"应用绑定:",prop:"appList"}},[a("aui-checkbox-group",{attrs:{max:1},model:{value:e.appForm.appList,callback:function(t){e.$set(e.appForm,"appList",t)},expression:"appForm.appList"}},e._l(e.appList,function(t){return a("aui-checkbox",{key:t.AppNum,attrs:{label:t.AppNum}},[e._v(e._s(t.AppName))])}))],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.modelUpdate}},[e._v("确认")])],1)],1)])},staticRenderFns:[]};var l=a("/Xao")(r,s,!1,function(e){a("YA9q")},"data-v-3da5e457",null).exports,c=a("pADA"),u=a("Nk9m"),p=a("gr+L"),v=a("mydf"),m=(a("n6OB"),a("xWKW")),h=a("fCv1"),g={data:function(){var e=this;return{isShowIn:[{label:"0-否",value:"0"},{label:"1-是",value:"1"}],loading:!1,devBrandInfoList:[],devBrandInfoMap:{},addModel:{devModel:"",devType:"",serverid:"",devBrand:"",period:"",dealTime:"",isLayout:"1",isActive:"1",isShowIn:"0"},deviceTypeSpinner:"",devType:[],rules:{serverid:[{required:!0,message:"请输入设备品牌",trigger:"blur"}],devType:[{required:!0,message:"请选择设备类型",trigger:"blur"}],devModel:[{required:!0,message:"请输入设备型号",trigger:"blur"},{require:!1,validator:h.l,trigger:"blur"}],period:[{required:!0,validator:Object(h.h)(3),trigger:"blur"},{required:!0,validator:function(t,a,i){e.addModel.period||a?a&&/^[1-9]*[1-9][0-9]*$/.test(a)||e.addModel.period&&""==a?i():i(new Error("必须是正整数且不能以0开头!")):i(new Error("请输入保修年限!"))},trigger:"blur"}],dealTime:[{required:!1,validator:Object(h.i)(18,2),trigger:"blur"}]}}},created:function(){},methods:{initDate:function(){var e=this;this.loading=!0;var t=new v.a;t.data.BrandName=void 0,t.data.BrandShortName=void 0,t.QueryPageNo=1,t.QueryRowNum=99999,Object(i.a)(t).then(function(t){e.loading=!1,e.devBrandInfoList=t.RspInfo.brandinfolist||[],e.devBrandInfoMap=c.a.objArray2Hash(t.RspInfo.brandinfolist,"brandId")}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})})},brandChange:function(){var e=this;this.addModel.devType="";var t=new m.a;t.data.EQUIP_BRAND_NO=this.addModel.serverid,Object(i.a)(t).then(function(t){console.log(""),e.deviceTypeSpinner=t.RspInfo.Result||[]}).catch(function(e){console.error("查询错误",e)})},openCreate:function(){this.initDate(),"2"==this.createModel.devForm?this.updateDate():this.addModel={devModel:"",devType:"",serverid:"",devBrand:"",period:"",dealTime:"",isActive:"1",isLayout:"1"}},updateDate:function(){this.addModel.devType=this.createModel.currentRow.devicetype,this.addModel.devModel=this.createModel.currentRow.devicemodel,this.addModel.serverid=this.createModel.currentRow.manunum,this.addModel.devBrand=this.createModel.currentRow.devicebrand,this.addModel.isShowIn=this.createModel.currentRow.doyouneedgetin,this.addModel.period=this.createModel.currentRow.period+"",this.addModel.dealTime=this.createModel.currentRow.dealtime,this.addModel.isLayout=this.createModel.currentRow.islayout,this.addModel.isActive=this.createModel.currentRow.lsactive},modelAdd:function(){var e=this;this.$refs.addModel.validate(function(t){if(!t)return e.loading=!1,e.$aui.message.show({type:"warning",message:"请输入合法的数据！"}),!1;e.loading=!0;var a="1"==e.createModel.devForm?new u.a:new p.a;a.data.DoYouNeedGetIn=e.addModel.isShowIn,a.data.DeviceType=e.addModel.devType.split("-")[0],a.data.ManuNum=e.addModel.serverid,a.data.DeviceModel=e.addModel.devModel,a.data.DeviceBrand=e.devBrandInfoMap[e.addModel.serverid].brandName,a.data.Period=e.addModel.period,a.data.DealTime=e.addModel.dealTime,a.data.islayout=e.addModel.isLayout,a.data.lsactive=e.addModel.isActive,Object(i.a)(a).then(function(t){var a="1"==e.createModel.devForm?"创建":"修改";e.$aui.message.show({type:"success",message:"设备型号"+a+"成功!"}),e.loading=!1,e.isShow=!1,e.$emit("refreshTableModel")}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage+"!"}),console.log(t)})})},clearForm:function(e){this.$refs.addModel.clearValidate(),this.$refs.addModel.resetFields(),this.deviceTypeSpinner=[]}},props:{createModel:Object},computed:{isShow:{get:function(){return this.createModel.isShow},set:function(e){this.createModel.isShow=e}}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aui-dialog",{attrs:{title:e.createModel.title,visible:e.isShow,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t},show:e.openCreate,hide:e.clearForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"addModel",attrs:{model:e.addModel,"label-width":"120px",rules:e.rules,size:"mini","label-position":"right"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备型号:",prop:"devModel"}},[a("aui-input",{attrs:{disabled:e.createModel.isDisabled,placeholder:"请输入型号",name:"BrandId"},model:{value:e.addModel.devModel,callback:function(t){e.$set(e.addModel,"devModel",t)},expression:"addModel.devModel"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备品牌:",prop:"serverid"}},[a("aui-select",{attrs:{placeholder:"请选择设备品牌",disabled:e.createModel.isDisabled},on:{change:e.brandChange},model:{value:e.addModel.serverid,callback:function(t){e.$set(e.addModel,"serverid",t)},expression:"addModel.serverid"}},e._l(e.devBrandInfoList,function(e){return a("aui-option",{key:e.brandId,attrs:{label:e.brandName,value:e.brandId,disabled:e.disabled}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备类型:",prop:"devType"}},[a("aui-select",{attrs:{disabled:e.createModel.isDisabled,filterable:"",placeholder:"请选择设备类型"},model:{value:e.addModel.devType,callback:function(t){e.$set(e.addModel,"devType",t)},expression:"addModel.devType"}},e._l(e.deviceTypeSpinner,function(e){return a("aui-option",{key:e.DataKeyVal,attrs:{label:e.DataKeyVal+"-"+e.Meaning,value:e.DataKeyVal,disabled:e.disabled}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"保修年限:",prop:"period"}},[a("aui-input",{attrs:{placeholder:"请输入保修年限"},model:{value:e.addModel.period,callback:function(t){e.$set(e.addModel,"period",t)},expression:"addModel.period"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"是否走布放审批:",prop:"isLayout"}},[a("aui-select",{attrs:{placeholder:"请选择"},model:{value:e.addModel.isLayout,callback:function(t){e.$set(e.addModel,"isLayout",t)},expression:"addModel.isLayout"}},e._l(e.isShowIn,function(e){return a("aui-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"是否走激活:",prop:"isActive"}},[a("aui-select",{attrs:{placeholder:"请选择"},model:{value:e.addModel.isActive,callback:function(t){e.$set(e.addModel,"isActive",t)},expression:"addModel.isActive"}},e._l(e.isShowIn,function(e){return a("aui-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"故障约定处理时间(小时):",prop:"dealTime"}},[a("aui-input",{attrs:{placeholder:"请输入处理时间"},model:{value:e.addModel.dealTime,callback:function(t){e.$set(e.addModel,"dealTime",t)},expression:"addModel.dealTime"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"10px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.isShow=!1}}},[e._v("取消")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.modelAdd}},[e._v("确认")])],1)],1)])},staticRenderFns:[]};var M=a("/Xao")(g,f,!1,function(e){a("PgSM")},"data-v-13630b4e",null).exports,b=a("syAl"),y={props:{optionModel:Object},data:function(){return{total:0,modelInfoList:[],pageSize:void 0,deviceTypeSpinner:"",currentPage:1,checkedUser:void 0,isDisabledDel:void 0,enum:{0:"0-否",1:"1-是"}}},created:function(){this.pageSize=b.a.get("PageSize")},beforeUpdate:function(){this.checkedUser=!1,this.isDisabledDel=!1,this.modelInfoList=this.optionModel.devModelList,this.deviceTypeSpinner=this.optionModel.deviceTypeSpinner,this.total=this.optionModel.total,this.enumModule=this.optionModel.enumModule},methods:{typeInit:function(e){var t=this,a=new m.a;a.data.EQUIP_BRAND_NO=e,Object(i.a)(a).then(function(e){console.log(""),t.deviceTypeSpinner=e.RspInfo.Result||[]}).catch(function(e){console.error("查询错误",e)})},dataFormat:function(e,t){return this.enum[e[t.property]]},dataFormat1:function(e,t){if("devicetype"==t.property)return e[t.property]+"-"+e.devicetypename},handleCurrentChangeTable:function(e){this.$emit("rowDate",e),1==e.length?(this.checkedUser=!0,this.isDisabledDel=!0):e.length>1?this.$refs.modelInfoList.toggleRowSelection(e[0]):(this.checkedUser=!1,this.isDisabledDel=!1),this.$emit("isEnabled",this.checkedUser,this.isDisabledDel)},handleCurrentChange:function(e){this.$emit("returnCurrentPage",e)}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"visible.sync":"true"}},[a("aui-table",{ref:"modelInfoList",staticClass:"tableMarginTop",attrs:{data:e.modelInfoList,border:"","header-row-class-name":"tableHeaderClass"},on:{"selection-change":e.handleCurrentChangeTable}},[a("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"devicemodel",label:"设备型号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"devicetype",formatter:e.dataFormat1,label:"设备类型"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"devicebrand",label:"设备品牌"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"period",label:"保修年限"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"islayout",label:"是否走布放审批",formatter:e.dataFormat}}),e._v(" "),a("aui-table-column",{attrs:{prop:"lsactive",label:"是否走激活",formatter:e.dataFormat}}),e._v(" "),a("aui-table-column",{attrs:{prop:"dealtime",label:"故障约定处理时间"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var D=a("/Xao")(y,w,!1,function(e){a("CXo0")},"data-v-06102961",null).exports,S=(a("nXXQ"),a("xKrY")),_=a("zdBp"),T={data:function(){return{devModelId:"",devForm:[],devModule:[],devBrand:[],pageSize:void 0,currentRow:[],devModelMgrQueryForm:{devModel:"",devForm:[],devType:"",brandId:"",devBrand:""},deviceTypeSpinner:[],deviceBrandSpinner:[],dialogList:{createModel:M,appBind:l,listDevModel:D},dialogOptionsCreate:{isShow:!1,devForm:""},dialogOptionsMod:{isShow:!1,currentRow:[]},dialogOptionsListGS:{devModelList:[]},loading:!1,currentPage:1,checkedUser:!1,isDisabledDel:!1,checkedModPad:!1,isDisabledDelPad:!1}},created:function(){this.pageSize=b.a.get("PageSize"),this.initDate()},watch:{devModelMgrQueryForm:{handler:function(e,t){this.currentPage=1},deep:!0}},methods:{appBindModel:function(){this.dialogOptionsMod.isShow=!0,this.dialogOptionsMod.currentRow=this.currentRow},changePage:function(e){this.currentPage=e,this.modelQuery()},addModel:function(e){this.dialogOptionsCreate.isShow=!0,this.dialogOptionsCreate.devForm=e,this.dialogOptionsCreate.title="新增设备型号",this.dialogOptionsCreate.isDisabled=!1,this.dialogOptionsCreate.deviceTypeSpinner=this.deviceTypeSpinner},updateModel:function(e){this.dialogOptionsCreate.isShow=!0,this.dialogOptionsCreate.devForm=e,this.dialogOptionsCreate.title="修改设备型号",this.dialogOptionsCreate.isDisabled=!0,this.dialogOptionsCreate.currentRow=this.currentRow},rowDate:function(e){var t=this;this.currentRow=e[0],this.devModelId="",e.forEach(function(e){t.devModelId=t.devModelId+e.devicemodel+","}),this.devModelId=this.devModelId.slice(0,this.devModelId.length-1)},isEnabled:function(e,t){this.checkedUser=e,this.isDisabledDel=t},initDate:function(){var e=this,t=new v.a;t.data.BrandName=void 0,t.data.BrandShortName=void 0,t.QueryPageNo=1,t.QueryRowNum=99999,Object(i.a)(t).then(function(t){e.deviceBrandSpinner=t.RspInfo.brandinfolist||[]}).catch(function(e){})},isEnabledPad:function(e,t){this.checkedModPad=e,this.isDisabledDelPad=t},brandChange:function(){var e=this;this.devModelMgrQueryForm.devType="";var t=new m.a;t.data.EQUIP_BRAND_NO=this.devModelMgrQueryForm.devBrand,Object(i.a)(t).then(function(t){console.log(""),e.deviceTypeSpinner=t.RspInfo.Result||[]}).catch(function(e){console.error("查询错误",e)})},sureDel:function(){var e=this;this.loading=!0;var t=new S.a;t.data.DeviceModel=this.devModelId,t.data.DeviceType=this.currentRow.devicetype,Object(i.a)(t).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"设备型号删除成功!"}),e.modelQuery()}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})})},delModelClick:function(){var e=this;this.$aui.confirm.show("此操作将永久删除该设备型号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.sureDel()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消删除"})})},clearForm:function(e){this.$refs[""+e].resetFields()},handleCurrentChange:function(e){this.currentPage=e},modelQuery:function(){var e=this;this.loading=!0,this.dialogOptionsListGS.devModelList=[];var t=new _.a;t.data.DeviceBrand=this.devModelMgrQueryForm.devBrand,t.data.DeviceModel=this.devModelMgrQueryForm.devModel,t.data.DeviceType=this.devModelMgrQueryForm.devType.split("-")[0],t.data.start=(this.currentPage-1)*this.pageSize,t.data.length=this.pageSize,t.QueryPageNo=this.currentPage,t.QueryRowNum=this.pageSize,Object(i.a)(t).then(function(t){e.loading=!1,e.dialogOptionsListGS.devModelList=t.RspInfo.pageList;var a=t.RspInfo.recordsTotal?t.RspInfo.recordsTotal:0;e.$set(e.dialogOptionsListGS,"total",a)}).catch(function(t){e.loading=!1,e.dialogOptionsListGS.devModelList=[],e.$set(e.dialogOptionsListGS,"total",0),e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage+"!"})})},getExcel:function(){var e=this;this.loading=!0;var t=new _.a;t.data.DeviceModel=this.devModelMgrQueryForm.devModel,t.data.DeviceType=this.devModelMgrQueryForm.devType.split("-")[0],t.data.CurtPage="1",t.data.PageSize="50000000",t.data.StartRows="",Object(i.a)(t).then(function(t){e.loading=!1,"000000"==t.SYS_HEAD.ReturnCode?(e.list1=t.RspInfo.pageList||[],e.handleDownload()):e.$aui.message.show({type:"warning",message:"导出失败"+t.SYS_HEAD.ReturnMessage})}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:"导出失败"+t.SYS_HEAD.ReturnMessage})})},handleDownload:function(){var e=this;a.e(169).then(a.bind(null,"FNRk")).then(function(t){var a=e.list1,i=e.formatJson(["devicemodel","devicetype","devicebrand","period","dealtime"],a);t.export_json_to_excel({header:["设备型号","设备类型","设备品牌","保修年限","故障约定处理时间"],data:i,filename:e.filename,autoWidth:e.autoWidth,bookType:e.bookType})})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?parseTime(t[e]):t[e]})})}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dev-model-manage",attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",[a("aui-form",{ref:"devModelMgrQueryForm",attrs:{model:e.devModelMgrQueryForm,size:"mini","label-position":"top"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"设备品牌",prop:"devBrand"}},[a("aui-select",{attrs:{placeholder:"请选择设备品牌"},on:{change:e.brandChange},model:{value:e.devModelMgrQueryForm.devBrand,callback:function(t){e.$set(e.devModelMgrQueryForm,"devBrand",t)},expression:"devModelMgrQueryForm.devBrand"}},e._l(e.deviceBrandSpinner,function(e){return a("aui-option",{key:e.brandId,attrs:{label:e.brandName,value:e.brandId}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"设备类型",prop:"devType"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择设备类型"},model:{value:e.devModelMgrQueryForm.devType,callback:function(t){e.$set(e.devModelMgrQueryForm,"devType",t)},expression:"devModelMgrQueryForm.devType"}},e._l(e.deviceTypeSpinner,function(e){return a("aui-option",{key:e.DataKeyVal,attrs:{label:e.DataKeyVal+"-"+e.Meaning,value:e.DataKeyVal}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"设备型号",prop:"devModel"}},[a("aui-input",{attrs:{placeholder:"请输入型号"},model:{value:e.devModelMgrQueryForm.devModel,callback:function(t){e.$set(e.devModelMgrQueryForm,"devModel",t)},expression:"devModelMgrQueryForm.devModel"}})],1)],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-search",loading:e.loading},on:{click:e.modelQuery}},[e._v("查询")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(t){e.clearForm("devModelMgrQueryForm")}}},[e._v("重置")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-download"},on:{click:e.getExcel}},[e._v("导出")])],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px","min-height":"500px"}},[a("aui-row",[a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevModel_Add")?a("aui-button",{staticClass:"b-button",attrs:{type:"primary",size:"mini",icon:"aui-icon-plus",disabled:e.checkedUser},on:{click:function(t){e.addModel("1")}}},[e._v("新增")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevModel_Edit")?a("aui-button",{staticClass:"b-button",attrs:{type:"primary",size:"mini",icon:"aui-icon-edit",disabled:!e.checkedUser},on:{click:function(t){e.updateModel("2")}}},[e._v("修改")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevModel_Delete")?a("aui-button",{staticClass:"b-button",attrs:{type:"danger",size:"mini",icon:"aui-icon-delete",disabled:!e.isDisabledDel},on:{click:e.delModelClick}},[e._v("删除")]):e._e()],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevModel_Edit")?a("aui-button",{staticClass:"b-button",attrs:{type:"primary",size:"mini",icon:"aui-icon-edit",disabled:!e.checkedUser},on:{click:e.appBindModel}},[e._v("应用绑定")]):e._e()],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.listDevModel,{tag:"component",attrs:{optionModel:e.dialogOptionsListGS},on:{returnCurrentPage:e.changePage,rowDate:e.rowDate,isEnabled:e.isEnabled}})],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.createModel,{tag:"component",attrs:{createModel:e.dialogOptionsCreate},on:{refreshTableModel:e.modelQuery}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.appBind,{tag:"component",attrs:{appBind:e.dialogOptionsMod},on:{refreshTableModel:e.modelQuery}})],1)],1)},staticRenderFns:[]};var C=a("/Xao")(T,x,!1,function(e){a("fF0F")},"data-v-f74fb7d2",null);t.default=C.exports},Nk9m:function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",DeviceType:"",DoYouNeedGetIn:"",DeviceBrand:"",ManuNum:"",Period:"",DealTime:""},this.CommCode="IBDeviceManagement",this.SceneCode="DevTypeCreate",this.TransServiceCode="mg-afaservices-dev/devTypeCreate"}},PgSM:function(e,t,a){var i=a("HKib");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("65858152",i,!0)},YA9q:function(e,t,a){var i=a("FriW");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("5b1448ad",i,!0)},YAYg:function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",BusiOper:"Q"},this.BusiDataKey="AppSelectedReturn",this.TransServiceCode="ib-dbcomm/dbComm"}},fF0F:function(e,t,a){var i=a("10Pd");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("572a27ca",i,!0)},"gr+L":function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",DeviceType:"",DoYouNeedGetIn:"",DeviceBrand:"",ManuNum:"",Period:"",DealTime:""},this.CommCode="IBDeviceManagement",this.SceneCode="DevTypeUpdate",this.TransServiceCode="mg-afaservices-dev/devTypeUpdate"}},xKrY:function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={DeviceModel:"",DeviceType:""},this.CommCode="IBDeviceManagement",this.SceneCode="DevTypeDelete",this.TransServiceCode="mg-afaservices-dev/devTypeDelete"}},xWKW:function(e,t,a){"use strict";var i=a("AA3o"),o=a.n(i);t.a=function e(){o()(this,e),this.data={},this.BusiDataKey="SelEquipType",this.TransServiceCode="ib-dbcomm/dbComm"}}});