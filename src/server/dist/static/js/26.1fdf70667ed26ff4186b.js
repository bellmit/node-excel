webpackJsonp([26],{"2JLO":function(e,r,t){var i=t("UBaw");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("8bSs")("7368d340",i,!0)},"5S2g":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("0oES"),o=t("syAl"),a=t("AA3o"),n=t.n(a),s=function e(){n()(this,e),this.data={devForm:"",cProgramName:"",cProgramBasicId:""},this.TransServiceCode="AT.CPIM.V038"},c=function e(){n()(this,e),this.data={cProgramID:""},this.TransServiceCode="AT.CPIM.V041"},d=t("a3Yh"),l=t.n(d),u={props:{optons:Object},data:function(){var e;return e={deviceFormEnum:{},currentRow:"",InfoList:[]},l()(e,"currentRow",[]),l()(e,"loading",!1),l()(e,"currentPage",1),l()(e,"checkedUser",!1),l()(e,"isDisabledDel",!1),e},beforeUpdate:function(){this.InfoList=this.optons.CProcedureInfoList},methods:{currentChange:function(e){this.currentRow=e,this.$emit("rowDate",e),1==e.length?(this.checkedUser=!0,this.isDisabledDel=!0):e.length>1?(this.checkedUser=!1,this.isDisabledDel=!0):(this.checkedUser=!1,this.isDisabledDel=!1),this.$emit("isEnabled",this.checkedUser,this.isDisabledDel)}}},m={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("aui-table",{ref:"CProcedureInfoList",staticClass:"tableMarginTop",attrs:{data:e.InfoList,border:"","header-row-class-name":"tableHeaderClass"},on:{"selection-change":e.currentChange}},[t("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"cProgramName",label:"C端程序名称","min-width":"107px"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"cProgramBasicName",label:"C端基版程序名称","min-width":"107px"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"installEnvironment",label:"运行环境","min-width":"107px"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"serviceProvider",label:"厂商","min-width":"107px"}})],1),e._v(" "),t("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[t("aui-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.InfoList.length}})],1)],1)},staticRenderFns:[]};var g=t("/Xao")(u,m,!1,function(e){t("hBVJ")},"data-v-3822f300",null).exports,v=function e(){n()(this,e),this.data={BusiOper:"Q"},this.TransServiceCode="DEV_PMV047"},h=t("n6OB"),p=function e(){n()(this,e),this.data={devForm:"",cProgramName:"",cProgramBasicId:[]},this.TransServiceCode="AT.CPIM.V039"},f={props:{createCProcedure:Object},data:function(){return{loading:!1,cProcedureBase:[],devFormList:[],cProcedureAdd:{cProgramName:"",cProgramBasicId:"",serviceProvider:"",devForm:"",installEnvironment:""},rules:{cProgramName:[{required:!0,message:"C端程序名称必填",trigger:"blur"},{max:200,message:"C端程序名称必须少于200个字符",trigger:"blur"}],cProgramBasicId:[{required:!0,message:"C端程序基版必填",trigger:"change"}]}}},computed:{isShow:{get:function(){return this.createCProcedure.isShow},set:function(e){this.createCProcedure.isShow=e}}},methods:{openCreate:function(){this.devForm(),this.cProcedureBaseList()},cProcedureBaseList:function(){var e=this,r=new v;Object(i.a)(r).then(function(r){e.cProcedureBase=r.RspInfo.Result||[]}).catch(function(e){console.error("错误信息",e)})},devForm:function(){var e=this,r=new h.a;Object(i.a)(r).then(function(r){e.devFormList=r.RspInfo.Result||[]}).catch(function(e){console.error("错误信息",e)})},cProcAdd:function(){var e=this;this.$refs.cProcedureAdd.validate(function(r){if(!r)return e.$aui.message.show({type:"warning",message:"必输项不能为空"}),!1;e.loading=!0;var t=new p;t.data.cProgramName=e.cProcedureAdd.cProgramName,t.data.cProgramBasicId=e.cProcedureAdd.cProgramBasicId,t.data.devForm=e.cProcedureAdd.devForm,Object(i.a)(t).then(function(r){e.loading=!1,e.$aui.message.show({type:"success",message:"C端程序创建成功!"}),e.isShow=!1,e.$emit("refreshTableC")}).catch(function(r){e.loading=!1,e.$aui.message.show({type:"warning",message:r.SYS_HEAD.ReturnMessage}),console.log(r)})})},cChange:function(e){var r=this;console.log(e),this.cProcedureBase.forEach(function(t){console.log(t),t.CppbId==e&&(r.cProcedureAdd.installEnvironment=t.InstallEnvironment,r.cProcedureAdd.serviceProvider=t.ServiceProvider)})},clearForm:function(e){}}},P={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("aui-dialog",{attrs:{title:"新增C端程序",visible:e.isShow,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(r){e.isShow=r},show:e.openCreate,hide:e.clearForm}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("aui-card",[t("aui-form",{ref:"cProcedureAdd",attrs:{model:e.cProcedureAdd,rules:e.rules,"label-width":"110px",size:"small","label-position":"left"}},[t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"C端程序名称:",prop:"cProgramName"}},[t("aui-input",{attrs:{placeholder:"请输入C端程序名称"},model:{value:e.cProcedureAdd.cProgramName,callback:function(r){e.$set(e.cProcedureAdd,"cProgramName",r)},expression:"cProcedureAdd.cProgramName"}})],1)],1)],1),e._v(" "),t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"设备形式:",prop:"devForm"}},[t("aui-select",{attrs:{placeholder:"请选择设备形式"},model:{value:e.cProcedureAdd.devForm,callback:function(r){e.$set(e.cProcedureAdd,"devForm",r)},expression:"cProcedureAdd.devForm"}},e._l(e.devFormList,function(e){return t("aui-option",{key:e.value,attrs:{label:e.Meaning,value:e.DataKeyVal,disabled:e.disabled}})}))],1)],1)],1),e._v(" "),t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"C端程序基版:",prop:"cProgramBasicId"}},[t("aui-select",{attrs:{placeholder:"请选择C端程序基版"},on:{change:e.cChange},model:{value:e.cProcedureAdd.cProgramBasicId,callback:function(r){e.$set(e.cProcedureAdd,"cProgramBasicId",r)},expression:"cProcedureAdd.cProgramBasicId"}},e._l(e.cProcedureBase,function(e){return t("aui-option",{key:e.value,attrs:{label:e.CppbName,value:e.CppbId,disabled:e.disabled}})}))],1)],1)],1),e._v(" "),t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"开发厂商:",prop:"serviceProvider"}},[t("aui-input",{attrs:{disabled:""},model:{value:e.cProcedureAdd.serviceProvider,callback:function(r){e.$set(e.cProcedureAdd,"serviceProvider",r)},expression:"cProcedureAdd.serviceProvider"}})],1)],1)],1),e._v(" "),t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"运行环境:",prop:"installEnvironment"}},[t("aui-input",{attrs:{disabled:""},model:{value:e.cProcedureAdd.installEnvironment,callback:function(r){e.$set(e.cProcedureAdd,"installEnvironment",r)},expression:"cProcedureAdd.installEnvironment"}})],1)],1)],1)],1)],1),e._v(" "),t("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[t("aui-button",{attrs:{size:"mini"},on:{click:function(r){e.isShow=!1}}},[e._v("取消")]),e._v(" "),t("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.cProcAdd}},[e._v("确认")])],1)],1)])},staticRenderFns:[]};var b=t("/Xao")(f,P,!1,function(e){t("U0Ch")},"data-v-0e9ea21c",null).exports,w=t("aA9S"),C=t.n(w),x=function e(){n()(this,e),this.data={devForm:[],cProgramName:"",cProgramBasicId:[],cProgramID:""},this.TransServiceCode="AT.CPIM.V040"},A={data:function(){return{loading:!1,cProcedureBase:[],devFormList:[],cProcedureModList:{cProgramName:"",cProgramBasicId:[],serviceProvider:"",installEnvironment:""},rules:{cProgramName:[{required:!0,message:"C端程序名称必填！",trigger:"blur"},{max:200,message:"C端程序名称必须少于200个字符！",trigger:"blur"}],cProgramBasicId:[{required:!0,message:"C端程序基版必填！",trigger:"change"}]}}},created:function(){},methods:{openUpdate:function(){this.cProcedureModList=C()({},this.modCProcedure.currentRow),this.devForm(),this.cProcedureBaseList()},cProcedureBaseList:function(){var e=this,r=new v;Object(i.a)(r).then(function(r){e.cProcedureBase=r.RspInfo.Result||[]}).catch(function(e){console.error("错误信息",e)})},devForm:function(){var e=this,r=new h.a;Object(i.a)(r).then(function(r){e.devFormList=r.RspInfo.Result||[]}).catch(function(e){console.error("错误信息",e)})},sureMod:function(){var e=this;this.loading=!0;var r=new x;r.data.cProgramID=this.modCProcedure.currentRow.cProgramID,r.data.cProgramName=this.cProcedureModList.cProgramName,r.data.cProgramBasicId=this.cProcedureModList.cProgramBasicId,Object(i.a)(r).then(function(r){e.loading=!1,e.$aui.message.show({type:"success",message:"C端程序修改成功!"}),e.isShow=!1,e.$emit("refreshTableC")}).catch(function(r){e.loading=!1,e.$aui.message.show({type:"warning",message:r.SYS_HEAD.ReturnMessage}),console.log(r)})},cChange:function(e){var r=this;this.cProcedureBase.forEach(function(t){t.cProgramBasicId==e&&(r.cProcedureModList.installEnvironment=t.installEnvironment,r.cProcedureModList.serviceProvider=t.serviceProvider)})},clearForm:function(e){this.cProcedureAdd={},this.devInfoRunAdd={}}},props:{modCProcedure:Object},computed:{isShow:{get:function(){return this.modCProcedure.isShow},set:function(e){this.modCProcedure.isShow=e}}}},_={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("aui-dialog",{attrs:{title:"修改C端程序",visible:e.isShow,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(r){e.isShow=r},show:e.openUpdate,hide:e.clearForm}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("aui-card",[t("aui-form",{ref:"cProcedureModList",attrs:{model:e.cProcedureModList,rules:e.rules,"label-width":"110px",size:"small","label-position":"left"}},[t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"C端程序名称:",prop:"cProgramName"}},[t("aui-input",{attrs:{placeholder:"请输入C端程序名称"},model:{value:e.cProcedureModList.cProgramName,callback:function(r){e.$set(e.cProcedureModList,"cProgramName",r)},expression:"cProcedureModList.cProgramName"}})],1)],1)],1),e._v(" "),t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"设备形式:",prop:"devForm"}},[t("aui-select",{attrs:{placeholder:"请选择设备形式"},model:{value:e.cProcedureModList.devForm,callback:function(r){e.$set(e.cProcedureModList,"devForm",r)},expression:"cProcedureModList.devForm"}},e._l(e.devFormList,function(e){return t("aui-option",{key:e.value,attrs:{label:e.Meaning,value:e.DataKeyVal,disabled:e.disabled}})}))],1)],1)],1),e._v(" "),t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"C端程序基版:",prop:"cProgramBasicId"}},[t("aui-select",{attrs:{placeholder:"请选择交易"},on:{change:e.cChange},model:{value:e.cProcedureModList.cProgramBasicId,callback:function(r){e.$set(e.cProcedureModList,"cProgramBasicId",r)},expression:"cProcedureModList.cProgramBasicId"}},e._l(e.cProcedureBase,function(e){return t("aui-option",{key:e.value,attrs:{label:e.CppbName,value:e.CppbId,disabled:e.disabled}})}))],1)],1)],1),e._v(" "),t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"开发厂商:",prop:"serviceProvider"}},[t("aui-input",{attrs:{disabled:""},model:{value:e.cProcedureModList.serviceProvider,callback:function(r){e.$set(e.cProcedureModList,"serviceProvider",r)},expression:"cProcedureModList.serviceProvider"}})],1)],1)],1),e._v(" "),t("aui-row",{staticClass:"devAddHeight"},[t("aui-col",[t("aui-form-item",{attrs:{label:"运行环境:",prop:"installEnvironment"}},[t("aui-input",{attrs:{disabled:""},model:{value:e.cProcedureModList.installEnvironment,callback:function(r){e.$set(e.cProcedureModList,"installEnvironment",r)},expression:"cProcedureModList.installEnvironment"}})],1)],1)],1)],1)],1),e._v(" "),t("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[t("aui-button",{attrs:{size:"mini"},on:{click:function(r){e.isShow=!1}}},[e._v("取消")]),e._v(" "),t("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sureMod}},[e._v("确认")])],1)],1)])},staticRenderFns:[]};var y=t("/Xao")(A,_,!1,function(e){t("ADDk")},"data-v-70078ff8",null).exports,k={data:function(){return{currentRow:"",loading:!1,currentPage:1,dialogList:{createCInfo:b,modCInfo:y,listCProcedure:g},dialogOptions:{isShow:!1},dialogOptionsList:{CProcedureInfoList:[]},modDialogOptions:{isShow:!1,currentRow:""},checkedUser:!1,isDisabledDel:!1}},created:function(){this.queryCProg()},methods:{rowDate:function(e){this.modDialogOptions.currentRow=e[0]},queryCProg:function(){var e=this;this.loading=!0,this.dialogOptionsList.CProcedureInfoList=[];var r=new s;r.QueryPageNo=this.currentPage,r.QueryRowNum=o.a.get("PageSize"),Object(i.a)(r).then(function(r){e.loading=!1,e.dialogOptionsList.CProcedureInfoList=r.RspInfo.cProgramList}).catch(function(r){e.loading=!1,e.$aui.message.show({type:"warning",message:r.SYS_HEAD.ReturnMessage}),console.error(r)})},isEnabledBtn:function(e,r){this.isDisabledDel=r,this.checkedUser=e},cProcedureAdd:function(){this.dialogOptions.isShow=!0},cProcedureMod:function(){this.modDialogOptions.isShow=!0},sureDel:function(){var e=this;this.loading=!0;var r=new c;r.data.cProgramID=this.modDialogOptions.currentRow.cProgramID,Object(i.a)(r).then(function(r){e.loading=!1,e.$aui.message.show({type:"success",message:"C端程序删除成功!"}),e.queryCProg()}).catch(function(r){e.loading=!1,e.$aui.message.show({type:"info",message:r.SYS_HEAD.ReturnMessage})})},cProcedureDel:function(){var e=this;this.$aui.confirm.show("此操作将永久删除该C端程序, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.sureDel()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消删除"})})}}},I={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dev-model-manage",attrs:{"element-loading-text":"加载中。。。"}},[t("aui-card",[t("aui-row",[t("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevProgram_Add")?t("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-plus"},on:{click:function(r){e.cProcedureAdd()}}},[e._v("新增")]):e._e()],1),e._v(" "),t("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevProgram_Edit")?t("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-edit",disabled:!e.checkedUser},on:{click:e.cProcedureMod}},[e._v("修改")]):e._e()],1),e._v(" "),t("aui-col",{attrs:{lg:2,md:3}},[e.btnPermission("Button_DevProgram_Delete")?t("aui-button",{attrs:{type:"danger",size:"mini",icon:"aui-icon-delete",disabled:!e.isDisabledDel},on:{click:e.cProcedureDel}},[e._v("删除")]):e._e()],1)],1),e._v(" "),t("keep-alive",[t(e.dialogList.listCProcedure,{tag:"component",attrs:{optons:e.dialogOptionsList},on:{rowDate:e.rowDate,isEnabled:e.isEnabledBtn}})],1)],1),e._v(" "),t("keep-alive",[t(e.dialogList.createCInfo,{tag:"component",attrs:{createCProcedure:e.dialogOptions},on:{refreshTableC:e.queryCProg}})],1),e._v(" "),t("keep-alive",[t(e.dialogList.modCInfo,{tag:"component",attrs:{modCProcedure:e.modDialogOptions},on:{refreshTableC:e.queryCProg}})],1)],1)},staticRenderFns:[]};var L=t("/Xao")(k,I,!1,function(e){t("2JLO")},"data-v-948f98bc",null);r.default=L.exports},"8DSj":function(e,r,t){(e.exports=t("BkJT")(!1)).push([e.i,"",""])},ADDk:function(e,r,t){var i=t("n/3d");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("8bSs")("30162fda",i,!0)},U0Ch:function(e,r,t){var i=t("VrUx");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("8bSs")("35b30d2b",i,!0)},UBaw:function(e,r,t){(e.exports=t("BkJT")(!1)).push([e.i,"\n.dialog-text[data-v-948f98bc] {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: red;\n  font-size: 18px;\n}\n.cardStyle[data-v-948f98bc] {\n  margin: 5px 0;\n}\n.demo-table-expand .aui-form-item[data-v-948f98bc] {\n  margin-bottom: 5px;\n}\n",""])},VrUx:function(e,r,t){(e.exports=t("BkJT")(!1)).push([e.i,"\n.devAddHeight[data-v-0e9ea21c] {\n  height: 50px;\n  line-height: 50px;\n}\n.content[data-v-0e9ea21c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n",""])},hBVJ:function(e,r,t){var i=t("8DSj");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("8bSs")("10bce6f7",i,!0)},"n/3d":function(e,r,t){(e.exports=t("BkJT")(!1)).push([e.i,"\n.devAddHeight[data-v-70078ff8] {\n  height: 50px;\n  line-height: 50px;\n}\n.content[data-v-70078ff8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.footer[data-v-70078ff8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n",""])}});