webpackJsonp([76],{DJVy:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.aui-form-item[data-v-79b9007e] {\n  margin-bottom: 5px;\n}\n",""])},FspY:function(e,t,a){"use strict";var r=a("AA3o"),n=a.n(r);t.a=function e(){n()(this,e),this.data={equip_brand_no:"",equip_typ_no:"",equip_typ_nm:"",OperType:""},this.CommCode="IBDeviceManagement",this.SceneCode="DeviceTypeMnt",this.TransServiceCode="mg-afaservices-dev/deviceBrandInfoIncreased"}},"WQr+":function(e,t,a){var r=a("DJVy");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("8bSs")("a8ded792",r,!0)},YSYB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("0oES"),n=a("syAl"),i=a("FspY"),o=a("olAs"),s=(a("fCv1"),{data:function(){return{deviceBrandSpinner:[],devtypeMgrQueryForm:{brandNo:"",typeNum:"",typeName:""},TypeInfoList:[],loading:!1,currentPage:1,pageSize:void 0,totalRcrdNum:0}},mounted:function(){this.pageSize=n.a.get("PageSize"),this.brandQuery()},watch:{devtypeMgrQueryForm:{handler:function(e,t){this.currentPage=1},deep:!0}},methods:{brandQuery:function(){var e=this,t=new o.a;Object(r.a)(t).then(function(t){e.deviceBrandSpinner=t.RspInfo.Result||[]}).catch(function(e){console.error("查询错误",e)}),this.$nextTick(function(){this.typeQuery()})},dataFormat:function(e,t){var a=e[t.property];if("equip_brand_no"==t.property)return a+"-"+e.serv_pro_nm},clearForm:function(e){this.$refs[""+e].resetFields()},handleCurrentChange:function(e){this.currentPage=e,this.typeQuery()},typeQuery:function(){var e=this,t=new i.a;this.loading=!0,t.data.equip_brand_no=this.devtypeMgrQueryForm.brandNo,t.data.equip_typ_no=this.devtypeMgrQueryForm.typeNum,t.data.equip_typ_nm=this.devtypeMgrQueryForm.typeName,t.data.start=this.currentPage+"",t.data.length=this.pageSize+"",t.data.OperType="Q",console.log(this.currentPage+" "+this.pageSize),Object(r.a)(t).then(function(t){console.log(t),e.loading=!1,e.TypeInfoList=t.RspInfo.pageList||[],e.totalRcrdNum=t.RspInfo.recordsTotal||0}).catch(function(t){e.loading=!1,e.TypeInfoList=[],e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})})}}}),u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dev-type-manage",attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",[a("aui-form",{ref:"devtypeMgrQueryForm",attrs:{model:e.devtypeMgrQueryForm,size:"mini","label-position":"top"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"设备品牌",prop:"brandNo"}},[a("aui-select",{attrs:{filterable:"",placeholder:"请选择设备品牌"},model:{value:e.devtypeMgrQueryForm.brandNo,callback:function(t){e.$set(e.devtypeMgrQueryForm,"brandNo",t)},expression:"devtypeMgrQueryForm.brandNo"}},e._l(e.deviceBrandSpinner,function(e){return a("aui-option",{key:e.serv_pro_no,attrs:{label:e.serv_pro_no+"-"+e.serv_pro_nm,value:e.serv_pro_no}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"设备类型编号",prop:"typeNum"}},[a("aui-input",{attrs:{placeholder:"请输入设备类型编号"},model:{value:e.devtypeMgrQueryForm.typeNum,callback:function(t){e.$set(e.devtypeMgrQueryForm,"typeNum",t)},expression:"devtypeMgrQueryForm.typeNum"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"设备类型名称",prop:"typeName"}},[a("aui-input",{attrs:{placeholder:"请输入设备类型名称"},model:{value:e.devtypeMgrQueryForm.typeName,callback:function(t){e.$set(e.devtypeMgrQueryForm,"typeName",t)},expression:"devtypeMgrQueryForm.typeName"}})],1)],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-search"},on:{click:e.typeQuery}},[e._v("查询")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(t){e.clearForm("devtypeMgrQueryForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("aui-table",{ref:"dataTypeInfo",staticClass:"tableMarginTop",attrs:{data:e.TypeInfoList,border:"","max-height":"400",width:"100%","header-row-class-name":"tableHeaderClass","highlight-current-row":""}},[a("aui-table-column",{attrs:{prop:"equip_brand_no",formatter:e.dataFormat,label:"设备品牌"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"equip_typ_no",label:"设备类型编号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"equip_typ_nm",label:"设备类型名称"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.totalRcrdNum},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var p=a("/Xao")(s,u,!1,function(e){a("WQr+")},"data-v-79b9007e",null);t.default=p.exports},olAs:function(e,t,a){"use strict";var r=a("AA3o"),n=a.n(r);t.a=function e(){n()(this,e),this.data={},this.BusiDataKey="SelectDeviceSupploer",this.TransServiceCode="ib-dbcomm/dbComm"}}});