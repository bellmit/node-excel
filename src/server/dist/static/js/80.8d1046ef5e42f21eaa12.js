webpackJsonp([80],{AIvF:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.main-card[data-v-fa119fc2] {\n  min-height: 502px;\n}\n.searchBtnMarginTop[data-v-fa119fc2] {\n  margin-top: 0px;\n}\n",""])},Qekt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),s=a.n(i),n=a("0oES"),r=(a("syAl"),a("mYVP"),a("AA3o")),o=a.n(r),c=function e(){o()(this,e),this.data={OperType:"A"},this.CommCode="PLESeal",this.SceneCode="SealMaintenace",this.TransServiceCode="mg-afaservices-paperless/sealMaintenace"},l=function e(){o()(this,e),this.data={OperType:"QS"},this.CommCode="PLESeal",this.SceneCode="SealMaintenace",this.TransServiceCode="mg-afaservices-paperless/sealMaintenace"},u=(a("pADA"),{data:function(){return{filterText:"",pageList:[],pageList1:[],loading:!1,props:{label:"allname",children:"children"}}},created:function(){this.query()},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:{},methods:{submit:function(){var e=this;this.loading=!0;var t=this.$refs.tree.getCheckedKeys()||[],a=new c;a.data.scopeValue=s()(t),a.data.scopeValueNum=t.length,Object(n.a)(a).then(function(t){e.$emit("refreshTable"),e.$aui.message.show({type:"success",message:"修改成功!"}),e.loading=!1}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})})},init:function(){this.filterText="",this.query()},close:function(){var e=this;this.$store.dispatch("delView",this.$route).then(function(t){var a=t.visitedViews.slice(-1)[0];a?e.$router.push(a):e.$router.push("/")})},query:function(){var e=this;this.loading=!0;var t=new l;t.data.scopeValue="",t.data.length=99999,t.data.start=0,Object(n.a)(t).then(function(t){e.loading=!1,console.log("====",t.RspInfo);var a=t.RspInfo.pageList||[];e.pageList=e.toolBox.formatTreeData(a,"orgno","superno");var i=[];a.forEach(function(e){"1"==e.ischecked&&i.push(e.orgno)}),e.$refs.tree.setCheckedKeys(i)}).catch(function(t){e.loading=!1,e.$refs.tree.setCheckedKeys([]),e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage}),console.log(t)})},filterNode:function(e,t){var a=this.props.id;return!e||(-1!==t[this.props.label].indexOf(e)||!!t[a]&&-1!==t[a].indexOf(e))}}}),d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",{staticStyle:{"margin-bottom":"10px"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[a("i",{staticClass:"aui-icon-check"}),e._v("保存")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini"},on:{click:e.init}},[a("i",{staticClass:"aui-icon-refresh"}),e._v("撤销")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[a("i",{staticClass:"aui-icon-close"}),e._v("关闭")])],1)],1)],1),e._v(" "),a("aui-card",{staticClass:"main-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"20px"}},[e._v("电子印章机构管理")])]),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:8}},[a("aui-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("aui-tree",{ref:"tree",attrs:{data:e.pageList,props:e.props,"show-checkbox":"","node-key":"orgno","filter-node-method":e.filterNode}})],1)],1)],1)],1)])},staticRenderFns:[]};var p=a("/Xao")(u,d,!1,function(e){a("gpYJ")},"data-v-fa119fc2",null);t.default=p.exports},gpYJ:function(e,t,a){var i=a("AIvF");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("14430a00",i,!0)},mYVP:function(e,t,a){"use strict";var i=a("AA3o");a.n(i)}});