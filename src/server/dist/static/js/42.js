webpackJsonp([42],{"9ov7":function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},AlGt:function(e,t,a){"use strict";var o=a("AA3o"),i=a.n(o);t.a=function e(){i()(this,e),this.data={CHANELCODE:"",SEALMODELID:"",STATUS:"",REJECTREASON:"",OPERATETYPE:"",SEALSTYLE:"",SEALMODELDESC:"",tellerno:"",branch:"",p_workdate:"",p_worktime:""},this.CommCode="PLESeal",this.SceneCode="UpdESealMod",this.TransServiceCode="mg-afaservices-paperless/sealCheckupdate"}},VO2q:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("0oES"),i=a("syAl"),s=a("AlGt"),r={props:{option:Object},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}}},data:function(){return{loading:!1,appId:[],form:{REJECTREASON:""},rules:{REJECTREASON:[{required:!0,message:"请填写拒绝原因",trigger:"blur"}]}}},created:function(){},methods:{closeUpdate:function(){this.$refs.form.resetFields(),this.$refs.form.clearValidate()},ItemUpdate:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return e.$aui.message.show({type:"warning",message:"请输入合法的数据！"}),!1;e.loading=!0;var a=new s.a;a.data.CHANELCODE="01",a.data.SEALMODELID=e.option.SEALMODELID,a.data.REJECTREASON=e.form.REJECTREASON,a.data.SEALSTYLE=e.option.SEALSTYLE,a.data.SEALMODELDESC=e.option.SEALMODELDESC,a.data.tellerno=e.$store.getters.UserNum,a.data.branch=e.$store.getters.BranchNum,a.data.p_workdate=e.formatDateForResponse(),a.data.p_worktime=e.formatTimeForResponse(),a.data.STATUS="2",a.data.OPERATETYPE="3",Object(o.a)(a).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"审核拒绝成功！"}),e.$emit("refreshTable"),e.loading=!1,e.isShow=!1}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage}),e.isShow=!1,console.log(t)})})},formatDateForResponse:function(){var e=new Date,t=e.getFullYear()+"",a=e.getMonth()+1+"",o=e.getDate()+"";return t+(a=a.length<2?0+a:a)+(o=o.length<2?0+o:o)},formatTimeForResponse:function(){var e=new Date,t=String(e.getHours()),a=String(e.getMinutes()),o=String(e.getSeconds());return t=t.length<2?"0"+t:t,a=a.length<2?"0"+a:a,o=o.length<2?"0"+o:o,(t=t.length<2?0+t:t)+a+(o=o.length<2?0+o:o)}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{title:e.option.title,visible:e.option.isShow,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.$set(e.option,"isShow",t)},close:e.closeUpdate}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"form",attrs:{model:e.form,size:"mini",rules:e.rules,"label-width":"140px","label-position":"right"}},[a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:24}},[a("aui-form-item",{attrs:{label:"拒绝原因:",prop:"REJECTREASON"}},[a("aui-input",{model:{value:e.form.REJECTREASON,callback:function(t){e.$set(e.form,"REJECTREASON",t)},expression:"form.REJECTREASON"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.option.isShow=!1}}},[e._v("返回")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.ItemUpdate}},[e._v("确定")])],1)],1)])],1)},staticRenderFns:[]};var l=a("/Xao")(r,n,!1,function(e){a("hxO/")},null,null).exports,u=a("FrCs"),c=a("YDD+"),d=(a("pADA"),{data:function(){return{currentRow:[],tableData:[],QueryForm:{sealType:"",sealModelId:"",status:""},status:[{value:"0",label:"新增"},{value:"1",label:"修改"},{value:"2",label:"审批通过"},{value:"3",label:"审批拒绝"},{value:"4",label:"已删除"}],sealType:[{value:"01",label:"电子印章"},{value:"02",label:"实物印章"}],total:0,loading:!1,checkedPost:!1,dialogList:{sealCheckPage:l,sealView:u.a},dialogOptions:{isShow:!1},dialogViewOptions:{isShow:!1},currentPage:1,pageSize:void 0}},created:function(){this.pageSize=i.a.get("PageSize")},computed:{},methods:{clickCheckPass:function(){var e=this;this.loading=!0;var t=new s.a;t.data.CHANELCODE="01",t.data.SEALMODELID=this.currentRow.SEALMODELID,t.data.SEALSTYLE=this.currentRow.SEALSTYLE,t.data.SEALMODELDESC=this.currentRow.SEALMODELDESC,t.data.tellerno=this.$store.getters.UserNum,t.data.branch=this.$store.getters.BranchNum,t.data.STATUS="1",t.data.OPERATETYPE="4",t.data.p_workdate=this.formatDateForResponse(),t.data.p_worktime=this.formatTimeForResponse(),Object(o.a)(t).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"审核成功！"}),e.query()}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage}),console.log(t)})},checkCheckRefuse:function(){this.dialogOptions.isShow=!0,this.dialogOptions.title="审批拒绝",this.dialogOptions.SEALMODELID=this.currentRow.SEALMODELID,this.dialogOptions.SEALSTYLE=this.currentRow.SEALSTYLE,this.dialogOptions.SEALMODELDESC=this.currentRow.SEALMODELDESC},checkShow:function(){this.dialogViewOptions.currentRow=this.currentRow,this.dialogViewOptions.isShow=!0},resetForm:function(e){this.$refs[""+e].resetFields(),this.query()},clickDel:function(){var e=this;this.$aui.confirm.show("此操作将印章审核状态置为删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.Del()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消删除"})})},changePage:function(e){this.currentRow.length<=this.pageSize||void 0==this.currentRow||(this.currentPage=e,this.query())},Del:function(){var e=this;this.loading=!0;var t=new s.a;t.data.CHANELCODE="01",t.data.SEALMODELID=this.currentRow.SEALMODELID,t.data.SEALSTYLE=this.currentRow.SEALSTYLE,t.data.SEALMODELDESC=this.currentRow.SEALMODELDESC,t.data.tellerno=this.$store.getters.UserNum,t.data.STATUS="4",t.data.OPERATETYPE="4",t.data.branch=this.$store.getters.BranchNum,t.data.p_workdate=this.formatDateForResponse(),t.data.p_worktime=this.formatTimeForResponse(),Object(o.a)(t).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"印章状态置为删除成功！"}),e.query()}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage}),console.log(t)})},query:function(){var e=this;this.loading=!0;var t=new c.a;t.data.SEALTYPE=this.QueryForm.sealType,t.data.SEALMODELID=this.QueryForm.sealModelId,t.data.tellerno=this.$store.getters.UserNum,t.data.STATUS=this.QueryForm.status,t.data.pagerownum=this.pageSize,t.data.currpage=this.currentPage,Object(o.a)(t).then(function(t){e.loading=!1,t.RspInfo?(e.tableData=t.RspInfo.struct||[],e.total=t.RspInfo.TotalNum||0):(e.loading=!1,e.$aui.message.show({type:"warning",message:"没有满足条件得记录!"}))}).catch(function(t){e.loading=!1,e.tableData=[],e.total=0,e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage}),console.log(t)})},dataFormat1:function(e,t){for(var a=0;a<this.sealType.length;a++)if(this.sealType[a].value==e[t.property])return this.sealType[a].value+"-"+this.sealType[a].label},dataFormat2:function(e,t){for(var a=0;a<this.status.length;a++)if(this.status[a].value==e[t.property])return this.status[a].value+"-"+this.status[a].label},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.currentRow=e[0],1==e.length?this.checkedPost=!0:this.checkedPost=!1},formatDateForResponse:function(){var e=new Date,t=e.getFullYear()+"",a=e.getMonth()+1+"",o=e.getDate()+"";return t+(a=a.length<2?0+a:a)+(o=o.length<2?0+o:o)},formatTimeForResponse:function(){var e=new Date,t=String(e.getHours()),a=String(e.getMinutes()),o=String(e.getSeconds());return t=t.length<2?"0"+t:t,a=a.length<2?"0"+a:a,o=o.length<2?"0"+o:o,(t=t.length<2?0+t:t)+a+(o=o.length<2?0+o:o)}}}),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",[a("aui-form",{ref:"QueryForm",attrs:{model:e.QueryForm,size:"mini","label-position":"top"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:6,md:12}},[a("aui-form-item",{attrs:{label:"印章类型",prop:"sealType"}},[a("aui-select",{attrs:{filterable:""},model:{value:e.QueryForm.sealType,callback:function(t){e.$set(e.QueryForm,"sealType",t)},expression:"QueryForm.sealType"}},e._l(e.sealType,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{md:12,lg:6}},[a("aui-form-item",{attrs:{prop:"sealModelId",label:"印章编号"}},[a("aui-input",{model:{value:e.QueryForm.sealModelId,callback:function(t){e.$set(e.QueryForm,"sealModelId",t)},expression:"QueryForm.sealModelId"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:6,md:12}},[a("aui-form-item",{attrs:{label:"印章状态",prop:"status"}},[a("aui-select",{attrs:{filterable:""},model:{value:e.QueryForm.status,callback:function(t){e.$set(e.QueryForm,"status",t)},expression:"QueryForm.status"}},e._l(e.status,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")])],1),e._v(" "),a("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-refresh"},on:{click:function(t){e.resetForm("QueryForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("aui-row",[a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"danger",size:"mini",disabled:!e.checkedPost},on:{click:e.checkCheckRefuse}},[e._v("审批拒绝")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",disabled:!e.checkedPost},on:{click:e.clickCheckPass}},[e._v("审批通过")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"danger",size:"mini",disabled:!e.checkedPost},on:{click:e.clickDel}},[e._v("删除印章")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",disabled:!e.checkedPost},on:{click:e.checkShow}},[e._v("预览印章")])],1)],1),e._v(" "),a("aui-table",{ref:"table",staticClass:"tableMarginTop",staticStyle:{"min-height":"390px"},attrs:{data:e.tableData,border:"","highlight-current-row":"","header-row-class-name":"tableHeaderClass"},on:{"selection-change":e.handleCurrentChange}},[a("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"SEALTYPE",label:"印章类型",formatter:e.dataFormat1}}),e._v(" "),a("aui-table-column",{attrs:{prop:"SEALMODELID",label:"印章编号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"SEALMODELDESC",label:"印章名称"}}),e._v(" "),e._e(),e._v(" "),a("aui-table-column",{attrs:{prop:"STATUS",label:"状态",formatter:e.dataFormat2}}),e._v(" "),a("aui-table-column",{attrs:{prop:"STARTDATE",label:"印章启用日"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"CRTELLER",label:"创建柜员"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"CRTDATE",label:"创建日期"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"UPDTELLER",label:"最后维护柜员"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"UPDDATE",label:"最后维护时间"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"AUTHTELLER1",label:"审核柜员1"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"AUTHTIME1",label:"审核时间1"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"AUTHTELLER2",label:"审核柜员2"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"AUTHTIME2",label:"审核时间2"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"REJECTREASON",label:"拒绝原因"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:this.tableData,expression:"this.tableData"}],staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{"current-page":e.currentPage,background:"","page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.changePage}})],1)],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.sealCheckPage,{tag:"component",attrs:{option:e.dialogOptions},on:{refreshTable:e.query}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.sealView,{tag:"component",attrs:{option:e.dialogViewOptions}})],1)],1)},staticRenderFns:[]};var p=a("/Xao")(d,h,!1,function(e){a("w4lA")},"data-v-3865ed0b",null);t.default=p.exports},"YDD+":function(e,t,a){"use strict";var o=a("AA3o"),i=a.n(o);t.a=function e(){i()(this,e),this.data={SEALTYPE:"",SEALMODELID:"",STATUS:"",currpage:1,pagerownum:10,pageflag:4},this.CommCode="PLESeal",this.SceneCode="QryESealMod",this.TransServiceCode="mg-afaservices-paperless/sealCheckquery"}},ehjP:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},"hxO/":function(e,t,a){var o=a("9ov7");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("8bSs")("00bf0c77",o,!0)},w4lA:function(e,t,a){var o=a("ehjP");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("8bSs")("46dd3f7e",o,!0)}});