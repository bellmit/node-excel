webpackJsonp([103],{"1dys":function(e,a,t){(e.exports=t("BkJT")(!1)).push([e.i,"\n.type-info-bottom {\n  margin-top: 10px;\n}\n.box {\n  margin-top: 20px;\n  text-align: right;\n}\n.headerClass {\n  background: #f7f7f7 !important;\n}\n.aui-date-editor.aui-input {\n  width: 100% !important;\n}\n.aui-card {\n  overflow: inherit;\n}\n",""])},L3Dr:function(e,a,t){var r=t("1dys");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("8bSs")("dc8fc5c0",r,!0)},nfwm:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("lC5x"),i=t.n(r),o=t("J0Oq"),n=t.n(o),l=t("syAl"),u=t("tzsN"),s=t("0oES"),m=t("AA3o"),c=t.n(m),d=function e(){c()(this,e),this.data={startTime:"",endTime:"",branchNodeNumList:"",strTradeTypeList:"",account:"",backserialnum:"",custserialnum:""},this.TransServiceCode="AT_ATM_Trade_Search_Manage"},p=t("A8CQ"),b=t("pADA"),f=t("0VOF"),y=(t("1qf8"),{name:"boot-rate-form-manage",components:{selectTree:u.a},data:function(){return{loading:!1,brno:[],tableData:[],tableTotal:0,currentPage:1,pageSize:l.a.get("PageSize"),queryForm:{branchId:"34060000",terminalNum:"",tradeType:[],cardNum:"",hostSerialNum:"",terminalSerialNum:"",sTime:"",eTime:""}}},created:function(){this.initList()},mounted:function(){this.queryForm.sTime=b.a.getNowTime(90),this.queryForm.eTime=b.a.getNowTime(0)},methods:{initList:function(){this.getBranchList()},getBranchList:function(){var e=this;this.loading=!0;var a=new f.a;a.data.branchLevel="2",Object(s.a)(a).then(function(a){e.loading=!1,e.brno=a.RspInfo&&a.RspInfo.resultSet||[],e.queryForm.branchId=e.brno[1].branchNum}).catch(function(a){e.loading=!1,console.error("查询错误",a)})},formatter:function(e,a){console.log(e,a)},clearForm:function(e){this.$refs[""+e].resetFields()},queryModel:function(){var e=this;return n()(i.a.mark(function a(){var t,r,o,n,l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,(t=new d).data.branchNodeNumList=[e.queryForm.branchId],t.data.startTime=e.queryForm.sTime,t.data.endTime=e.queryForm.eTime,t.data.strTradeTypeList=e.queryForm.tradeType,t.data.account=e.queryForm.cardNum,t.data.backserialnum=e.queryForm.hostSerialNum,t.data.custserialnum=e.queryForm.terminalSerialNum,t.data.devNum=e.queryForm.terminalNum,a.next=12,Object(s.a)(t);case 12:if(r=a.sent,e.loading=!1,"000000"==r.SYS_HEAD.ReturnCode){for(l in o=r.RspInfo.resultSet,n=[],o)n.push(o[l]);e.tableData=n,console.log(e.tableData)}else e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+r.SYS_HEAD.ReturnCode+"，错误信息："+r.SYS_HEAD.ReturnMessage});case 15:case"end":return a.stop()}},a,e)}))()},getExcel:function(){var e=this;return n()(i.a.mark(function a(){var t,r;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,(t=new p.a).data.branchNo=e.queryForm.branchId.join(","),t.data.startTime=e.queryForm.sTime,t.data.endTime=e.queryForm.eTime,a.next=7,Object(s.a)(t);case 7:r=a.sent,e.loading=!1,"000000"==r.SYS_HEAD.ReturnCode?e.downloadFile(r.RspInfo.fileName):e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+r.SYS_HEAD.ReturnCode+"，错误信息："+r.SYS_HEAD.ReturnMessage});case 10:case"end":return a.stop()}},a,e)}))()},handleSizeChange:function(){this.queryModel()},handleCurrentChange:function(){this.queryModel()}}}),h={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"boot-rate-form-manage",attrs:{"element-loading-text":"加载中。。。"}},[t("div",[t("aui-card",{staticClass:"type-info-box-card"},[t("aui-form",{ref:"queryForm",attrs:{model:e.queryForm,size:"mini","label-position":"top"}},[t("aui-row",{attrs:{gutter:10}},[t("aui-col",{attrs:{lg:4,md:6}},[t("aui-form-item",{attrs:{label:"机构编号 必输 网点",prop:"branchId"}},[t("aui-select",{attrs:{filterable:"",placeholder:"请选择所属机构号"},model:{value:e.queryForm.branchId,callback:function(a){e.$set(e.queryForm,"branchId",a)},expression:"queryForm.branchId"}},e._l(e.brno,function(e){return t("aui-option",{key:e.branchNum,attrs:{label:e.branchNum+"-"+e.branchName,value:e.branchNum}})}))],1)],1),e._v(" "),t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"交易类型",prop:"tradeType"}},[t("aui-cascader",{attrs:{name:"",options:[{value:"01",label:"存款"},{value:"02",label:"取款"},{value:"03",label:"转账"},{value:"04",label:"查询"}]},model:{value:e.queryForm.tradeType,callback:function(a){e.$set(e.queryForm,"tradeType",a)},expression:"queryForm.tradeType"}})],1)],1),e._v(" "),t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"交易卡号",prop:"cardNum"}},[t("aui-input",{model:{value:e.queryForm.cardNum,callback:function(a){e.$set(e.queryForm,"cardNum",a)},expression:"queryForm.cardNum"}})],1)],1),e._v(" "),t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"主机流水号",prop:"hostSerialNum"}},[t("aui-input",{model:{value:e.queryForm.hostSerialNum,callback:function(a){e.$set(e.queryForm,"hostSerialNum",a)},expression:"queryForm.hostSerialNum"}})],1)],1),e._v(" "),t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"终端流水号",prop:"terminalSerialNum"}},[t("aui-input",{model:{value:e.queryForm.terminalSerialNum,callback:function(a){e.$set(e.queryForm,"terminalSerialNum",a)},expression:"queryForm.terminalSerialNum"}})],1)],1),e._v(" "),t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"终端编号",prop:"terminalNum"}},[t("aui-input",{model:{value:e.queryForm.terminalNum,callback:function(a){e.$set(e.queryForm,"terminalNum",a)},expression:"queryForm.terminalNum"}})],1)],1),e._v(" "),t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"开始日期",prop:"sTime"}},[t("aui-date-picker",{attrs:{"value-format":"yyyyMMdd",type:"date",placeholder:"选择日期"},model:{value:e.queryForm.sTime,callback:function(a){e.$set(e.queryForm,"sTime",a)},expression:"queryForm.sTime"}})],1)],1),e._v(" "),t("aui-col",{attrs:{md:6,lg:4}},[t("aui-form-item",{staticClass:"typeInfo-aui-form-item",attrs:{label:"结束日期",prop:"eTime"}},[t("aui-date-picker",{attrs:{"value-format":"yyyyMMdd",type:"date",placeholder:"选择日期"},model:{value:e.queryForm.eTime,callback:function(a){e.$set(e.queryForm,"eTime",a)},expression:"queryForm.eTime"}})],1)],1),e._v(" "),t("aui-col",{staticClass:"searchBtnMarginTop",attrs:{md:3,lg:2}},[t("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-search"},on:{click:e.queryModel}},[e._v("查询")])],1),e._v(" "),t("aui-col",{staticClass:"searchBtnMarginTop",attrs:{md:3,lg:2}},[t("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(a){e.clearForm("queryForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),t("aui-card",{staticClass:"type-info-bottom"},[t("aui-table",{ref:"tableData",staticClass:"tableMarginTop",attrs:{data:e.tableData,"header-row-class-name":"tableHeaderClass",border:""}},[t("aui-table-column",{attrs:{prop:"卡号",label:"交易卡号"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"卡类型",label:"卡类型"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"交易状态",label:"主机交易状态"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"xxx",label:"终端交易状态"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"主机流水号",label:"主机流水号"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"终端流水号",label:"终端流水号"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"金额",label:"交易金额"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"xxx",label:"手续费"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"返回码",label:"返回码"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"交易日期",label:"交易日期"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"交易时间",label:"交易时间"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"批次号",label:"批次号"}})],1)],1)],1)])},staticRenderFns:[]};var v=t("/Xao")(y,h,!1,function(e){t("L3Dr")},null,null);a.default=v.exports}});