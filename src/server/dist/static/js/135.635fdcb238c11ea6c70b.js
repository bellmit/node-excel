webpackJsonp([135],{beNO:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("0oES"),n=t("syAl"),r=t("AA3o"),l=t.n(r),o=function e(){l()(this,e),this.data={BusiOper:"Q"},this.BusiDataKey="SelectEquipLifeCycel",this.TransServiceCode="ib-dbcomm/dbComm"},s={data:function(){return{pageSize:void 0,currentPage:1,total:0,loading:!1,lifecycleManage:{devNumber:""},tableData:[],devStateMap:{0:"已入库",1:"设备布放申请",2:"设备布放审批",3:"待激活",4:"设备投产",5:"故障状态",6:"报废状态",9:"其他"}}},created:function(){this.pageSize=n.a.get("PageSize")},watch:{lifecycleManage:{handler:function(e,a){this.currentPage=1},deep:!0}},methods:{resetForm:function(e){this.$refs[""+e].resetFields()},changePage:function(e){this.currentPage=e,this.lifecycleQuery()},lifecycleQuery:function(){var e=this;this.loading=!0;var a=new o;a.data.DeviceNum=this.lifecycleManage.devNumber,a.data.CurtPage=this.currentPage+"",a.data.PageSize=this.pageSize+"",a.data.StartRows=(this.currentPage-1)*this.pageSize+"",Object(i.a)(a).then(function(a){e.loading=!1,a.RspInfo.Result?(e.tableData=a.RspInfo.Result||[],e.total=a.RspInfo.totalNum?a.RspInfo.totalNum:0):(e.$aui.message.show({type:"warning",message:"无满足条件得记录！"}),e.tableData=e.tableData=a.RspInfo.Result||[])}).catch(function(a){e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+a.SYS_HEAD.ReturnCode+"，错误信息："+a.SYS_HEAD.ReturnMessage}),e.loading=!1,e.tableData=[],e.total=0,console.error("查询错误",a)})},dataFormat:function(e,a){if("state"==a.property)return this.devStateMap[e[a.property]]}}},c={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中。。。"}},[t("aui-card",{staticStyle:{overflow:"visible"}},[t("aui-form",{ref:"lifecycleManage",attrs:{model:e.lifecycleManage,size:"mini","label-position":"top"}},[t("aui-row",{attrs:{gutter:10}},[t("aui-col",{attrs:{lg:4,md:6}},[t("aui-form-item",{attrs:{label:"设备编号",prop:"devNumber"}},[t("aui-input",{attrs:{placeholder:"请输入设备编号"},model:{value:e.lifecycleManage.devNumber,callback:function(a){e.$set(e.lifecycleManage,"devNumber",a)},expression:"lifecycleManage.devNumber"}})],1)],1),e._v(" "),t("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[t("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-search"},on:{click:e.lifecycleQuery}},[e._v("查询")])],1),e._v(" "),t("aui-col",{staticClass:"searchBtnMarginTop",attrs:{lg:2,md:3}},[t("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(a){e.resetForm("lifecycleManage")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),t("aui-card",{staticStyle:{"margin-top":"10px"}},[t("aui-table",{staticStyle:{},attrs:{data:e.tableData,"header-row-class-name":"tableHeaderClass",border:""}},[t("aui-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"devNum",label:"设备编号"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"state",label:"状态",formatter:e.dataFormat}}),e._v(" "),t("aui-table-column",{attrs:{prop:"devChangeTime",label:"设备变更时间","min-width":"160px"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"operator",label:"操作人员"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"brno",label:"所属机构"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"teller",label:"柜员号"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"devIP",label:"设备IP"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"devInstallAdd",label:"设备安装地址"}}),e._v(" "),t("aui-table-column",{attrs:{prop:"changeDepict",label:"变更描述"}})],1),e._v(" "),t("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[t("aui-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.changePage}})],1)],1)],1)},staticRenderFns:[]};var u=t("/Xao")(s,c,!1,function(e){t("dESe")},null,null);a.default=u.exports},dESe:function(e,a,t){var i=t("u1tn");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("8bSs")("1a48ba0c",i,!0)},u1tn:function(e,a,t){(e.exports=t("BkJT")(!1)).push([e.i,"\n.aui-date-editor.aui-input,\n.aui-date-editor.el-input__inner {\n  width: 100%;\n}\n\n",""])}});