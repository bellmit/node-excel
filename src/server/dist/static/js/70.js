webpackJsonp([70],{"72bc":function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.cardStyle[data-v-26fb77f4] {\n  margin: 5px 0;\n}\n.listEdit[data-v-26fb77f4] {\n  text-align: right;\n}\n.listEdit a[data-v-26fb77f4] {\n    margin: 5px;\n}\n.demo-table-expand .aui-form-item[data-v-26fb77f4] {\n  margin-bottom: 5px;\n}\n.editClass input.el-input__inner[data-v-26fb77f4] {\n  border: none;\n  background: rgba(0, 0, 0, 0) !important;\n}\n.fade-enter-active[data-v-26fb77f4],\n.fade-leave-active[data-v-26fb77f4] {\n  -webkit-transition: opacity 0.6s;\n  transition: opacity 0.6s;\n}\n.fade-enter[data-v-26fb77f4],\n.fade-leave-to[data-v-26fb77f4] {\n  opacity: 0;\n}\n.heightlight[data-v-26fb77f4] {\n  -webkit-box-shadow: 0 2px 12px 0 rgba(177, 208, 244, 0.6);\n          box-shadow: 0 2px 12px 0 rgba(177, 208, 244, 0.6);\n}\n",""])},V4HJ:function(e,t,a){var s=a("jy9O");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("8bSs")("644663c3",s,!0)},fcGJ:function(e,t,a){var s=a("72bc");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("8bSs")("a6f3e11e",s,!0)},jy9O:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},qGwZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("0oES"),i=a("pADA"),d=a("fCv1"),r=a("AA3o"),o=a.n(r),l=function e(){o()(this,e),this.data={EquipModel:"",EquipNo:"",ApplyDate:"",ApplyTime:"",ApplyPerson:"",EquipDesc:"",InstallAddr:"",UserMobile:"",EquipOrg:"",EquipIP:"",UserNo:"",UserName:"",EquipEndTime:"",EquipOffTime:"",EquipStartTime:"",EquipOnTime:"",EquipEffectDate:"",EquipIneffectDate:"",ApplyComment:"",DistrbTypCd:"",InstlTypCd:"",DistrbRegnCd:""},this.CommCode="IBDeviceInfoManage",this.SceneCode="EquipDeployApply",this.TransServiceCode="mg-afaservices-dev/equipDeployApply"},n=a("ocBB"),u=function e(){o()(this,e),this.data={BusiOper:"Q",UserNum:""},this.BusiDataKey="TlrInfo_quy",this.TransServiceCode="ib-dbcomm/dbComm"},p=function e(){o()(this,e),this.data={IpAddress:""},this.BusiDataKey="selIpAddress",this.TransServiceCode="ib-dbcomm/dbComm"},c={props:{devUseData:Object},data:function(){var e=this;return{layoutTypeList:[{value:"1",label:"1-离行"},{value:"2",label:"2-在行"}],installTypeList:[{value:"1",label:"1-大堂"},{value:"2",label:"2-穿墙"}],layoutAreaList:[{value:"1",label:"1-城区"},{value:"2",label:"2-乡镇"}],loading:!1,pickerEffeDate:d.b,devUseAdd:{devicemodel:"",devicenum:"",devicedesc:"",installaddr:"",userphone:"",ascrbranch:"",ipaddr:"",userno:"",usernm:"",endbusihours:"",shuttime:"",startbusihours:"",starttime:"",effedate:"",expidate:"",applycomment:"",DistrbTypCd:"",InstlTypCd:"",DistrbRegnCd:"",teller:""},title:"申请布放",rules:{ipaddr:[{required:!0,message:"请输入设备IP地址",trigger:"blur"},{validator:d.l,trigger:"blur"},{validator:d.g,trigger:"blur"}],userno:[{required:!0,message:"请输入领用用户编号",trigger:"blur"},{validator:d.l,trigger:"blur"}],effedate:[{required:!0,message:"请输入设备领用生效日期",trigger:"change"}],expidate:[{required:!0,message:"请输入设备领用失效日期",trigger:"change"},{validator:function(t,a,s){""==a&&s(),a-e.devUseAdd.effedate>=0?s():s(new Error("失效日期必须大于生效日期"))},trigger:"blur"}],userphone:[{validator:Object(d.h)(11),trigger:"blur"}],devicedesc:[{validator:Object(d.h)(100),trigger:"blur"}],installaddr:[{validator:Object(d.h)(100),trigger:"blur"}],applycomment:[{validator:Object(d.h)(200),trigger:"blur"}],DistrbTypCd:[{required:!0,message:"请输入布局类型",trigger:"change"}],InstlTypCd:[{required:!0,message:"请输入安装类型",trigger:"change"}],DistrbRegnCd:[{required:!0,message:"请输入布局区域",trigger:"change"}],teller:[{max:6,message:"请输入正确柜员号，长度少于6个字符",trigger:"blur"},{validator:d.j,trigger:"blur"}]}}},computed:{isShow:{get:function(){return this.devUseData.isShow},set:function(e){this.devUseData.isShow=e}}},methods:{openDevUse:function(){this.devUseData.isDisabledDevDetail?this.setData(this.devUseData.currentRow.equip_no):(this.devUseAdd.devicemodel=this.devUseData.currentRow.equip_model,this.devUseAdd.devicenum=this.devUseData.currentRow.equip_no,this.devUseAdd.ascrbranch=this.devUseData.currentRow.blngto_org_no)},setData:function(e){var t=this;this.loading=!0;var a=new n.a;a.data.EquipNo=e,Object(s.a)(a).then(function(e){t.loading=!1,e.RspInfo&&(t.devUseAdd.devicemodel=e.RspInfo.EquipModel,t.devUseAdd.devicenum=e.RspInfo.EquipNo,t.devUseAdd.devicedesc=e.RspInfo.EquipDesc,t.devUseAdd.installaddr=e.RspInfo.InstallAddr,t.devUseAdd.userphone=e.RspInfo.UserMobile,t.devUseAdd.ascrbranch=e.RspInfo.EquipOrg,t.devUseAdd.ipaddr=e.RspInfo.EquipIP,t.devUseAdd.userno=e.RspInfo.UserNo,t.devUseAdd.usernm=e.RspInfo.UserName,t.devUseAdd.endbusihours=e.RspInfo.EquipEndTime,t.devUseAdd.shuttime=e.RspInfo.EquipOffTime,t.devUseAdd.startbusihours=e.RspInfo.EquipStartTime,t.devUseAdd.starttime=e.RspInfo.EquipOnTime,t.devUseAdd.effedate=e.RspInfo.EquipEffectDate,t.devUseAdd.expidate=e.RspInfo.EquipIneffectDate,t.devUseAdd.applycomment=e.RspInfo.ApplyComment,t.devUseAdd.DistrbTypCd=e.RspInfo.DistrbTypCd,t.devUseAdd.InstlTypCd=e.RspInfo.InstlTypCd,t.devUseAdd.DistrbRegnCd=e.RspInfo.DistrbRegnCd,t.devUseAdd.teller=e.RspInfo.TellerNo)}).catch(function(e){t.loading=!1,t.$aui.message.show({type:"warning",message:e.SYS_HEAD.ReturnMessage}),console.log(e)})},closeBrand:function(){this.$refs.devUseAdd.clearValidate(),this.$refs.devUseAdd.resetFields()},brandAdd:function(){var e=this;this.$refs.devUseAdd.validate(function(t){if(!t)return e.$aui.message.show({type:"warning",message:"请输入合法的数据！"}),!1;e.loading=!0;var a=new l;a.data.EquipModel=e.devUseAdd.devicemodel,a.data.EquipNo=e.devUseAdd.devicenum,a.data.ApplyDate=i.a.getDateTime("date"),a.data.ApplyTime=i.a.getDateTime("time"),a.data.ApplyPerson=e.$store.getters.BranchNum,a.data.EquipDesc=e.devUseAdd.devicedesc,a.data.InstallAddr=e.devUseAdd.installaddr,a.data.UserMobile=e.devUseAdd.userphone,a.data.EquipOrg=e.devUseAdd.ascrbranch,a.data.EquipIP=e.devUseAdd.ipaddr,a.data.UserNo=e.devUseAdd.userno,a.data.UserName=e.devUseAdd.usernm,a.data.EquipEndTime=e.devUseAdd.endbusihours,a.data.EquipOffTime=e.devUseAdd.shuttime,a.data.EquipStartTime=e.devUseAdd.startbusihours,a.data.EquipOnTime=e.devUseAdd.starttime,a.data.EquipEffectDate=e.devUseAdd.effedate,a.data.EquipIneffectDate=e.devUseAdd.expidate,a.data.ApplyComment=e.devUseAdd.applycomment,a.data.DistrbTypCd=e.devUseAdd.DistrbTypCd,a.data.InstlTypCd=e.devUseAdd.InstlTypCd,a.data.DistrbRegnCd=e.devUseAdd.DistrbRegnCd,a.data.TellerNo=e.devUseAdd.teller,Object(s.a)(a).then(function(t){e.$emit("refreshBrand"),e.loading=!1,e.isShow=!1,e.$aui.message.show({type:"success",message:"设备布放申请成功!"})}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage}),console.log(t)})})},ipAddress:function(){var e=this;this.loading=!0;var t=new p;t.data.IpAddress=this.devUseAdd.ipaddr,Object(s.a)(t).then(function(t){console.log("输出：",t.RspInfo.Result),e.loading=!1,t.RspInfo.Result[0].IpAddress==e.devUseAdd.ipaddr&&(e.$aui.message.show({type:"warning",message:"该ip已被其他设备使用!"}),e.devUseAdd.ipaddr="",e.loading=!1)})},userLoad:function(){var e=this;if(""!=this.devUseAdd.userno){this.loading=!0;var t=new u;t.data.UserNum=this.devUseAdd.userno,Object(s.a)(t).then(function(t){e.loading=!1,e.devUseAdd.usernm=t.RspInfo.Result[0].UserName||""}).catch(function(t){e.devUseAdd.userno="",e.$aui.message.show({type:"warning",message:"用户不存在!"}),e.loading=!1})}}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{visible:e.isShow,title:e.title,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t},hide:e.closeBrand,show:e.openDevUse}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"devUseAdd",attrs:{model:e.devUseAdd,size:"mini",rules:e.rules,"label-position":"right","label-width":"150px"}},[a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备型号:",prop:"devicemodel"}},[a("aui-input",{attrs:{disabled:!0,placeholder:"设备型号"},model:{value:e.devUseAdd.devicemodel,callback:function(t){e.$set(e.devUseAdd,"devicemodel",t)},expression:"devUseAdd.devicemodel"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备编号:",prop:"devicenum"}},[a("aui-input",{attrs:{disabled:!0,placeholder:"设备编号"},model:{value:e.devUseAdd.devicenum,callback:function(t){e.$set(e.devUseAdd,"devicenum",t)},expression:"devUseAdd.devicenum"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备所属机构号:",prop:"ascrbranch"}},[a("aui-input",{attrs:{disabled:!0,placeholder:"设备所属机构号"},model:{value:e.devUseAdd.ascrbranch,callback:function(t){e.$set(e.devUseAdd,"ascrbranch",t)},expression:"devUseAdd.ascrbranch"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备描述:",prop:"devicedesc"}},[a("aui-input",{attrs:{disabled:e.devUseData.isDisabledDevDetail,placeholder:"设备描述"},model:{value:e.devUseAdd.devicedesc,callback:function(t){e.$set(e.devUseAdd,"devicedesc",t)},expression:"devUseAdd.devicedesc"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备IP地址:",prop:"ipaddr"}},[a("aui-input",{attrs:{disabled:e.devUseData.isDisabledDevDetail,placeholder:"设备IP地址"},on:{blur:e.ipAddress},model:{value:e.devUseAdd.ipaddr,callback:function(t){e.$set(e.devUseAdd,"ipaddr",t)},expression:"devUseAdd.ipaddr"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"安装地址:",prop:"installaddr"}},[a("aui-input",{attrs:{disabled:e.devUseData.isDisabledDevDetail,placeholder:"安装地址"},model:{value:e.devUseAdd.installaddr,callback:function(t){e.$set(e.devUseAdd,"installaddr",t)},expression:"devUseAdd.installaddr"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"领用用户编号:",prop:"userno"}},[a("aui-input",{attrs:{disabled:e.devUseData.isDisabledDevDetail,placeholder:"领用用户编号"},on:{blur:e.userLoad},model:{value:e.devUseAdd.userno,callback:function(t){e.$set(e.devUseAdd,"userno",t)},expression:"devUseAdd.userno"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"领用用户手机号:",prop:"userphone"}},[a("aui-input",{attrs:{disabled:e.devUseData.isDisabledDevDetail,placeholder:"领用用户手机号"},model:{value:e.devUseAdd.userphone,callback:function(t){e.$set(e.devUseAdd,"userphone",t)},expression:"devUseAdd.userphone"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"领用用户名称:",prop:"usernm"}},[a("aui-input",{attrs:{disabled:!0,placeholder:"领用用户名称"},model:{value:e.devUseAdd.usernm,callback:function(t){e.$set(e.devUseAdd,"usernm",t)},expression:"devUseAdd.usernm"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"布局类型:",prop:"DistrbTypCd"}},[a("aui-select",{attrs:{placeholder:"请选择布局类型",disabled:e.devUseData.isDisabledDevDetail},model:{value:e.devUseAdd.DistrbTypCd,callback:function(t){e.$set(e.devUseAdd,"DistrbTypCd",t)},expression:"devUseAdd.DistrbTypCd"}},e._l(e.layoutTypeList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"安装类型:",prop:"InstlTypCd"}},[a("aui-select",{attrs:{placeholder:"请选择安装类型",disabled:e.devUseData.isDisabledDevDetail},model:{value:e.devUseAdd.InstlTypCd,callback:function(t){e.$set(e.devUseAdd,"InstlTypCd",t)},expression:"devUseAdd.InstlTypCd"}},e._l(e.installTypeList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"布放区域:",prop:"DistrbRegnCd"}},[a("aui-select",{attrs:{placeholder:"请选择布放区域",disabled:e.devUseData.isDisabledDevDetail},model:{value:e.devUseAdd.DistrbRegnCd,callback:function(t){e.$set(e.devUseAdd,"DistrbRegnCd",t)},expression:"devUseAdd.DistrbRegnCd"}},e._l(e.layoutAreaList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备开始营业时间:",prop:"startbusihours"}},[a("aui-time-picker",{attrs:{"value-format":"HHmmss",disabled:e.devUseData.isDisabledDevDetail,placeholder:"设备开始营业时间"},model:{value:e.devUseAdd.startbusihours,callback:function(t){e.$set(e.devUseAdd,"startbusihours",t)},expression:"devUseAdd.startbusihours"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备结束营业时间:",prop:"endbusihours"}},[a("aui-time-picker",{attrs:{"value-format":"HHmmss",disabled:e.devUseData.isDisabledDevDetail,placeholder:"设备结束营业时间"},model:{value:e.devUseAdd.endbusihours,callback:function(t){e.$set(e.devUseAdd,"endbusihours",t)},expression:"devUseAdd.endbusihours"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备开机时间:",prop:"starttime"}},[a("aui-time-picker",{attrs:{"value-format":"HHmmss",disabled:e.devUseData.isDisabledDevDetail,placeholder:"设备开机时间"},model:{value:e.devUseAdd.starttime,callback:function(t){e.$set(e.devUseAdd,"starttime",t)},expression:"devUseAdd.starttime"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备关机时间:",prop:"shuttime"}},[a("aui-time-picker",{attrs:{"value-format":"HHmmss",disabled:e.devUseData.isDisabledDevDetail,placeholder:"设备关机时间"},model:{value:e.devUseAdd.shuttime,callback:function(t){e.$set(e.devUseAdd,"shuttime",t)},expression:"devUseAdd.shuttime"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备领用生效日期:",prop:"effedate"}},[a("aui-date-picker",{attrs:{type:"date","value-format":"yyyyMMdd",disabled:e.devUseData.isDisabledDevDetail,placeholder:"设备领用生效日期","picker-options":e.pickerEffeDate},model:{value:e.devUseAdd.effedate,callback:function(t){e.$set(e.devUseAdd,"effedate",t)},expression:"devUseAdd.effedate"}})],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"设备领用失效日期:",prop:"expidate"}},[a("aui-date-picker",{attrs:{type:"date","value-format":"yyyyMMdd",disabled:e.devUseData.isDisabledDevDetail,placeholder:"设备领用失效日期","picker-options":e.pickerEffeDate},model:{value:e.devUseAdd.expidate,callback:function(t){e.$set(e.devUseAdd,"expidate",t)},expression:"devUseAdd.expidate"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"机器柜员号:",prop:"teller"}},[a("aui-input",{attrs:{disabled:e.devUseData.isDisabledDevDetail,placeholder:"给设备所分配的柜员"},model:{value:e.devUseAdd.teller,callback:function(t){e.$set(e.devUseAdd,"teller",t)},expression:"devUseAdd.teller"}})],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:20}},[a("aui-col",{attrs:{span:24}},[a("aui-form-item",{attrs:{label:"请求审批说明:",prop:"applycomment"}},[a("aui-input",{attrs:{type:"textarea",rows:2,resize:"none",name:"applycomment",disabled:e.devUseData.isDisabledDevDetail,placeholder:"请求审批说明"},model:{value:e.devUseAdd.applycomment,callback:function(t){e.$set(e.devUseAdd,"applycomment",t)},expression:"devUseAdd.applycomment"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.isShow=!1}}},[e._v("取消")]),e._v(" "),e.devUseData.isDisabledDevDetail?e._e():a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.brandAdd}},[e._v("确认")])],1)],1)])],1)},staticRenderFns:[]};var m=a("/Xao")(c,v,!1,function(e){a("V4HJ")},"data-v-41639ae4",null).exports,b=a("tzsN"),f=a("syAl"),h=a("0VOF"),g=a("zdBp"),D=a("6ATd"),y=a("Yv2U"),A={components:{selectTree:b.a},data:function(){return{isDisabledDevApply:!1,isDisabledDevReject:!1,isDisabledDevDetail:!1,brnoList:[],totalRcrdNum:0,dialogList:{devUseAdd:m},dialogOptions:{isShow:!1,currentRow:[]},queryForm:{PurchCtrtNo:"",ProductModel:"",Producer:"",MaintBuss:"",DeployOrg:[],devId:""},devModel:[],BrandInfoList:[],loading:!1,currentPage:1,currentRow:[]}},created:function(){this.pageSize=f.a.get("PageSize"),this.branchList(),this.devModelInit()},watch:{queryForm:{handler:function(e,t){this.currentPage=1},deep:!0}},methods:{branchList:function(){var e=this;this.loading=!0;var t=new h.a;t.data.orgno=this.$store.getters.BranchNum,Object(s.a)(t).then(function(t){e.loading=!1,e.brnoList=t.RspInfo.Result||[],e.brnoMap=t.RspInfo.orgMap||{},e.brnoList=i.a.formatTreeData(e.brnoList,"orgno","superno")}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"error",message:""+t.SYS_HEAD.ReturnMessage})})},devModelInit:function(){var e=this,t=new g.a;Object(s.a)(t).then(function(t){e.devModel=t.RspInfo.pageList}).catch(function(t){e.$aui.message.show({type:"error",message:""+t.SYS_HEAD.ReturnMessage})})},handleCurrentChangeTable:function(e){this.currentRow=e,1==e.length?"1"==e[0].equip_stus_cd?(this.isDisabledDevApply=!1,this.isDisabledDevReject=!0,this.isDisabledDevDetail=!0):(this.isDisabledDevApply=!0,this.isDisabledDevReject=!1,this.isDisabledDevDetail=!1):e.length>1?this.$refs.dataTypeInfo.toggleRowSelection(e[0]):(this.isDisabledDevApply=!1,this.isDisabledDevReject=!1,this.isDisabledDevDetail=!1)},devApply:function(){this.dialogOptions.isShow=!0,this.dialogOptions.isDisabledDevDetail=!1,this.dialogOptions.currentRow=this.currentRow[0]},devApplyReject:function(){var e=this;this.$aui.confirm.show("此操作将撤回该布放申请，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.devInfoDel()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消撤回"})})},devInfoDel:function(){var e=this;this.loading=!0;var t=new y.a;t.data.EquipNo=this.currentRow[0].equip_no,Object(s.a)(t).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"已撤回布放申请!"}),e.devLayoutQuery()}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"error",message:"撤回布放申请失败"+t.SYS_HEAD.ReturnMessage+"!"})})},devDetail:function(){this.dialogOptions.isShow=!0,this.dialogOptions.isDisabledDevDetail=!0,this.dialogOptions.currentRow=this.currentRow[0]},clearForm:function(e){this.$refs[""+e].resetFields()},changePage:function(e){this.currentPage=e,this.devLayoutQuery()},devLayoutQuery:function(){var e=this;this.loading=!0,this.BrandInfoList=[];var t=new D.a;t.data.DeployStatus="0,1",t.data.PurchCtrtNo=this.queryForm.PurchCtrtNo,t.data.ProductModel=this.queryForm.ProductModel,t.data.Producer=this.queryForm.Producer,t.data.MaintBuss=this.queryForm.MaintBuss,t.data.DeployOrg=this.queryForm.DeployOrg[0],t.data.EquipNo=this.queryForm.devId,t.data.Page=this.currentPage,t.data.PageNum=this.pageSize,Object(s.a)(t).then(function(t){e.loading=!1,t.RspInfo.Result&&(e.BrandInfoList=t.RspInfo.Result||[],e.totalRcrdNum=t.RspInfo.TotalRcdCount||0)}).catch(function(t){e.loading=!1,e.BrandInfoList=[],e.totalRcrdNum=0,e.$aui.message.show({type:"error",message:""+t.SYS_HEAD.ReturnMessage})})},dataFormat:function(e,t){if("equip_stus_cd"==t.property){if("0"==e[t.property])return"已入库";if("1"==e[t.property])return"设备布放申请"}if("blngto_org_no"==t.property)return e[t.property]+"-"+this.brnoMap[e[t.property]]}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dev-brand-manage",attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",[a("aui-form",{ref:"queryForm",attrs:{model:e.queryForm,size:"mini","label-position":"top"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"设备编号",prop:"devId"}},[a("aui-input",{attrs:{placeholder:"请输入设备编号"},model:{value:e.queryForm.devId,callback:function(t){e.$set(e.queryForm,"devId",t)},expression:"queryForm.devId"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"合同编号",prop:"PurchCtrtNo"}},[a("aui-input",{attrs:{placeholder:"请输入合同编号"},model:{value:e.queryForm.PurchCtrtNo,callback:function(t){e.$set(e.queryForm,"PurchCtrtNo",t)},expression:"queryForm.PurchCtrtNo"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"设备型号",prop:"ProductModel"}},[a("aui-select",{attrs:{filterable:!0,clearable:!0,placeholder:"请选择设备型号"},model:{value:e.queryForm.ProductModel,callback:function(t){e.$set(e.queryForm,"ProductModel",t)},expression:"queryForm.ProductModel"}},e._l(e.devModel,function(e){return a("aui-option",{key:e.devicemodel,attrs:{label:e.devicemodel,value:e.devicemodel,disabled:e.disabled}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"生产商",prop:"Producer"}},[a("aui-input",{attrs:{placeholder:"请输入生产商"},model:{value:e.queryForm.Producer,callback:function(t){e.$set(e.queryForm,"Producer",t)},expression:"queryForm.Producer"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"维护商",prop:"MaintBuss"}},[a("aui-input",{attrs:{placeholder:"请输入生产商"},model:{value:e.queryForm.MaintBuss,callback:function(t){e.$set(e.queryForm,"MaintBuss",t)},expression:"queryForm.MaintBuss"}})],1)],1),e._v(" "),a("aui-col",{attrs:{lg:4,md:6}},[a("aui-form-item",{attrs:{label:"布放机构",prop:"DeployOrg"}},[a("select-tree",{staticStyle:{width:"170px"},attrs:{"single-check":!0,props:{id:"orgno",label:"cname",children:"children"},"tree-data":e.brnoList,placeholder:"请选择机构"},model:{value:e.queryForm.DeployOrg,callback:function(t){e.$set(e.queryForm,"DeployOrg",t)},expression:"queryForm.DeployOrg"}})],1)],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("aui-row",[a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"aui-icon-search"},on:{click:e.devLayoutQuery}},[e._v("查询")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"aui-icon-refresh"},on:{click:function(t){e.clearForm("queryForm")}}},[e._v("重置")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",disabled:!e.isDisabledDevApply},on:{click:e.devApply}},[e._v("布放申请")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",disabled:!e.isDisabledDevReject},on:{click:e.devApplyReject}},[e._v("撤回申请")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",disabled:!e.isDisabledDevDetail},on:{click:e.devDetail}},[e._v("查看详情")])],1)],1),e._v(" "),a("aui-table",{ref:"dataTypeInfo",staticClass:"tableMarginTop",attrs:{data:e.BrandInfoList,border:"",width:"100%","header-row-class-name":"tableHeaderClass","highlight-current-row":""},on:{"selection-change":e.handleCurrentChangeTable}},[a("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"equip_no",label:"设备编号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"equip_model",label:"设备型号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"producer",label:"生产商"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"matn_buss",label:"维护商"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"blngto_org_no",label:"布放机构",formatter:e.dataFormat}}),e._v(" "),a("aui-table-column",{attrs:{prop:"purch_ctrt_no",label:"合同编号"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"purch_dt",label:"采购日期"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"accep_dt",label:"到货验收日期"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"equip_ip",label:"IP地址"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"equip_stus_cd",label:"状态",formatter:e.dataFormat}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.totalRcrdNum},on:{"current-change":e.changePage}})],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.devUseAdd,{tag:"component",attrs:{devUseData:e.dialogOptions},on:{refreshBrand:e.devLayoutQuery}})],1)],1)},staticRenderFns:[]};var _=a("/Xao")(A,U,!1,function(e){a("fcGJ")},"data-v-26fb77f4",null);t.default=_.exports}});