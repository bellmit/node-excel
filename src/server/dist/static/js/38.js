webpackJsonp([38],{"0BUv":function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},Buqf:function(e,t,a){var i=a("USv2");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("62238a8c",i,!0)},Tj1Y:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("0oES"),o=a("syAl"),r=a("AA3o"),s=a.n(r),n=function e(){s()(this,e),this.data={CHANELCODE:"",VOUTYPE:"",SCENECODE:"",ISELEPRINT:"",VOUMODELID:"",currpage:1,pagerownum:10,pageflag:4},this.CommCode="PLEVoucher",this.SceneCode="QryBaseVouInfo",this.TransServiceCode="mg-afaservices-paperless/voucherinfoServiceQuery"},l=function e(){s()(this,e),this.data={CHANELCODE:"",currpage:1,pagerownum:100,pageflag:4},this.CommCode="PLEVoucher",this.SceneCode="QryEVouMod",this.TransServiceCode="mg-afaservices-paperless/voucherinfoServicEelecdoc"},u=function e(){s()(this,e),this.data={CHANELCODE:"",VOUTYPE:"",SCENECODE:"",ISELEPRINT:"",ISCONFIRM:"",ISENCRYPT:"",VOUMODELID:"",OPERATETYPE:"1"},this.CommCode="PLEVoucher",this.SceneCode="UpdVouBaseInfo",this.TransServiceCode="mg-afaservices-paperless/vouInfoConfig"},c={data:function(){return{loading:!1,isAble:!1,form:{CHANELCODE:"",VOUTYPE:"",VOUNAME:"",SCENECODE:"",VOUMODELID:"",ISELEPRINT:"",ISENCRYPT:"",ISCONFIRM:""},rules:{CHANELCODE:[{required:!0,message:"请选择系统名称",trigger:"change"}],VOUTYPE:[{required:!0,message:"请选择凭证种类",trigger:"change"}],ISELEPRINT:[{required:!0,message:"凭证类型不能为空",trigger:"change"}],SCENECODE:[{required:!0,message:"交易场景码不能为空",trigger:"change"}]},ISELEPRINT:[{value:"0",label:"纸质凭证"},{value:"1",label:"电子凭证"}],SCENECODE:[{value:"*",label:"通配"}],choseYesOrNo:[{value:"0",label:"否"},{value:"1",label:"是"}],VOUMODELID:[],pageSize:void 0}},created:function(){this.pageSize=o.a.get("PageSize"),this.chanelCodeChange()},props:{option:Object},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}},chanelcodeadd:{get:function(){return this.option.chanelcodeadd},set:function(e){this.option.chanelcodeadd=e,this.form.CHANELCODE=e}}},methods:{itemAddBefore:function(){var e=this;this.$refs.form.validate(function(t){if(t){if(!e.checkRe())return;e.itemAdd()}else e.$aui.message.show({type:"warning",message:"请输入合法的数据！"})})},changeIsPrint:function(){"0"==this.form.ISELEPRINT?(this.isAble=!0,this.form.SCENECODE="*",this.form.ISCONFIRM="",this.form.VOUMODELID="",this.form.ISENCRYPT=""):this.isAble=!1,this.$nextTick(function(){})},clearForm:function(){this.$refs.form.clearValidate(),this.$refs.form.resetFields()},chanelCodeChange:function(){var e=this;this.$data.VOUMODELID=[],this.ReturnCode=!0;var t=new l;t.data.CHANELCODE="",Object(i.a)(t).then(function(t){if(e.loading=!1,t.RspInfo){var a=t.RspInfo.struct;if(a.length>0){for(var i=[],o=0;o<a.length;o++){var r={};r.label=a[o].VOUMODELDESC,r.value=a[o].VOUMODELID,i[o]=r}e.$data.VOUMODELID=i,e.VOUMODELID=i}}}).catch(function(t){e.loading=!1,console.log(t)}),this.$nextTick(function(){})},checkRe:function(){if("1"==this.form.ISELEPRINT){if(""==this.form.ISCONFIRM)return this.$aui.message.show({type:"warning",message:"请选择是否需要客户确认！"}),!1;if(""==this.form.ISENCRYPT)return this.$aui.message.show({type:"warning",message:"请选择是否数字签名！"}),!1;if(""==this.form.VOUMODELID)return this.$aui.message.show({type:"warning",message:"请选择凭证模板！"}),!1}return!0},itemAdd:function(){var e=this;this.loading=!0;var t=new u;t.data.CHANELCODE=this.form.CHANELCODE,t.data.VOUTYPE=this.form.VOUTYPE;for(var a=0;a<this.option.voutypelist.length;a++)if(this.option.voutypelist[a].DataKeyVal==this.form.VOUTYPE){t.data.VOUNAME=this.option.voutypelist[a].Meaning;break}t.data.ISELEPRINT=this.form.ISELEPRINT,t.data.SCENECODE=this.form.SCENECODE,t.data.ISCONFIRM=this.form.ISCONFIRM,t.data.ISENCRYPT=this.form.ISENCRYPT,t.data.VOUMODELID=this.form.VOUMODELID,Object(i.a)(t).then(function(t){e.isShow=!1,e.loading=!1,e.$emit("refreshTable");e.$aui.message.show({type:"success",message:"电子凭证信息新增成功!"})}).catch(function(t){e.isShow=!1,e.loading=!1,e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage})})}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{title:"电子凭证信息新增",visible:e.isShow,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShow=t},hide:e.clearForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"form",attrs:{model:e.form,size:"mini",rules:e.rules,"label-width":"140px","label-position":"right"}},[a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"系统名称:",prop:"CHANELCODE"}},[a("aui-select",{ref:"CHANELCODE",attrs:{filterable:""},model:{value:e.form.CHANELCODE,callback:function(t){e.$set(e.form,"CHANELCODE",t)},expression:"form.CHANELCODE"}},e._l(e.option.appQueryList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.AppNum+"-"+e.AppName,value:e.AppNum}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"凭证种类:",prop:"VOUTYPE"}},[a("aui-select",{ref:"VOUTYPE",attrs:{filterable:""},model:{value:e.form.VOUTYPE,callback:function(t){e.$set(e.form,"VOUTYPE",t)},expression:"form.VOUTYPE"}},e._l(e.option.voutypelist,function(e){return a("aui-option",{key:e.VOUCH_TYP_CD,attrs:{label:e.VOUCH_TYP_CD+"-"+e.VOUCH_TYP_NM,value:e.VOUCH_TYP_CD}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"凭证类型:",prop:"ISELEPRINT"}},[a("aui-select",{ref:"ISELEPRINT",attrs:{filterable:""},on:{change:e.changeIsPrint},model:{value:e.form.ISELEPRINT,callback:function(t){e.$set(e.form,"ISELEPRINT",t)},expression:"form.ISELEPRINT"}},e._l(e.ISELEPRINT,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"是否需要客户确认:",prop:"ISCONFIRM"}},[a("aui-select",{ref:"ISCONFIRM",attrs:{disabled:e.isAble,filterable:""},model:{value:e.form.ISCONFIRM,callback:function(t){e.$set(e.form,"ISCONFIRM",t)},expression:"form.ISCONFIRM"}},e._l(e.choseYesOrNo,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"电子凭证模板:",prop:"VOUMODELID"}},[a("aui-select",{ref:"VOUMODELID",attrs:{disabled:e.isAble,filterable:""},model:{value:e.form.VOUMODELID,callback:function(t){e.$set(e.form,"VOUMODELID",t)},expression:"form.VOUMODELID"}},e._l(e.option.VOUMODELIDLIST,function(e){return a("aui-option",{key:e.VOUMODELID,attrs:{label:e.VOUMODELID+"-"+e.VOUMODELDESC,value:e.VOUMODELID}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"交易场景码:",prop:"SCENECODE"}},[a("aui-select",{ref:"SCENECODE",attrs:{disabled:e.isAble,filterable:""},model:{value:e.form.SCENECODE,callback:function(t){e.$set(e.form,"SCENECODE",t)},expression:"form.SCENECODE"}},e._l(e.SCENECODE,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"是否数字签名:",prop:"ISENCRYPT"}},[a("aui-select",{ref:"ISENCRYPT",attrs:{disabled:e.isAble,filterable:""},model:{value:e.form.ISENCRYPT,callback:function(t){e.$set(e.form,"ISENCRYPT",t)},expression:"form.ISENCRYPT"}},e._l(e.choseYesOrNo,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.option.isShow=!1}}},[e._v("返回")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.itemAddBefore}},[e._v("确定")])],1)],1)])],1)},staticRenderFns:[]};var p=a("/Xao")(c,E,!1,function(e){a("Buqf")},null,null).exports,f=function e(){s()(this,e),this.data={CHANELCODE:"",VOUTYPE:"",SCENECODE:"",ISELEPRINT:"",ISCONFIRM:"",ISENCRYPT:"",VOUMODELID:"",OPERATETYPE:"2"},this.CommCode="PLEVoucher",this.SceneCode="UpdVouBaseInfo",this.TransServiceCode="mg-afaservices-paperless/vouInfoConfig"},h={data:function(){return{loading:!1,isAble:!1,form1:{CHANELCODE:"",VOUTYPE:"",VOUNAME:"",SCENECODE:"",VOUMODELID:"",ISELEPRINT:"",ISENCRYPT:"",ISCONFIRM:""},rules:{ISELEPRINT:[{required:!0,message:"凭证类型不能为空",trigger:"change"}],SCENECODE:[{required:!0,message:"交易场景码不能为空",trigger:"change"}]},ISELEPRINT:[{value:"0",label:"纸质凭证"},{value:"1",label:"电子凭证"}],SCENECODE:[{value:"*",label:"通配"}],choseYesOrNo:[{value:"0",label:"否"},{value:"1",label:"是"}]}},created:function(){},props:{option:Object},computed:{isShow:{get:function(){return this.option.isShow},set:function(e){this.option.isShow=e}}},methods:{changeIsPrint:function(){"0"==this.form1.ISELEPRINT?(this.form1.SCENECODE="*",this.form1.ISCONFIRM="",this.form1.VOUMODELID="",this.form1.ISENCRYPT="",this.isAble=!0):this.isAble=!1},clearForm:function(){this.$refs.form1.clearValidate(),this.$refs.form1.resetFields()},checkSubmit:function(){var e=this;this.$refs.form1.validate(function(t){if(t){if(!e.checkRe())return;e.itemUpdate()}})},checkRe:function(){if("1"==this.form1.ISELEPRINT){if(""==this.form1.ISCONFIRM)return this.$aui.message.show({type:"warning",message:"请选择是否需要客户确认！"}),!1;if(""==this.form1.ISENCRYPT)return this.$aui.message.show({type:"warning",message:"请选择是否数字签名！"}),!1;if(""==this.form1.VOUMODELID)return this.$aui.message.show({type:"warning",message:"请选择凭证模板！"}),!1}return!0},initData:function(){this.form1.CHANELCODE=this.option.currentRow.CHANELCODE,this.form1.VOUTYPE=this.option.currentRow.VOUTYPE,this.form1.SCENECODE=this.option.currentRow.SCENECODE,this.form1.ISELEPRINT=this.option.currentRow.ISELEPRINT,this.form1.ISCONFIRM=this.option.currentRow.ISCONFIRM,this.form1.ISENCRYPT=this.option.currentRow.ISENCRYPT,this.form1.VOUMODELID=this.option.currentRow.VOUMODELID,this.changeIsPrint()},itemUpdate:function(){var e=this;this.loading=!0;var t=new f;t.data.CHANELCODE=this.form1.CHANELCODE,t.data.VOUTYPE=this.form1.VOUTYPE,t.data.VOUNAME=this.option.currentRow.VOUNAME,t.data.ISELEPRINT=this.form1.ISELEPRINT,t.data.SCENECODE=this.form1.SCENECODE,t.data.ISCONFIRM=this.form1.ISCONFIRM,t.data.ISENCRYPT=this.form1.ISENCRYPT,t.data.VOUMODELID=this.form1.VOUMODELID,Object(i.a)(t).then(function(t){e.$emit("refreshTable"),e.isShow=!1,e.loading=!1;e.$aui.message.show({type:"success",message:"电子凭证信息修改成功!"})}).catch(function(t){e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage}),e.isShow=!1,e.loading=!1})}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("aui-dialog",{attrs:{title:"电子凭证信息修改",visible:e.isShow,width:"800px"},on:{"update:visible":function(t){e.isShow=t},show:e.initData,hide:e.clearForm}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("aui-card",[a("aui-form",{ref:"form1",attrs:{model:e.form1,size:"mini",rules:e.rules,"label-width":"140px","label-position":"right"}},[a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"系统名称:",prop:"CHANELCODE"}},[a("aui-select",{ref:"CHANELCODE",attrs:{filterable:"",disabled:""},model:{value:e.form1.CHANELCODE,callback:function(t){e.$set(e.form1,"CHANELCODE",t)},expression:"form1.CHANELCODE"}},e._l(e.option.appQueryList,function(e){return a("aui-option",{key:e.CHNL_CD,attrs:{label:e.CHNL_CD+"-"+e.APP_NM,value:e.CHNL_CD}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"凭证种类:",prop:"VOUTYPE"}},[a("aui-select",{ref:"VOUTYPE",attrs:{filterable:"",disabled:""},model:{value:e.form1.VOUTYPE,callback:function(t){e.$set(e.form1,"VOUTYPE",t)},expression:"form1.VOUTYPE"}},e._l(e.option.voutypelist,function(e){return a("aui-option",{key:e.VOUCH_TYP_CD,attrs:{label:e.VOUCH_TYP_CD+"-"+e.VOUCH_TYP_NM,value:e.VOUCH_TYP_CD}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"凭证类型:",prop:"ISELEPRINT"}},[a("aui-select",{ref:"ISELEPRINT",attrs:{filterable:""},on:{change:e.changeIsPrint},model:{value:e.form1.ISELEPRINT,callback:function(t){e.$set(e.form1,"ISELEPRINT",t)},expression:"form1.ISELEPRINT"}},e._l(e.ISELEPRINT,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"是否需要客户确认:",prop:"ISCONFIRM"}},[a("aui-select",{ref:"ISCONFIRM",attrs:{disabled:e.isAble,filterable:""},model:{value:e.form1.ISCONFIRM,callback:function(t){e.$set(e.form1,"ISCONFIRM",t)},expression:"form1.ISCONFIRM"}},e._l(e.choseYesOrNo,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"电子凭证模板:",prop:"VOUMODELID"}},[a("aui-select",{ref:"VOUMODELID",attrs:{disabled:e.isAble,filterable:""},model:{value:e.form1.VOUMODELID,callback:function(t){e.$set(e.form1,"VOUMODELID",t)},expression:"form1.VOUMODELID"}},e._l(e.option.VOUMODELIDLIST,function(e){return a("aui-option",{key:e.VOUMODELID,attrs:{label:e.VOUMODELID+"-"+e.VOUMODELDESC,value:e.VOUMODELID}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"交易场景码:",prop:"SCENECODE"}},[a("aui-select",{ref:"SCENECODE",attrs:{disabled:""},model:{value:e.form1.SCENECODE,callback:function(t){e.$set(e.form1,"SCENECODE",t)},expression:"form1.SCENECODE"}},e._l(e.SCENECODE,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("aui-row",{attrs:{gutter:40}},[a("aui-col",{attrs:{span:12}},[a("aui-form-item",{attrs:{label:"是否数字签名:",prop:"ISENCRYPT"}},[a("aui-select",{ref:"ISENCRYPT",attrs:{disabled:e.isAble,filterable:""},model:{value:e.form1.ISENCRYPT,callback:function(t){e.$set(e.form1,"ISENCRYPT",t)},expression:"form1.ISENCRYPT"}},e._l(e.choseYesOrNo,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1)],1)],1)],1),e._v(" "),a("aui-row",{staticStyle:{margin:"20px 0","text-align":"right"}},[a("aui-button",{attrs:{size:"mini"},on:{click:function(t){e.option.isShow=!1}}},[e._v("返回")]),e._v(" "),a("aui-button",{attrs:{type:"primary",size:"mini"},on:{click:e.checkSubmit}},[e._v("确定")])],1)],1)])],1)},staticRenderFns:[]};var d=a("/Xao")(h,m,!1,function(e){a("f5Wf")},null,null).exports,O=function e(){s()(this,e),this.data={CHANELCODE:"",VOUTYPE:"",SCENECODE:"",OPERATETYPE:"3"},this.CommCode="PLEVoucher",this.SceneCode="UpdVouBaseInfo",this.TransServiceCode="mg-afaservices-paperless/vouInfoConfig"},C=a("pADA"),v=a("qfSh"),g=a("Arvp"),I={data:function(){return{currentRow:[],tableData:[],appQueryList:[],voutypelist:[],ISELEPRINT:[{value:"0",label:"纸质凭证"},{value:"1",label:"电子凭证"}],SCENECODE:[{value:"*",label:"通配"},{value:"01",label:"场景1"},{value:"02",label:"场景2"},{value:"03",label:"场景3"},{value:"04",label:"场景4"},{value:"05",label:"场景5"},{value:"06",label:"场景6"}],choseYesOrNo:[{value:"0",label:"否"},{value:"1",label:"是"}],VOUMODELIDLIST:[],vModel1:[],vModel5:[],QueryForm:{CHANELCODE:"",VOUTYPE:"",SCENECODE:"",ISELEPRINT:"",voumodelid:""},total:0,loading:!1,checkedPost:!1,dialogList:{vAdd:p,vUpdate:d},dialogOptions:{isShow:!1,chanelcodeadd:"01"},dialogUpdateOptions:{isShow:!1},currentPage:1,pageSize:void 0}},created:function(){this.pageSize=o.a.get("PageSize"),this.loading=!0,this.appQueryInit(),this.vouTypeQueryInit(),this.chanelCodeChange(),this.loading=!1},watch:{QueryForm:{handler:function(e,t){this.currentPage=1},deep:!0}},computed:{},methods:{clickAdd:function(){this.dialogOptions.isShow=!0,this.dialogOptions.appQueryList=this.appQueryList,this.dialogOptions.voutypelist=this.voutypelist,this.dialogOptions.VOUMODELIDLIST=this.VOUMODELIDLIST},clickUpdate:function(){this.dialogUpdateOptions.isShow=!0,this.dialogUpdateOptions.temp1=this.currentRow.CHANELCODE,this.dialogUpdateOptions.temp2=this.currentRow.VOUTYPE,this.dialogUpdateOptions.temp3=this.currentRow.SCENECODE,this.dialogUpdateOptions.temp4=this.currentRow.VOUNAME,this.dialogUpdateOptions.appQueryList=this.appQueryList,this.dialogUpdateOptions.voutypelist=this.voutypelist,this.dialogUpdateOptions.VOUMODELIDLIST=this.VOUMODELIDLIST,this.dialogUpdateOptions.currentRow=this.currentRow},vouTypeQueryInit:function(){var e=this;this.loading=!0;var t=new g.a;Object(i.a)(t).then(function(t){e.loading=!1,e.voutypelist=t.RspInfo.Result||[],console.log("=====",t.RspInfo.Result)}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})})},appQueryInit:function(){var e=this;this.loading=!0;var t=new v.a;t.data.UserNum=this.$store.getters.UserNum,Object(i.a)(t).then(function(t){e.loading=!1,e.appQueryList=t.RspInfo.Result}).catch(function(t){e.loading=!1,e.$aui.message.show({type:"warning",message:t.SYS_HEAD.ReturnMessage})})},resetForm:function(e){this.$refs[""+e].resetFields()},clickDel:function(){var e=this;this.$aui.confirm.show("此操作将永久删除凭证信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.Del()}).catch(function(){e.$aui.message.show({type:"info",message:"已取消删除"})})},changePage:function(e){this.currentPage=e,this.query()},Del:function(){var e=this;this.loading=!0;var t=new O;t.data.CHANELCODE=this.currentRow.CHANELCODE,t.data.VOUTYPE=this.currentRow.VOUTYPE,t.data.SCENECODE=this.currentRow.SCENECODE,Object(i.a)(t).then(function(t){e.loading=!1,e.$aui.message.show({type:"success",message:"该凭证信息删除成功！"}),e.query()}).catch(function(t){e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage}),e.loading=!1,console.log(t)})},query:function(){var e=this;this.loading=!0;var t=new n;t.data.CHANELCODE=this.QueryForm.CHANELCODE,t.data.VOUTYPE=this.QueryForm.VOUTYPE,t.data.VOUMODELID=this.QueryForm.voumodelid,t.data.ISELEPRINT=this.QueryForm.ISELEPRINT,t.data.pagerownum=this.pageSize,t.data.currpage=this.currentPage,Object(i.a)(t).then(function(t){e.loading=!1,t.RspInfo?(e.tableData=t.RspInfo.struct||[],e.total=t.RspInfo.TotalNum||0):(e.loading=!1,e.$aui.message.show({type:"warning",message:"没有满足条件得记录!"}))}).catch(function(t){e.loading=!1,e.tableData=[],e.total=0,e.$aui.message.show({type:"warning",message:"请求失败，错误码:"+t.SYS_HEAD.ReturnCode+"，错误信息："+t.SYS_HEAD.ReturnMessage}),console.log(t)})},chanelCodeChange:function(){var e=this;this.VOUMODELIDLIST=[];var t=new l;Object(i.a)(t).then(function(t){t.RspInfo&&(e.VOUMODELIDLIST=t.RspInfo.struct)}).catch(function(e){console.log(e)}),this.$nextTick(function(){})},handleCurrentChange:function(e){this.currentRow=e[0],1==e.length?this.checkedPost=!0:e.length>1?this.$refs.table.toggleRowSelection(e[0]):this.checkedPost=!1},dataFormat1:function(e,t){for(var a=0;a<this.appQueryList.length;a++)if(this.appQueryList[a].AppNum==e[t.property])return this.appQueryList[a].AppNum+"-"+this.appQueryList[a].AppName},dataFormat2:function(e,t){for(var a=0;a<this.voutypelist.length;a++)if(this.voutypelist[a].VOUCH_TYP_CD==e[t.property])return this.voutypelist[a].VOUCH_TYP_CD+"-"+this.voutypelist[a].VOUCH_TYP_NM},dataFormat3:function(e,t){for(var a=0;a<this.ISELEPRINT.length;a++)if(this.ISELEPRINT[a].value==e[t.property])return this.ISELEPRINT[a].value+"-"+this.ISELEPRINT[a].label},dataFormat4:function(e,t){if(e[t.property])return C.a.timestampToTime2(e[t.property])},dataFormat5:function(e,t){for(var a=0;a<this.choseYesOrNo.length;a++)if(this.choseYesOrNo[a].value==e[t.property])return this.choseYesOrNo[a].value+"-"+this.choseYesOrNo[a].label},dataFormat6:function(e,t){for(var a=0;a<this.choseYesOrNo.length;a++)if(this.choseYesOrNo[a].value==e[t.property])return this.choseYesOrNo[a].value+"-"+this.choseYesOrNo[a].label},dataFormat7:function(e,t){for(var a=0;a<this.VOUMODELIDLIST.length;a++)if(this.VOUMODELIDLIST[a].VOUMODELID==e[t.property])return this.VOUMODELIDLIST[a].VOUMODELID+"-"+this.VOUMODELIDLIST[a].VOUMODELDESC}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中。。。"}},[a("aui-card",[a("aui-form",{ref:"QueryForm",attrs:{model:e.QueryForm,size:"mini","label-position":"top"}},[a("aui-row",{attrs:{gutter:10}},[a("aui-col",{attrs:{lg:6,md:12}},[a("aui-form-item",{attrs:{label:"系统名称",prop:"CHANELCODE"}},[a("aui-select",{attrs:{filterable:""},model:{value:e.QueryForm.CHANELCODE,callback:function(t){e.$set(e.QueryForm,"CHANELCODE",t)},expression:"QueryForm.CHANELCODE"}},e._l(e.appQueryList,function(e){return a("aui-option",{key:e.value,attrs:{label:e.AppNum+"-"+e.AppName,value:e.AppNum}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{md:12,lg:6}},[a("aui-form-item",{attrs:{prop:"voumodelid",label:"凭证模板编号"}},[a("aui-select",{attrs:{filterable:""},model:{value:e.QueryForm.voumodelid,callback:function(t){e.$set(e.QueryForm,"voumodelid",t)},expression:"QueryForm.voumodelid"}},e._l(e.VOUMODELIDLIST,function(e){return a("aui-option",{key:e.VOUMODELID,attrs:{label:e.VOUMODELID+"-"+e.VOUMODELDESC,value:e.VOUMODELID}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:6,md:12}},[a("aui-form-item",{attrs:{label:"凭证种类",prop:"VOUTYPE"}},[a("aui-select",{attrs:{filterable:""},model:{value:e.QueryForm.VOUTYPE,callback:function(t){e.$set(e.QueryForm,"VOUTYPE",t)},expression:"QueryForm.VOUTYPE"}},e._l(e.voutypelist,function(e){return a("aui-option",{key:e.VOUCH_TYP_CD,attrs:{label:e.VOUCH_TYP_CD+"-"+e.VOUCH_TYP_NM,value:e.VOUCH_TYP_CD}})}))],1)],1),e._v(" "),a("aui-col",{attrs:{lg:6,md:12}},[a("aui-form-item",{attrs:{label:"凭证类型",prop:"ISELEPRINT"}},[a("aui-select",{attrs:{filterable:""},model:{value:e.QueryForm.ISELEPRINT,callback:function(t){e.$set(e.QueryForm,"ISELEPRINT",t)},expression:"QueryForm.ISELEPRINT"}},e._l(e.ISELEPRINT,function(e){return a("aui-option",{key:e.value,attrs:{label:e.value+"-"+e.label,value:e.value}})}))],1)],1)],1)],1)],1),e._v(" "),a("aui-card",{staticStyle:{"margin-top":"10px"}},[a("aui-row",[a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-refresh"},on:{click:function(t){e.resetForm("QueryForm")}}},[e._v("重置")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",disabled:e.checkedPost},on:{click:e.clickAdd}},[e._v("新增")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",disabled:!e.checkedPost},on:{click:e.clickUpdate}},[e._v("修改")])],1),e._v(" "),a("aui-col",{attrs:{lg:2,md:3}},[a("aui-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",disabled:!e.checkedPost},on:{click:e.clickDel}},[e._v("删除")])],1)],1),e._v(" "),a("aui-table",{ref:"table",staticClass:"tableMarginTop",staticStyle:{"min-height":"390px"},attrs:{data:e.tableData,border:"","highlight-current-row":"","header-row-class-name":"tableHeaderClass"},on:{"selection-change":e.handleCurrentChange}},[a("aui-table-column",{attrs:{type:"selection",width:"40px"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"CHANELCODE",label:"系统名称",formatter:e.dataFormat1}}),e._v(" "),a("aui-table-column",{attrs:{prop:"VOUTYPE",label:"凭证种类",formatter:e.dataFormat2}}),e._v(" "),a("aui-table-column",{attrs:{prop:"VOUMODELID",label:"电子凭证模板",formatter:e.dataFormat7}}),e._v(" "),a("aui-table-column",{attrs:{prop:"ISELEPRINT",label:"凭证类型",formatter:e.dataFormat3}}),e._v(" "),a("aui-table-column",{attrs:{prop:"ISCONFIRM",label:"是否需要客户确认",formatter:e.dataFormat5}}),e._v(" "),a("aui-table-column",{attrs:{prop:"ISENCRYPT",label:"是否数字签名",formatter:e.dataFormat6}}),e._v(" "),a("aui-table-column",{attrs:{prop:"CRTTELRNO",label:"创建柜员"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"CRTDT",label:"创建日期"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"MATNTELRNO",label:"最后维护柜员"}}),e._v(" "),a("aui-table-column",{attrs:{prop:"MATNDT",label:"最后维护日期"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:this.tableData,expression:"this.tableData"}],staticStyle:{"text-align":"right","margin-top":"20px"}},[a("aui-pagination",{attrs:{"current-page":e.currentPage,background:"","page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.changePage}})],1)],1)],1),e._v(" "),a("keep-alive",[a(e.dialogList.vAdd,{tag:"component",attrs:{option:e.dialogOptions},on:{refreshTable:e.query}})],1),e._v(" "),a("keep-alive",[a(e.dialogList.vUpdate,{tag:"component",attrs:{option:e.dialogUpdateOptions},on:{refreshTable:e.query}})],1)],1)},staticRenderFns:[]};var S=a("/Xao")(I,D,!1,function(e){a("qivl")},"data-v-2dd0fd25",null);t.default=S.exports},USv2:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])},f5Wf:function(e,t,a){var i=a("0BUv");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("710df582",i,!0)},qivl:function(e,t,a){var i=a("tvpR");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("3db52166",i,!0)},tvpR:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"",""])}});